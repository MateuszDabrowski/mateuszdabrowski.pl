"use strict";(self.webpackChunkmd=self.webpackChunkmd||[]).push([[7475],{2208:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var s=n(4848),i=n(8453),o=n(6748);const a={id:"js-if-and-switch",title:"JS If & Switch",sidebar_label:"If & Switch",description:"Deep dive into the two pillars of JavaScript flow control.",image:"img/og/og-image-js-if-and-switch.png",tags:["JavaScript"]},r=void 0,l={id:"js/js-if-and-switch",title:"JS If & Switch",description:"Deep dive into the two pillars of JavaScript flow control.",source:"@site/docs/js/js-if-and-switch.mdx",sourceDirName:"js",slug:"/js/js-if-and-switch",permalink:"/docs/js/js-if-and-switch",draft:!1,unlisted:!1,editUrl:"https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/js/js-if-and-switch.mdx",tags:[{inline:!0,label:"JavaScript",permalink:"/docs/tags/java-script"}],version:"current",lastUpdatedBy:"Mateusz D\u0105browski",lastUpdatedAt:1630274625e3,frontMatter:{id:"js-if-and-switch",title:"JS If & Switch",sidebar_label:"If & Switch",description:"Deep dive into the two pillars of JavaScript flow control.",image:"img/og/og-image-js-if-and-switch.png",tags:["JavaScript"]},sidebar:"docs",previous:{title:"JavaScript",permalink:"/docs/category/javascript"},next:{title:"Loops",permalink:"/docs/js/js-loops"}},c={},d=[{value:"If Statements",id:"if-statements",level:2},{value:"And, Or, Brackets",id:"and-or-brackets",level:3},{value:"Boolean evaluation",id:"boolean-evaluation",level:3},{value:"Flip Booleans with Bang",id:"flip-booleans-with-bang",level:3},{value:"If Shorthand",id:"if-shorthand",level:3},{value:"Ternary",id:"ternary",level:2},{value:"Shortcircuiting",id:"shortcircuiting",level:2},{value:"Shortcircuiting OR",id:"shortcircuiting-or",level:3},{value:"Shortcircuiting AND",id:"shortcircuiting-and",level:3},{value:"Switch Statement",id:"switch-statement",level:2}];function h(e){const t={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.U,{content:"Deep dive into the two pillars of JavaScript flow control"}),"\n",(0,s.jsx)(t.h2,{id:"if-statements",children:"If Statements"}),"\n",(0,s.jsxs)(t.p,{children:["The most popular way of handling conditional logic is with the ",(0,s.jsx)(t.code,{children:"if"})," statement. It is universal, flexible, and easy to understand. By evaluating a condition, it allows your script to either execute or omit part of the code."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{2} title="Create a segment of customers that made more than two purchases"',children:"for (let customer of customers) {\n    if (customer.purchases > 2) {\n        marketingSegment.push(customer.email);\n    }\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Basic ",(0,s.jsx)(t.code,{children:"if"})," can be extended by adding optional ",(0,s.jsx)(t.code,{children:"else if"})," for an additional condition with the different outcome or optional ",(0,s.jsx)(t.code,{children:"else"})," for all scenarios not caught by above conditions."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{2,4,6} title="Create multiple segments for different levels of customers"',children:"for (let customer of customers) {\n    if (customer.purchases > 10) {\n        goldCustomerSegment.push(customer.email);\n    } else if (customer.purchases > 5) {\n        silverCustomerSegment.push(customer.email);\n    } else {\n        bronzeCustomerSegment.push(customer.email);\n    }\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"and-or-brackets",children:"And, Or, Brackets"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"if"})," statement is even more powerful if you enhance your conditions with the ORs (",(0,s.jsx)(t.code,{children:"||"}),"), ANDs (",(0,s.jsx)(t.code,{children:"&&"}),") and brackets:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{2,4} title="Split customers into two segments depending on a condition group"',children:"for (let customer of customers) {\n    if (customer.purchases <=2 || customer.lastPurchaseDate <= new Date('2019-12-31')) {\n        reengagementCampaignSegment.push(customer);\n    } else if (customer.purchases > 2 && customer.lastPurchaseDate > new Date('2019-12-31')) {\n        upsellCampaignSegment.push(customer);\n    }\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"boolean-evaluation",children:"Boolean evaluation"}),"\n",(0,s.jsx)(t.p,{children:"You can use boolean values of variables/methods/functions to omit the operator in your condition and make the code more readable."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{3} title="If the customer has domain of your competiton, add him to blocklist"',children:"for (let customer of customers) {\n    const competitionUser = customer.email.includes('@competition.com');\n    if (competitionUser) {  // if comptetitionUser is true, block will be exectuted\n        blocklist.push(customer);\n    }\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"flip-booleans-with-bang",children:"Flip Booleans with Bang"}),"\n",(0,s.jsxs)(t.p,{children:["Bang symbol (",(0,s.jsx)(t.code,{children:"!"}),") can be used to flip the value of a boolean:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{3} title="If the customer does not have competition domain in email, add him to campaign"',children:"for (let customer of customers) {\n    const competitionUser = customer.email.includes('@competition.com');\n    if (!competitionUser) {  // if not competition user, execute content\n        campaignSegment.push(customer);\n    }\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Bang not only functions as a NOT operator but also changes truthy and falsy values into an (opposite) boolean."}),"\n",(0,s.jsxs)(t.p,{children:["Falsy values in JavaScript are: ",(0,s.jsx)(t.code,{children:"false"}),", ",(0,s.jsx)(t.code,{children:"0"}),", empty string ",(0,s.jsx)(t.code,{children:'""'}),", ",(0,s.jsx)(t.code,{children:"null"}),", ",(0,s.jsx)(t.code,{children:"undefined"}),", ",(0,s.jsx)(t.code,{children:"NaN"}),".\nAll other possible values are considered truthy."]}),"\n",(0,s.jsx)(t.p,{children:"This is very useful, as it allows you to leverage boolean evaluation on truthy values:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{3} title="Applies either personalized name or default value"',children:"for (let customer of customers) {\n    let helloPersonalization;\n    if (customer.firstName) { // if customer.firstName has characters, it is truthy\n        helloPersonalization = customer.firstName;\n    } else if (!customer.firstName) { // if it does not have any characterrs, it will be falsy\n        helloPersonalization = 'Valued Customer';\n    }\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:['To make it clear - above code is very "dirty" and can be written much better (for example without ',(0,s.jsx)(t.code,{children:"else if"})," by applying default value on variable initialization). You will find an example of how to write it better later."]}),"\n",(0,s.jsxs)(t.admonition,{title:"You Should Know",type:"note",children:[(0,s.jsxs)(t.p,{children:["You can level up the use of this feature by leveraging double bang ",(0,s.jsx)(t.code,{children:"!!"})," to convert truthy/falsy value into an (appropriate) boolean."]}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="If optInDate has any value (is not empty) the isOptedIn variable will evaluate to true"',children:"const isOptedIn = !!optInDate;\n"})})]}),"\n",(0,s.jsx)(t.h3,{id:"if-shorthand",children:"If Shorthand"}),"\n",(0,s.jsxs)(t.p,{children:["For simple, one-line ",(0,s.jsx)(t.code,{children:"if"})," statements, there is also a one-line shorthand:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="If the customer is opted in, send an email"',children:"if (isOptedIn) sendEmail(emailAddress, emailID);\n"})}),"\n",(0,s.jsxs)(t.p,{children:["You could probably use simple ",(0,s.jsx)(t.code,{children:"if"})," statements for the whole logic of your code. But you shouldn't. There are some interesting and useful options worth checking out."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"ternary",children:"Ternary"}),"\n",(0,s.jsxs)(t.p,{children:["If a simple ",(0,s.jsx)(t.code,{children:"if"})," statement has only two possible outcomes depending on a condition, ternary is more straightforward and readable alternative. Based on previous example, instead of:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:"{2-7} title=\"Dirty if statement using basic 'if'\"",children:"for (let customer of customers) {\n    let helloPersonalization = 'Hello ';\n    if (customer.firstName) {\n        helloPersonalization += customer.firstName;\n    } else if (!customer.firstName) {\n        helloPersonalization += 'Valued Customer';\n    }\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"we can use a clean ternary:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{2} title="Same logic changed to a clean ternary"',children:"for (let customer of customers) {\n    let helloPersonalization = customer.firstName ? 'Hello ' + customer.firstName : 'Hello Valued Customer';\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Instead of 6 lines of code, we have 1. Awesome! But how does it work? The ternary structure looks like this: ",(0,s.jsx)(t.code,{children:"variable = condition ? valueIfTrue : valueIfFalse;"}),". So in the example above, if the ",(0,s.jsx)(t.code,{children:"customer.firstName"})," is not empty (is truthy), it will be pushed as the value of ",(0,s.jsx)(t.code,{children:"helloPersonalization"}),". If it is empty, the default value will be assigned instead."]}),"\n",(0,s.jsxs)(t.admonition,{title:"You Should Know",type:"note",children:[(0,s.jsxs)(t.p,{children:["The ternary has more uses not than just the standard ",(0,s.jsx)(t.code,{children:"if"})," statement. It is awesome text customization with interpolation:"]}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="Fill in the sentence with different words depending on boolean value of isOptedIn"',children:"const optInStatusMessage = `You are ${isOptedIn ? 'opted in' : 'not opted in'}`;\n"})}),(0,s.jsx)(t.p,{children:"Ternaries are not limited to variables and strings. They can also run functions:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="If isLoggedIn is false, the redirectToLogInPage function will be executed"',children:"!isLoggedIn ? redirectToLogInPage() : null;\n"})})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"shortcircuiting",children:"Shortcircuiting"}),"\n",(0,s.jsxs)(t.p,{children:["We already covered using OR ",(0,s.jsx)(t.code,{children:"||"})," + AND ",(0,s.jsx)(t.code,{children:"&&"})," operators. But by using them correctly, you can optimize the speed of your scripts greatly."]}),"\n",(0,s.jsx)(t.h3,{id:"shortcircuiting-or",children:"Shortcircuiting OR"}),"\n",(0,s.jsxs)(t.p,{children:["OR evaluates to ",(0,s.jsx)(t.code,{children:"true"})," if ",(0,s.jsx)(t.em,{children:"at least one"})," value is equal to ",(0,s.jsx)(t.code,{children:"true"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["If the left side of the OR evaluates to ",(0,s.jsx)(t.code,{children:"true"}),", we know for sure that the whole statement is ",(0,s.jsx)(t.code,{children:"true"}),". Checking the value of the right side is not needed. And JavaScript knows this too."]}),"\n",(0,s.jsx)(t.p,{children:"Thanks to it, if we want to use an OR statement and we suspect that one side is much faster than the other, we should use it on the left side."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{2} title="If last purchase was before 2020 or a very complex check requiring calls to eCommerce API evaluates to false, filter out the customer from the campaign"',children:"for (let customer of customers) {\n    if (customer.lastPurchaseDate < new Date('2019-12-31') || complexRequestToEcommerceAPI() === false) {\n        exclusionSegment.push(customer)\n    }\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Left side in the above example is a straightforward and quick check, as all parts of the condition are already within the script. The right side, however, might take seconds to get the data from other system and calculate the value. If the ",(0,s.jsx)(t.code,{children:"lastPurchaseDate"})," is before our threshold, we don't have to waste time and API calls. A win for us, and a win for the customer waiting for the script to finish."]}),"\n",(0,s.jsx)(t.h3,{id:"shortcircuiting-and",children:"Shortcircuiting AND"}),"\n",(0,s.jsxs)(t.p,{children:["Similar logic can be applied to AND operator. ",(0,s.jsx)(t.code,{children:"&&"})," evaluates to ",(0,s.jsx)(t.code,{children:"true"})," only if ",(0,s.jsx)(t.em,{children:"both sides"})," are ",(0,s.jsx)(t.code,{children:"true"}),". If we have a more straightforward condition or we suspect it might frequently evaluate to ",(0,s.jsx)(t.code,{children:"false"}),", we should put it on the left side. If it ends up being falsy, JavaScript won't be checking the right side of the AND operator."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{1} title="If the email provided for login is in correct format, check if password has required length. Once validated, check if this login and password are matching pair for a user. Only then consider the login to be valid"',children:"if (isValidEmail(login) && isValidPassword(password) && isValidPair(email, password)) {\n    const isLoggedIn = true;\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"In the above example, we are doing multiple tests ordered from the easiest to the hardest. Thanks to it, if the login is not in the correct format for an email address, we won't have even to check the password or query our encrypted database with a hashed version of the password."}),"\n",(0,s.jsxs)(t.admonition,{title:"You Should Know",type:"note",children:[(0,s.jsx)(t.p,{children:"Using shortcircuit is a quite popular pattern, especially for managing user interface components:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="If the user is not an admin, shortcircuit and don\'t render the AdminBar component"',children:"isAdmin && showAdminBar()\n"})})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"switch-statement",children:"Switch Statement"}),"\n",(0,s.jsxs)(t.p,{children:["Sometimes you have many options for a single condition. You could write it with a simple ",(0,s.jsx)(t.code,{children:"if"}),", but the ",(0,s.jsx)(t.code,{children:"switch"})," might be much more readable than a long list of ",(0,s.jsx)(t.code,{children:"else if"})," statements with nearly identical conditions."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="Return the error type based on the code"',children:"function errorDescription(error) {\n    switch (error.code) {\n        case 400:\n            return 'Bad Request';\n        case 401:\n            return 'Unauthorized';\n        case 403:\n            return 'Forbidden';\n        case 404:\n            return 'Not Found'\n        default:\n            return 'Unknown Error';\n    }\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Some things to remember when working with a ",(0,s.jsx)(t.code,{children:"switch"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If multiple cases fulfil the condition, a ",(0,s.jsx)(t.code,{children:"switch"})," will execute the first from the top."]}),"\n",(0,s.jsx)(t.li,{children:"You can assign multiple cases to the same code block:"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'{3-5,8-9} title="Return either sum or difference of two values (sum by default)"',children:"let outcome;\nswitch (a, operation, b) {\n    default:\n    case '+':\n    case 'plus':\n        outcome = a + b;\n        break;\n    case '-':\n    case 'minus':\n        outcome = a - b;\n        break;\n}\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Use either ",(0,s.jsx)(t.code,{children:"break"})," statement to end each case or use the ",(0,s.jsx)(t.code,{children:"return"})," statement if in function. Otherwise, the switch will also execute all below cases until it encounters one of the above keywords (or hits the last scenario). Of course, there might be some edge scenarios where you want this exact behaviour to happen."]}),"\n",(0,s.jsxs)(t.li,{children:["Always use ",(0,s.jsx)(t.code,{children:"default"})," statement, even if you believe it will never be triggered (not required, but best practice). Use it to handle the scenario you haven't considered."]}),"\n",(0,s.jsxs)(t.li,{children:["Cases in a ",(0,s.jsx)(t.code,{children:"switch"})," are using strict comparison (",(0,s.jsx)(t.code,{children:"==="}),") for evaluation, so the provided value must match the case not only by value but also by type. A string value of ",(0,s.jsx)(t.code,{children:"'0'"})," won't trigger an integer ",(0,s.jsx)(t.code,{children:"0"})," case."]}),"\n"]}),"\n",(0,s.jsxs)(t.admonition,{title:"You Should Know",type:"note",children:[(0,s.jsx)(t.p,{children:"By default, the switch statement is a single block for the scope. If you, however, want to declare variables of the same name in different cases, you can do it by adding parentheses:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:"{4,7,9,12} title=\"Despite 'outcome' variable being initialized twice with 'let', it will not drop an error because of two different block scopes\"",children:"switch (a, operation, b) {\n    default:\n    case '+':\n    case 'plus': {\n        let outcome = a + b;\n        break;\n    }\n    case '-':\n    case 'minus': {\n        let outcome = a - b;\n        break;\n    }\n}\n"})})]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},6748:(e,t,n)=>{n.d(t,{U:()=>o});n(6540);const s="leadText_qzwo";var i=n(4848);const o=e=>{let{content:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("p",{id:s,children:t})})}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(6540);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);