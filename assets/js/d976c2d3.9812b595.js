"use strict";(self.webpackChunkmd=self.webpackChunkmd||[]).push([[8065],{7227:(e,n,s)=>{s.d(n,{A:()=>i});s(96540);var r=s(34164);const l={tabItem:"tabItem_Ymn6"};var t=s(74848);function i({children:e,hidden:n,className:s}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,r.A)(l.tabItem,s),hidden:n,children:e})}},16452:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>a,default:()=>j,frontMatter:()=>o,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"salesforce/marketing-cloud-engagement/sql/sql-aggregate-functions","title":"SFMC SQL Aggregate Functions","description":"Group rows and apply aggregate functions to see the big picture in your data extensions.","source":"@site/docs/salesforce/marketing-cloud-engagement/sql/sql-aggregate-functions.mdx","sourceDirName":"salesforce/marketing-cloud-engagement/sql","slug":"/salesforce/marketing-cloud-engagement/sql/sql-aggregate-functions","permalink":"/docs/salesforce/marketing-cloud-engagement/sql/sql-aggregate-functions","draft":false,"unlisted":false,"editUrl":"https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/salesforce/marketing-cloud-engagement/sql/sql-aggregate-functions.mdx","tags":[{"inline":true,"label":"Salesforce","permalink":"/docs/tags/salesforce"},{"inline":true,"label":"Marketing Cloud Engagement","permalink":"/docs/tags/marketing-cloud-engagement"},{"inline":true,"label":"Marketing Automation","permalink":"/docs/tags/marketing-automation"},{"inline":true,"label":"SQL","permalink":"/docs/tags/sql"}],"version":"current","lastUpdatedBy":"Mateusz D\u0105browski","lastUpdatedAt":1757943250000,"frontMatter":{"id":"sql-aggregate-functions","title":"SFMC SQL Aggregate Functions","sidebar_label":"Aggregate Functions","description":"Group rows and apply aggregate functions to see the big picture in your data extensions.","image":"img/og/og-image-sf-mce-sql-aggregate-functions.png","tags":["Salesforce","Marketing Cloud Engagement","Marketing Automation","SQL"]},"sidebar":"docs","previous":{"title":"Conversion Functions","permalink":"/docs/salesforce/marketing-cloud-engagement/sql/sql-conversion-functions"},"next":{"title":"Null Functions","permalink":"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions"}}');var l=s(74848),t=s(28453),i=s(49489),c=s(7227),d=s(46748);const o={id:"sql-aggregate-functions",title:"SFMC SQL Aggregate Functions",sidebar_label:"Aggregate Functions",description:"Group rows and apply aggregate functions to see the big picture in your data extensions.",image:"img/og/og-image-sf-mce-sql-aggregate-functions.png",tags:["Salesforce","Marketing Cloud Engagement","Marketing Automation","SQL"]},a=void 0,h={},u=[{value:"GROUP BY",id:"group-by",level:2},{value:"GROUP BY ROLLUP",id:"group-by-rollup",level:3},{value:"GROUP BY CUBE",id:"group-by-cube",level:3},{value:"COUNT",id:"count",level:2},{value:"COUNT *, ALL and DISTINCT",id:"count--all-and-distinct",level:3},{value:"HAVING",id:"having",level:2},{value:"HAVING vs WHERE",id:"having-vs-where",level:3},{value:"MIN and MAX",id:"min-and-max",level:2},{value:"AVG",id:"avg",level:2},{value:"SUM",id:"sum",level:2}];function x(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.U,{content:"Group rows and apply aggregate functions to see the big picture in your data."}),"\n",(0,l.jsx)(n.h2,{id:"group-by",children:"GROUP BY"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"GROUP BY"})," allows you to create aggregation by grouping the input data on selected column(s)."]}),"\n",(0,l.jsxs)(n.p,{children:["It limits the data you can ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select",children:(0,l.jsx)(n.code,{children:"SELECT"})})," to either ",(0,l.jsx)(n.code,{children:"GROUP BY"})," column(s) or aggregate functions."]}),"\n",(0,l.jsx)(n.p,{children:"Let's say you want to check which email domains are most popular in your database."}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:"{5}",children:"SELECT\n      Domain\n    , COUNT(*) AS SubscriberCount\nFROM _Subscribers\nGROUP BY Domain\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"SubscriberCount"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"mateuszdabrowski.pl"}),(0,l.jsx)(n.td,{children:"1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"1234"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"987"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"1111"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"..."}),(0,l.jsx)(n.td,{children:"..."})]})]})]})})]}),"\n",(0,l.jsxs)(n.p,{children:["With this simple query, you have all subscribers grouped by their domain with the number of matching rows thanks to the ",(0,l.jsx)(n.a,{href:"#count",children:(0,l.jsx)(n.code,{children:"COUNT"})})," function."]}),"\n",(0,l.jsxs)(n.p,{children:["You can quickly improve this query by limiting the records with ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select#top",children:(0,l.jsx)(n.code,{children:"TOP"})})," and sorting ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select#top-with-order-by",children:(0,l.jsx)(n.code,{children:"ORDER BY"})})," to leverage Pareto's principle and pick 20% of the records responsible for 80% of the results. In this case - 20% domains covering approximately 80% subscribers."]}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:"{5}",children:"SELECT TOP 20 PERCENT\n      Domain\n    , COUNT(*) AS SubscriberCount\nFROM _Subscribers\nGROUP BY Domain\nORDER BY COUNT(*) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"SubscriberCount"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"1234"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"1111"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"987"})]})]})]})})]}),"\n",(0,l.jsx)(n.p,{children:"With such data, you can assess your mailing list and decide, for example, whether using AMP for Email will be worth the effort for your business."}),"\n",(0,l.jsxs)(n.p,{children:["It is, however, just the beginning of what you can do with ",(0,l.jsx)(n.code,{children:"GROUP BY"}),". The real magic happens with multiple columns used for the grouping."]}),"\n",(0,l.jsxs)(n.p,{children:["Let's check how the domain numbers are changing in years with the help of the ",(0,l.jsxs)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/config/system-data-views#_subscribers",children:[(0,l.jsx)(n.code,{children:"DATEPART"})," function"]}),"."]}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:"{6-8}",children:"SELECT TOP 20 PERCENT\n      Domain\n    , DATEPART(YEAR, DateJoined) AS YearJoined\n    , COUNT(*) AS SubscriberCount\nFROM _Subscribers\nGROUP BY\n      Domain\n    , DATEPART(YEAR, DateJoined)\nORDER BY COUNT(*) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"YearJoined"}),(0,l.jsx)(n.th,{children:"SubscriberCount"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"642"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"578"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"567"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"456"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"432"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"345"})]})]})]})})]}),"\n",(0,l.jsx)(n.p,{children:"As you can see, by just adding more columns after a comma (order is irrelevant), we can make even more exciting groupings. In this case, we will have a separate row for each domain and year. Easy to see how many Subscribers using Gmail joined your database in 2021 vs 2020."}),"\n",(0,l.jsx)(n.admonition,{title:"You Should Know",type:"note",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"GROUP BY"})," will group ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions#null",children:(0,l.jsx)(n.code,{children:"NULL"})})," values as if they are equal."]})}),"\n",(0,l.jsx)(n.h3,{id:"group-by-rollup",children:"GROUP BY ROLLUP"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"ROLLUP"})," takes the multi-column grouping to the next level by showing totals and subtotals in the outcomes. Not useful for campaign segmentation, but excellent for quick analysis and reporting."]}),"\n",(0,l.jsxs)(n.p,{children:["To use it - add the ",(0,l.jsx)(n.code,{children:"ROLLUP"})," keyword and wrap grouping columns in parentheses."]}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:"{6-9}",children:"SELECT TOP 20 PERCENT\n      Domain\n    , DATEPART(YEAR, DateJoined) AS YearJoined\n    , COUNT(*) AS SubscriberCount\nFROM _Subscribers\nGROUP BY ROLLUP (\n          Domain\n        , DATEPART(YEAR, DateJoined)\n    )\nORDER BY COUNT(*) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"YearJoined"}),(0,l.jsx)(n.th,{children:"SubscriberCount"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"12304"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"1234"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"1111"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"987"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"642"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"578"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"567"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"456"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"432"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"345"})]})]})]})})]}),"\n",(0,l.jsxs)(n.p,{children:["In the outcomes, you will see some rows with ",(0,l.jsx)(n.code,{children:"NULL"})," as columns - those are rows for total and subtotals."]}),"\n",(0,l.jsxs)(n.p,{children:["Notice that the ",(0,l.jsx)(n.code,{children:"NULL"}),"s are either in all columns (total) or the ",(0,l.jsx)(n.code,{children:"YearJoined"})," column (subtotals). There are no rows with ",(0,l.jsx)(n.code,{children:"NULL"})," only in ",(0,l.jsx)(n.code,{children:"Domain"}),". It is because the ",(0,l.jsx)(n.code,{children:"ROLLUP"})," rolls columns provided in parentheses from right to left when calculating subtotals."]}),"\n",(0,l.jsx)(n.p,{children:"Order of columns will have a massive impact on outcomes!"}),"\n",(0,l.jsxs)(n.admonition,{title:"You Should Know",type:"note",children:[(0,l.jsxs)(n.p,{children:["You can also perform partial rollup by keeping some columns outside of the ",(0,l.jsx)(n.code,{children:"ROLLUP"})," operator. In the example below, I excluded ",(0,l.jsx)(n.code,{children:"Domain"})," from the ",(0,l.jsx)(n.code,{children:"ROLLUP"})," resulting in the lack of total in the outcomes."]}),(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:"{6-8}",children:"SELECT TOP 20 PERCENT\n      Domain\n    , DATEPART(YEAR, DateJoined) AS YearJoined\n    , COUNT(*) AS SubscriberCount\nFROM _Subscribers\nGROUP BY\n      Domain\n    , ROLLUP(DATEPART(YEAR, DateJoined))\nORDER BY COUNT(*) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"YearJoined"}),(0,l.jsx)(n.th,{children:"SubscriberCount"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"1234"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"1111"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"987"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"642"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"578"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"567"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"456"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"432"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"345"})]})]})]})})]})]}),"\n",(0,l.jsx)(n.h3,{id:"group-by-cube",children:"GROUP BY CUBE"}),"\n",(0,l.jsxs)(n.p,{children:["If you thought that right-to-left execution of the ",(0,l.jsx)(n.code,{children:"ROLLUP"})," is not helping your use case and instead you would rather have all possible groupings - ",(0,l.jsx)(n.code,{children:"CUBE"})," is here to help."]}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:"{6-9}",children:"SELECT TOP 20 PERCENT\n      Domain\n    , DATEPART(YEAR, DateJoined) AS YearJoined\n    , COUNT(*) AS SubscriberCount\nFROM _Subscribers\nGROUP BY CUBE (\n          Domain\n        , DATEPART(YEAR, DateJoined)\n    )\nORDER BY COUNT(*) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"YearJoined"}),(0,l.jsx)(n.th,{children:"SubscriberCount"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"12304"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"6201"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"4321"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"1234"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"1111"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"987"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"642"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"578"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"567"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"456"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2021"}),(0,l.jsx)(n.td,{children:"432"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2020"}),(0,l.jsx)(n.td,{children:"345"})]})]})]})})]}),"\n",(0,l.jsxs)(n.p,{children:["It rolls data like ",(0,l.jsx)(n.a,{href:"#group-by-rollup",children:(0,l.jsx)(n.code,{children:"ROLLUP"})}),", but for all combinations of columns. Notice in the outcomes the second and third rows with ",(0,l.jsx)(n.code,{children:"NULL"}),"s in first column and count for the whole year."]}),"\n",(0,l.jsx)(n.h2,{id:"count",children:"COUNT"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"COUNT"})," function allows you to count the number of rows that matches a query. It is excellent for both ",(0,l.jsx)(n.em,{children:"ad hoc"})," data exploration and creating administrative queries that help maintain your instance. It's also a must-have for ",(0,l.jsx)(n.a,{href:"#group-by",children:(0,l.jsx)(n.code,{children:"GROUP BY"})}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Let's get the count of our Subscribers in Master Data Extension."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{1} title="Count all rows in the _Subscribers Data View"',children:"SELECT COUNT(*)\nFROM ContactMasterDE\n"})}),"\n",(0,l.jsx)(n.p,{children:"Nice, but it does not give us any information that we couldn't find more comfortable in the User Interface. So, where is the added value?"}),"\n",(0,l.jsxs)(n.p,{children:["For example, in seeing whether you have potential duplicate contacts. Instead of looking for all rows with ",(0,l.jsx)(n.code,{children:"COUNT(*)"}),", we will change the function argument to the specific column to count only its ",(0,l.jsxs)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions#null",children:["non-",(0,l.jsx)(n.code,{children:"NULL"})]})," values."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{3,6} title="This query will show you which Email Addresses exists on more than one subscriber"',children:"SELECT\n      EmailAddress\n    , COUNT(EmailAddress) AS EmailCount\nFROM ContactMasterDE\nGROUP BY EmailAddress\nHAVING COUNT(EmailAddress) > 1\n"})}),"\n",(0,l.jsxs)(n.p,{children:["With ",(0,l.jsx)(n.a,{href:"#group-by",children:(0,l.jsx)(n.code,{children:"GROUP BY"})})," and ",(0,l.jsx)(n.a,{href:"#having",children:(0,l.jsx)(n.code,{children:"HAVING"})})," above, we can simplify the output by showing only the duplicate values with corresponding counts."]}),"\n",(0,l.jsxs)(n.admonition,{title:"You Should Know",type:"note",children:[(0,l.jsx)(n.p,{children:"You can take it to the next level with the subquery approach:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{11-12} title="Returns Subscriber Key, Email Address and Duplicate Count of your database"',children:"SELECT\n      subscribers.SubscriberKey\n    , subscribers.EmailAddress\n    , counted.EmailCount\nFROM ContactMasterDE AS subscribers\n    INNER JOIN (\n        SELECT\n              contacts.EmailAddress        AS EmailAddress\n            , COUNT(contacts.EmailAddress) AS EmailCount\n        FROM ContactMasterDE AS contacts\n        GROUP BY contacts.EmailAddress\n        HAVING COUNT(contacts.EmailAddress) > 1\n    ) AS counted\n        ON counted.EmailAddress = subscribers.EmailAddress\n"})}),(0,l.jsx)(n.p,{children:"This extended query will not only tell you that there are potential duplicates. It will also give you Subscriber Keys of duplicate contacts so that you can investigate the reason and clean up records after fixing the underlying issue."}),(0,l.jsx)(n.p,{children:"Pack it into Automation with Verification Activity on top and keep your database clean with ease."})]}),"\n",(0,l.jsx)(n.h3,{id:"count--all-and-distinct",children:"COUNT *, ALL and DISTINCT"}),"\n",(0,l.jsxs)(n.p,{children:["There are three approaches to using ",(0,l.jsx)(n.code,{children:"COUNT"})," that differ slightly from each other."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"COUNT(*)"})," will return the number of items, including ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions#null",children:(0,l.jsx)(n.code,{children:"NULL"})})," values and duplicates."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"COUNT(FieldName)"})," / ",(0,l.jsx)(n.code,{children:"COUNT(ALL FieldName)"})," will return the number on ",(0,l.jsxs)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions#null",children:["non-",(0,l.jsx)(n.code,{children:"NULL"})]})," values including duplicates."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"COUNT(DISTINCT FieldName)"})," will return the number of ",(0,l.jsxs)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions#null",children:["non-",(0,l.jsx)(n.code,{children:"NULL"})]})," and non-duplicate values."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{2-4} title="Let\'s find out whether we have multiple Subscribers with the same Email Address"',children:"SELECT\n      COUNT(EmailAddress) AS EmailCount\n    , COUNT(DISTINCT EmailAddress) AS UniqueEmailCount\nFROM _Subscribers\n"})}),"\n",(0,l.jsx)(n.h2,{id:"having",children:"HAVING"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"HAVING"})," works nearly the same as ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-where",children:(0,l.jsx)(n.code,{children:"WHERE"})})," and allows you to filter outcomes of your ",(0,l.jsx)(n.a,{href:"#group-by",children:(0,l.jsx)(n.code,{children:"GROUP BY"})}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{6} title="This query will show you which Email Addresses exists on more than one subscriber"',children:"SELECT\n      EmailAddress\n    , COUNT(EmailAddress) AS EmailCount\nFROM _Subscribers\nGROUP BY EmailAddress\nHAVING COUNT(EmailAddress) > 1\n"})}),"\n",(0,l.jsxs)(n.p,{children:["You can leverage all filtering tricks from ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-where",children:(0,l.jsx)(n.code,{children:"WHERE"})}),". In practice, I mostly use it along with aggregate functions like ",(0,l.jsx)(n.a,{href:"#count",children:(0,l.jsx)(n.code,{children:"COUNT"})}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"having-vs-where",children:"HAVING vs WHERE"}),"\n",(0,l.jsxs)(n.p,{children:["I just wrote that ",(0,l.jsx)(n.code,{children:"HAVING"})," and ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-where",children:(0,l.jsx)(n.code,{children:"WHERE"})})," work similarly, and both filter the outcomes. What is the difference?"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"WHERE"})," filters individual data (rows before ",(0,l.jsx)(n.a,{href:"#group-by",children:(0,l.jsx)(n.code,{children:"GROUP BY"})})," is applied)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"HAVING"})," filters aggregated data (rows after ",(0,l.jsx)(n.a,{href:"#group-by",children:(0,l.jsx)(n.code,{children:"GROUP BY"})})," is applied)"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{5,7} title="This query will show you which Email Addresses exists on more than one active subscriber"',children:"SELECT\n      EmailAddress\n    , COUNT(EmailAddress) AS EmailCount\nFROM _Subscribers\nWHERE Status = 'active'\nGROUP BY EmailAddress\nHAVING COUNT(EmailAddress) > 1\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Thanks to using both ",(0,l.jsx)(n.code,{children:"WHERE"})," and ",(0,l.jsx)(n.code,{children:"HAVING"})," in this query, we will look only for duplicate active Subscribers. If we have two subscribers with the same email, but one is inactive, this query won't output it."]}),"\n",(0,l.jsxs)(n.admonition,{title:"You Should Know",type:"note",children:[(0,l.jsxs)(n.p,{children:["You can use both in the same query and even mix it with ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select#distinct",children:(0,l.jsx)(n.code,{children:"DISTINCT"})}),"."]}),(0,l.jsx)(n.p,{children:"However, when building such layered filters, keep in mind the SQL's order of execution for clauses:"}),(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-from",children:(0,l.jsx)(n.code,{children:"FROM"})})," > ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-where",children:(0,l.jsx)(n.code,{children:"WHERE"})})," > ",(0,l.jsx)(n.a,{href:"#group-by",children:(0,l.jsx)(n.code,{children:"GROUP BY"})})," > ",(0,l.jsx)(n.a,{href:"#having",children:(0,l.jsx)(n.code,{children:"HAVING"})})," > ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select#distinct",children:(0,l.jsx)(n.code,{children:"DISTINCT"})})," > ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select#top-with-order-by",children:(0,l.jsx)(n.code,{children:"ORDER BY"})})]}),(0,l.jsxs)(n.p,{children:["It means that rows filtered with ",(0,l.jsx)(n.code,{children:"WHERE"})," will not be taken into consideration for ",(0,l.jsx)(n.code,{children:"GROUP BY"})," and that ",(0,l.jsx)(n.code,{children:"DISTINCT"})," deduplication will be applied to results grouped and filtered by ",(0,l.jsx)(n.code,{children:"HAVING"})," - not the source data."]})]}),"\n",(0,l.jsx)(n.h2,{id:"min-and-max",children:"MIN and MAX"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"MIN"})," and ",(0,l.jsx)(n.code,{children:"MAX"})," functions can help you find the minimum and maximum values within a group."]}),"\n",(0,l.jsxs)(n.p,{children:["As they are aggregate functions, we can use them in both the ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select",children:(0,l.jsx)(n.code,{children:"SELECT"})})," part of the query and for filtering with ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-where",children:(0,l.jsx)(n.code,{children:"WHERE"})})," or ",(0,l.jsx)(n.a,{href:"#having",children:(0,l.jsx)(n.code,{children:"HAVING"})}),"."]}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{3-4,7} title="Let\'s find domains that are no longer getting new subscribers"',children:"SELECT TOP 10\n      Domain\n    , MIN(DATEDIFF(DAY, DateJoined, GETDATE())) AS YoungestSubscriberDaysOfService\n    , MAX(DATEDIFF(DAY, DateJoined, GETDATE())) AS OldestSubscriberDaysOfService\nFROM _Subscribers\nGROUP BY Domain\nORDER BY MIN(DATEDIFF(DAY, DateJoined, GETDATE())) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"YoungestSubscriberDaysOfService"}),(0,l.jsx)(n.th,{children:"OldestSubscriberDaysOfService"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"mateuszdabrowski.pl"}),(0,l.jsx)(n.td,{children:"784"}),(0,l.jsx)(n.td,{children:"784"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"test.com"}),(0,l.jsx)(n.td,{children:"530"}),(0,l.jsx)(n.td,{children:"743"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"253"}),(0,l.jsx)(n.td,{children:"723"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"..."}),(0,l.jsx)(n.td,{children:"..."}),(0,l.jsx)(n.td,{children:"..."})]})]})]})})]}),"\n",(0,l.jsxs)(n.p,{children:["Learn more about ",(0,l.jsx)(n.code,{children:"MIN"})," and ",(0,l.jsx)(n.code,{children:"MAX"})," in ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-numeric-functions#min-and-max",children:"Numeric Functions documentation"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"avg",children:"AVG"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"AVG"})," function allows you to find the average of values within the group."]}),"\n",(0,l.jsxs)(n.p,{children:["It ignores ",(0,l.jsx)(n.code,{children:"NULL"})," values for the calculation and we can use it in ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select",children:(0,l.jsx)(n.code,{children:"SELECT"})}),", ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-where",children:(0,l.jsx)(n.code,{children:"WHERE"})})," or ",(0,l.jsx)(n.a,{href:"#having",children:(0,l.jsx)(n.code,{children:"HAVING"})})," part of the query."]}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{3,6,7} title="Let\'s find domain that are bouncing for most users"',children:"SELECT TOP 10\n      Domain\n    , AVG(BounceCount) AS AverageBounceCount\nFROM _Subscribers\nGROUP BY Domain\nHAVING AVG(BounceCount) > 0\nORDER BY AVG(BounceCount) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Domain"}),(0,l.jsx)(n.th,{children:"AverageBounceCount"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"test.com"}),(0,l.jsx)(n.td,{children:"164"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"yahoo.com"}),(0,l.jsx)(n.td,{children:"2"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"outlook.com"}),(0,l.jsx)(n.td,{children:"1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"gmail.com"}),(0,l.jsx)(n.td,{children:"1"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"..."}),(0,l.jsx)(n.td,{children:"..."})]})]})]})})]}),"\n",(0,l.jsxs)(n.p,{children:["Learn more about ",(0,l.jsx)(n.code,{children:"AVG"})," in ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-numeric-functions#avg",children:"Numeric Functions documentation"}),"."]}),"\n",(0,l.jsx)(n.admonition,{title:"You Should Know",type:"note",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"AVG"})," will ignore rows with ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions",children:(0,l.jsx)(n.code,{children:"NULL"})}),", which can skew your results. ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-null-functions#coalesce",children:(0,l.jsx)(n.code,{children:"COALESCE"})})," will be your best friend to make sense out of imperfect data."]})}),"\n",(0,l.jsx)(n.h2,{id:"sum",children:"SUM"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"SUM"})," function allows you to find the sum of values within the group."]}),"\n",(0,l.jsxs)(n.p,{children:["It ignores ",(0,l.jsx)(n.code,{children:"NULL"})," values for the calculation and we can use it in ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-select",children:(0,l.jsx)(n.code,{children:"SELECT"})}),", ",(0,l.jsx)(n.a,{href:"/docs/salesforce/marketing-cloud-engagement/sql/sql-where",children:(0,l.jsx)(n.code,{children:"WHERE"})})," or ",(0,l.jsx)(n.a,{href:"#having",children:(0,l.jsx)(n.code,{children:"HAVING"})})," part of the query."]}),"\n",(0,l.jsxs)(i.A,{defaultValue:"query",values:[{label:"Query",value:"query"},{label:"Outcome",value:"outcome"}],children:[(0,l.jsx)(c.A,{value:"query",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",metastring:'{4,8-9} title="Let\'s find product categories responsible for the highest income"',children:"SELECT TOP 3\n      ProductCategory\n    , COUNT(Orders) AS TotalOrders\n    , SUM(Price) AS TotalIncome\nFROM Purchases\nWHERE Status = 'Complete'\nGROUP BY ProductCategory\nHAVING SUM(Price) > 1000\nORDER BY SUM(Price) DESC\n"})})}),(0,l.jsx)(c.A,{value:"outcome",children:(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"ProductCategory"}),(0,l.jsx)(n.th,{children:"TotalOrders"}),(0,l.jsx)(n.th,{children:"TotalIncome"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Course"}),(0,l.jsx)(n.td,{children:"12"}),(0,l.jsx)(n.td,{children:"5500"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Webinar"}),(0,l.jsx)(n.td,{children:"76"}),(0,l.jsx)(n.td,{children:"5120"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Ebook"}),(0,l.jsx)(n.td,{children:"136"}),(0,l.jsx)(n.td,{children:"3450"})]})]})]})})]})]})}function j(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(x,{...e})}):x(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var r=s(96540);const l={},t=r.createContext(l);function i(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(t.Provider,{value:n},e.children)}},46748:(e,n,s)=>{s.d(n,{U:()=>t});const r="leadText_qzwo";var l=s(74848);const t=({content:e})=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("p",{id:r,children:e})})},49489:(e,n,s)=>{s.d(n,{A:()=>v});var r=s(96540),l=s(34164),t=s(24245),i=s(56347),c=s(36494),d=s(62814),o=s(45167),a=s(69900);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:n,children:s}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r}))}(s);return function(e){const n=(0,o.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function x({value:e,tabValues:n}){return n.some(n=>n.value===e)}function j({queryString:e=!1,groupId:n}){const s=(0,i.W6)(),l=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(l),(0,r.useCallback)(e=>{if(!l)return;const n=new URLSearchParams(s.location.search);n.set(l,e),s.replace({...s.location,search:n.toString()})},[l,s])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:l}=e,t=u(e),[i,d]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t})),[o,h]=j({queryString:s,groupId:l}),[m,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,l]=(0,a.Dv)(n);return[s,(0,r.useCallback)(e=>{n&&l.set(e)},[n,l])]}({groupId:l}),f=(()=>{const e=o??m;return x({value:e,tabValues:t})?e:null})();(0,c.A)(()=>{f&&d(f)},[f]);return{selectedValue:i,selectValue:(0,r.useCallback)(e=>{if(!x({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);d(e),h(e),g(e)},[h,g,t]),tabValues:t}}var g=s(11062);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=s(74848);function p({className:e,block:n,selectedValue:s,selectValue:r,tabValues:i}){const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),o=e=>{const n=e.currentTarget,l=c.indexOf(n),t=i[l].value;t!==s&&(d(n),r(t))},a=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:r})=>(0,b.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{c.push(e)},onKeyDown:a,onClick:o,...r,className:(0,l.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:s}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===s);return e?(0,r.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function E(e){const n=m(e);return(0,b.jsxs)("div",{className:(0,l.A)("tabs-container",f.tabList),children:[(0,b.jsx)(p,{...n,...e}),(0,b.jsx)(y,{...n,...e})]})}function v(e){const n=(0,g.A)();return(0,b.jsx)(E,{...e,children:h(e.children)},String(n))}}}]);