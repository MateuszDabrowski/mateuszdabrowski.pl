"use strict";(self.webpackChunkmd=self.webpackChunkmd||[]).push([[3657],{3757:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>u,contentTitle:()=>d,default:()=>x,frontMatter:()=>c,metadata:()=>h,toc:()=>f});var i=n(4848),t=n(8453),r=n(6748),l=n(1870),a=n(7227),o=n(3935);const c={id:"sfmc-sql-basics",title:"SFMC SQL Basics",sidebar_label:"SQL Basics",description:"SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough.",image:"img/og/og-image-sql-basics.png",tags:["Marketing Cloud","SQL"]},d=void 0,h={id:"sql/sfmc-sql-basics",title:"SFMC SQL Basics",description:"SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough.",source:"@site/docs/sql/sfmc-sql-basics.mdx",sourceDirName:"sql",slug:"/sql/sfmc-sql-basics",permalink:"/docs/sql/sfmc-sql-basics",draft:!1,unlisted:!1,editUrl:"https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/sql/sfmc-sql-basics.mdx",tags:[{inline:!0,label:"Marketing Cloud",permalink:"/docs/tags/marketing-cloud"},{inline:!0,label:"SQL",permalink:"/docs/tags/sql"}],version:"current",lastUpdatedBy:"Mateusz D\u0105browski",lastUpdatedAt:1708642896e3,frontMatter:{id:"sfmc-sql-basics",title:"SFMC SQL Basics",sidebar_label:"SQL Basics",description:"SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough.",image:"img/og/og-image-sql-basics.png",tags:["Marketing Cloud","SQL"]},sidebar:"docs",previous:{title:"SFMC SQL",permalink:"/docs/category/sfmc-sql"},next:{title:"Select",permalink:"/docs/sql/sfmc-sql-select"}},u={},f=[{value:"How to segment data in Marketing Cloud",id:"how-to-segment-data-in-marketing-cloud",level:2},{value:"SQL in Salesforce Marketing Cloud",id:"sql-in-salesforce-marketing-cloud",level:2},{value:"Where to learn SFMC SQL",id:"where-to-learn-sfmc-sql",level:2},{value:"How to learn SFMC SQL",id:"how-to-learn-sfmc-sql",level:2},{value:"Level 1 - SELECT, FROM, WHERE",id:"level-1---select-from-where",level:3},{value:"Learning materials",id:"learning-materials",level:4},{value:"Check your skills",id:"check-your-skills",level:4},{value:"Level 2 - JOIN, Aliasing, NULL",id:"level-2---join-aliasing-null",level:3},{value:"Learning materials",id:"learning-materials-1",level:4},{value:"Check your skills",id:"check-your-skills-1",level:4},{value:"Level 3 - LIKE, CASE, Strings",id:"level-3---like-case-strings",level:3},{value:"Learning materials",id:"learning-materials-2",level:4},{value:"Check your skills",id:"check-your-skills-2",level:4},{value:"Level 4 - Dates, WHERE operators, Conversion",id:"level-4---dates-where-operators-conversion",level:3},{value:"Learning materials",id:"learning-materials-3",level:4},{value:"Check your skills",id:"check-your-skills-3",level:4},{value:"Level 5 - Multiple JOINS, UNION, INTERSECT and EXCEPT",id:"level-5---multiple-joins-union-intersect-and-except",level:3},{value:"Learning materials",id:"learning-materials-4",level:4},{value:"Check your skills",id:"check-your-skills-4",level:4},{value:"Level 6 - GROUP, COUNT, TOP and HAVING",id:"level-6---group-count-top-and-having",level:3},{value:"Learning materials",id:"learning-materials-5",level:4},{value:"Check your skills",id:"check-your-skills-5",level:4},{value:"Level 7 - coming soon-ish",id:"level-7---coming-soon-ish",level:3},{value:"Writing with style",id:"writing-with-style",level:2},{value:"Order of operations",id:"order-of-operations",level:2},{value:"All SQL Guides",id:"all-sql-guides",level:2}];function m(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.U,{content:"SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough."}),"\n",(0,i.jsx)(s.h2,{id:"how-to-segment-data-in-marketing-cloud",children:"How to segment data in Marketing Cloud"}),"\n",(0,i.jsx)(s.p,{children:"Salesforce Marketing Cloud offers a few ways of segmenting data for your marketing needs. Out of the box, you can use Filters and SQL Query Activities."}),"\n",(0,i.jsx)(s.p,{children:"Filters are a straightforward drag-and-drop solution for one-time (Filtered Data Extensions) or refreshed on-schedule (Data Filters with Automation) segmentation. Unfortunately, they are constrained, as they allow you to copy a single Data Extension with all its columns and filtered-down rows. That filtering can leverage source Data Extension values, another Data Extension values (through Data Relationship) or Measures. That's it. For real Marketing Automation, it's not enough."}),"\n",(0,i.jsx)(s.p,{children:"This is why you are looking to learn about SFMC SQL. Along with Automation Studio Query Activity, it will allow you to deploy any segmentation scenario you want with complete control over the output columns, names and values. However, with great power comes some learning required."}),"\n",(0,i.jsx)(s.p,{children:"There is also a third way - paid AppExchange solutions that offer you a way to eat a cookie and have a cookie: the full power of SQL with a drag-and-drop interface. For a price."}),"\n",(0,i.jsxs)(s.p,{children:["You can check my comparison of all the above options in my ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-appexchange-solutions#sfmc-segmentation-solutions",children:"here"}),". This article will focus only on the most powerful and free option - SFMC SQL."]}),"\n",(0,i.jsx)(s.h2,{id:"sql-in-salesforce-marketing-cloud",children:"SQL in Salesforce Marketing Cloud"}),"\n",(0,i.jsx)(s.p,{children:"SQL (Structured Query Language) is one of the best ways to work with relational databases. And Marketing Cloud's Data Extensions, with the help of Data Designer, offer precisely that. A relational database. The same is valid for system Data Views containing tracking data. Because of this, SQL is used in SFMC whenever powerful segmentation is needed (mainly using Automation Studio)."}),"\n",(0,i.jsxs)(s.p,{children:["The main difference from standard SQL (SFMC uses more or less SQL Server 2019) is that SFMC supports only the ",(0,i.jsx)(s.code,{children:"SELECT"})," statement. Neither ",(0,i.jsx)(s.code,{children:"INSERT"}),", ",(0,i.jsx)(s.code,{children:"UPDATE"})," or ",(0,i.jsx)(s.code,{children:"DELETE"})," are officially supported. It is because the queries are executed as a part of the backend query and are limited to provide non-breakable functionality."]}),"\n",(0,i.jsx)(s.p,{children:"Another limiting characteristic of SFMC SQL is visible in the data accessible by queries. Only data stored in data extensions or system data views is available. Moreover, you can save the results only to the data extensions. The reason is other data structures of SFMC are not relational databases."}),"\n",(0,i.jsx)(s.p,{children:"Finally, the significant limitation you might hit as your Marketing Cloud grows is AutoKill. It will automatically stop your query if the execution time exceeds the 30 minutes limit. Think about the query with the future in mind. It is vital for queries that are supposed to be the backbones of your data management flow in Marketing Cloud. Even if it works great now, consider how it will behave once you have more data in the system. One of the great ways to not trigger AutoKill is to implement retention periods for the Data Extensions used in the query to limit input data."}),"\n",(0,i.jsx)(s.h2,{id:"where-to-learn-sfmc-sql",children:"Where to learn SFMC SQL"}),"\n",(0,i.jsxs)(s.p,{children:["Before we start with the real deal, let's cover where to learn to write SQL. I recommend getting a ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-appexchange-solutions#query-studio",children:"Query Studio"}),". It's a free AppExchange add-on to Marketing Cloud developed by Salesforce. While it has cons, it's perfect for quickly learning how to query."]}),"\n",(0,i.jsx)(s.p,{children:"If you cannot install this app in your Marketing Cloud, you still can learn using Query Activities in Automation Studio, but it will be much less user-friendly. For each change in the query, you will have to update the target Data Extension manually and go through multiple steps across the platform to see the results."}),"\n",(0,i.jsxs)(s.p,{children:["My approach is to always start in ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-appexchange-solutions#query-studio",children:"Query Studio"}),", and only once my SQL Query is complete and validated do I move it to Automation Studio."]}),"\n",(0,i.jsx)(s.h2,{id:"how-to-learn-sfmc-sql",children:"How to learn SFMC SQL"}),"\n",(0,i.jsx)(s.p,{children:"SFMC SQL is very limited compared to the full power of Structured Query Language, but there are still many topics to cover. I split them into steps that slowly add more complex concepts to make it easier. Each should provide knowledge that you can actively use in your day-to-day work."}),"\n",(0,i.jsx)(s.p,{children:"In each level, you will see:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Learning materials to read."}),"\n",(0,i.jsx)(s.li,{children:"Exercise you can do in your Marketing Cloud platform to test your skills."}),"\n",(0,i.jsx)(s.li,{children:"Hint that can help you with the exercise if you are stuck."}),"\n",(0,i.jsx)(s.li,{children:"Example solution to that exercise. Keep in mind that there might be more than one correct approach."}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"level-1---select-from-where",children:"Level 1 - SELECT, FROM, WHERE"}),"\n",(0,i.jsx)(s.p,{children:"Learn the three essential SQL statements for all queries. They will give you similar power to what Filters can do - with the bonus of choosing the columns you need for your final segment."}),"\n",(0,i.jsx)(s.h4,{id:"learning-materials",children:"Learning materials"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select",children:"SELECT"})," - just the first part, before the aliasing section."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-from",children:"FROM"})," - whole article."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where",children:"WHERE"})," - the first part, before the Basic Operators, plus ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where#equality-operators",children:"Equality Operators"})," and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where#logical-operators",children:"Logical Operators"}),". Don't worry about Comparison operators or shorthands for now. Don't worry about the examples with dates and unknown functions. We will get there. For now, think about how you can filter based on simple values like status."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views",children:"System Data Views"})," - the basics and ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_subscribers",children:"_Subscribers"})," Data View."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"check-your-skills",children:"Check your skills"}),"\n",(0,i.jsxs)(l.A,{defaultValue:"exercise",values:[{label:"Exercise",value:"exercise"},{label:"Hints",value:"hints"},{label:"Solution",value:"solution"}],children:[(0,i.jsx)(a.A,{value:"exercise",children:(0,i.jsx)(s.p,{children:"Write a query that will find Subscriber Key for all Active (opted-in) Subscribers in your All Subscribers list."})}),(0,i.jsx)(a.A,{value:"hints",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["All Subscribers List data is stored in ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_subscribers",children:"_Subscribers"})," Data View."]}),"\n",(0,i.jsxs)(s.li,{children:["If you are running your query on a child Business Unit, you will need to use ",(0,i.jsxs)(s.a,{href:"/docs/sql/sfmc-sql-from#enterprise-system-data-views",children:[(0,i.jsx)(s.code,{children:"Ent."})," prefix"]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You don't have to ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select",children:"SELECT"})," any columns but the SubscriberKey. You can use ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where",children:"WHERE"})," on not selected columns."]}),"\n",(0,i.jsxs)(s.li,{children:["Current status of a Subscriber is saved in the ",(0,i.jsx)(s.code,{children:"Status"})," column of ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_subscribers",children:"_Subscribers"})," Data View as a string. You can use it for filtering with ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where",children:"WHERE"}),"."]}),"\n"]})}),(0,i.jsxs)(a.A,{value:"solution",children:[(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",metastring:'title="Solution working on Parent Business Unit"',children:"SELECT SubscriberKey\nFROM _Subscribers\nWHERE Status = 'active'\n"})}),(0,i.jsxs)(s.p,{children:["Bonus: you can change the last line to, for example, ",(0,i.jsx)(s.code,{children:"WHERE Domain = 'gmail.com'"})," to see how many Subscribers are using free Google inbox."]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"level-2---join-aliasing-null",children:"Level 2 - JOIN, Aliasing, NULL"}),"\n",(0,i.jsxs)(s.p,{children:["Learn how to leverage a second Data Extension or Data View, change the output's column name, and deal with basic ",(0,i.jsx)(s.code,{children:"NULL"})," cases."]}),"\n",(0,i.jsx)(s.h4,{id:"learning-materials-1",children:"Learning materials"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join",children:"JOIN"})," - ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#join-types",children:"JOIN Types"}),", ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#joining-on",children:"Joining ON"})," and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#table-name-prefix",children:"Table Name Prefixes"})," sections. It might be helpful to check out the ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#sfmc-sql-join-cheat-sheet",children:"visual cheatsheet"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#aliasing-with-as",children:"Aliasing"})," - just the Aliasing with AS and Custom values sections."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-null-functions",children:"NULL functions"})," - just the first three paragraphs and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-null-functions#is-null",children:"IS NULL"})," section."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_sent",children:"_Sent"}),", ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_open",children:"_Open"})," and ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_click",children:"_Click"})," Data Views."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"check-your-skills-1",children:"Check your skills"}),"\n",(0,i.jsxs)(l.A,{defaultValue:"exercise",values:[{label:"Exercise",value:"exercise"},{label:"Hints",value:"hints"},{label:"Solution",value:"solution"}],children:[(0,i.jsx)(a.A,{value:"exercise",children:(0,i.jsx)(s.p,{children:"Write a query that will find Subscriber Key for all Active (opted-in) Subscribers in your All Subscribers list that were sent an email in the last 6 months."})}),(0,i.jsx)(a.A,{value:"hints",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Don't write SQL from scratch. Leverage what you already have."}),"\n",(0,i.jsxs)(s.li,{children:["Sent data is stored in ",(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_sent",children:"_Sent"})," Data View."]}),"\n",(0,i.jsx)(s.li,{children:"You don't have to worry about the 6-month requirement because _Sent Data View stores only six months of data."}),"\n",(0,i.jsxs)(s.li,{children:["You can chain multiple filters using ",(0,i.jsxs)(s.a,{href:"/docs/sql/sfmc-sql-where#logical-operators",children:[(0,i.jsx)(s.code,{children:"WHERE"})," Logical Operators"]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#left-and-right-joins",children:"LEFT JOIN"})," will add columns even if there is no data in the second table."]}),"\n",(0,i.jsxs)(s.li,{children:["You can find those records without data in the second table using ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-null-functions#is-null",children:(0,i.jsx)(s.code,{children:"IS NULL"})}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You need to join tables ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#joining-on",children:(0,i.jsx)(s.code,{children:"ON"})})," a common value."]}),"\n"]})}),(0,i.jsxs)(a.A,{value:"solution",children:[(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",metastring:'title="Solution working on Parent Business Unit"',children:"SELECT sub.SubscriberKey\nFROM _Subscribers   AS sub\n    LEFT JOIN _Sent AS sent\n        ON sent.SubscriberKey = sub.SubscriberKey\nWHERE\n    sub.Status = 'active'\n    AND sent.EventDate IS NOT NULL\n"})}),(0,i.jsxs)(s.p,{children:["You can write this query without the filter on ",(0,i.jsx)(s.code,{children:"sent.EventDate"})," but with ",(0,i.jsx)(s.code,{children:"INNER JOIN _Sent"})," instead. The above version makes it easier to change the query for the bonus below."]}),(0,i.jsxs)(s.p,{children:["Bonus: Change ",(0,i.jsx)(s.code,{children:"IS NOT NULL"})," to ",(0,i.jsx)(s.code,{children:"IS NULL"})," in the last line to see how many active Subscribers haven't received any communication in the last 6 months. It's an excellent segment for the win-back Journey!"]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"level-3---like-case-strings",children:"Level 3 - LIKE, CASE, Strings"}),"\n",(0,i.jsx)(s.p,{children:"Learn how to deal with string values, how to implement SQL version of if/else logic and how to make complex conditions calculating your data. With this, you are no longer limited to the data already available in the tables."}),"\n",(0,i.jsx)(s.h4,{id:"learning-materials-2",children:"Learning materials"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-like",children:"LIKE"})," - whole article, but focus on ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-like#like-with-wildcard",children:"LIKE with Wildcard"}),", you will use it more. Check out also the ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where#like-operator",children:"LIKE operator in WHERE"})," section."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-case",children:"CASE"})," - whole article plus ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where#case-operator",children:"CASE operator in WHERE"})," section."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-string-functions",children:"String functions"})," - check out all, but focus on most frequently used ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-string-functions#left--right",children:"LEFT & RIGHT"}),", ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-string-functions#len",children:"LEN"})," and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-string-functions#charindex",children:"CHARINDEX"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"check-your-skills-2",children:"Check your skills"}),"\n",(0,i.jsxs)(l.A,{defaultValue:"exercise",values:[{label:"Exercise",value:"exercise"},{label:"Hints",value:"hints"},{label:"Solution",value:"solution"}],children:[(0,i.jsxs)(a.A,{value:"exercise",children:[(0,i.jsxs)(s.p,{children:["Write a query that will find Subscriber Key for all Subscribers in your All Subscribers list and add a new column called ",(0,i.jsx)(s.code,{children:"SubscriberKeyType"}),". In that new column, calculate whether the Subscriber Key is using an email address, Salesforce ID (and in this case - source object) or other. Possible values should be: ",(0,i.jsx)(s.code,{children:"Email"}),", ",(0,i.jsx)(s.code,{children:"Account"}),", ",(0,i.jsx)(s.code,{children:"Contact"}),", ",(0,i.jsx)(s.code,{children:"User"}),", ",(0,i.jsx)(s.code,{children:"Lead"}),", and ",(0,i.jsx)(s.code,{children:"Other"}),"."]}),(0,i.jsxs)(s.admonition,{title:"You Should Know",type:"note",children:[(0,i.jsxs)(s.p,{children:["For our need here, if the Subscriber Key has 18 characters, no ",(0,i.jsx)(s.code,{children:"@"}),", and starts with three specific characters, it probably is a Salesforce ID. Those first three characters point to a specific Salesforce Object being a source of that record:"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"001 = Account"}),"\n",(0,i.jsx)(s.li,{children:"003 = Contact"}),"\n",(0,i.jsx)(s.li,{children:"005 = User"}),"\n",(0,i.jsx)(s.li,{children:"00Q = Lead"}),"\n"]})]})]}),(0,i.jsx)(a.A,{value:"hints",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["The easiest way to find an email is to use ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-like#like-with-wildcard",children:"LIKE with Wildcard"})," looking for ",(0,i.jsx)(s.code,{children:"{something}@{domain}.{tld}"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-case",children:"CASE"})," returns the value assigned to the first matched scenario, so the order of ",(0,i.jsx)(s.code,{children:"WHEN"}),"s makes a difference."]}),"\n",(0,i.jsxs)(s.li,{children:["You can use multiple conditions and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-string-functions",children:"String functions"})," in the ",(0,i.jsx)(s.code,{children:"WHEN"})," checks."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-case",children:"CASE"})," can create a new column when you use it in ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#aliasing-with-as",children:"SELECT with an alias"}),"."]}),"\n"]})}),(0,i.jsxs)(a.A,{value:"solution",children:[(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",metastring:'title="Solution working on Parent Business Unit. The results will differ a lot depending on your SFMC implementation."',children:"SELECT\n      SubscriberKey\n    , CASE\n        WHEN SubscriberKey LIKE '%@%.%'                                 THEN 'Email'\n        WHEN LEN(SubscriberKey) = 18 AND LEFT(SubscriberKey, 3) = '001' THEN 'Account'\n        WHEN LEN(SubscriberKey) = 18 AND LEFT(SubscriberKey, 3) = '003' THEN 'Contact'\n        WHEN LEN(SubscriberKey) = 18 AND LEFT(SubscriberKey, 3) = '005' THEN 'User'\n        WHEN LEN(SubscriberKey) = 18 AND LEFT(SubscriberKey, 3) = '00Q' THEN 'Lead'\n        ELSE 'Other'\n      END AS SubscriberKeyType\nFROM _Subscribers\n"})}),(0,i.jsxs)(s.p,{children:["While you could use ",(0,i.jsx)(s.code,{children:"LIKE"})," for all the conditions, ",(0,i.jsx)(s.code,{children:"LEFT"})," will perform better in this ",(0,i.jsx)(s.code,{children:"CASE"})," because it will only compare the first three characters instead of anywhere in the whole string."]}),(0,i.jsx)(s.p,{children:"This query is excellent for understanding what the source of your Subscribers is. It will be even more helpful later when you learn how to aggregate the data. With it, you will quickly see the exact number of subscribers from each source."})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"level-4---dates-where-operators-conversion",children:"Level 4 - Dates, WHERE operators, Conversion"}),"\n",(0,i.jsx)(s.p,{children:"Learn how to use the most important filter of all - date filtering. Read about essential date functions and what to do when you don't have the correct data type for your use case."}),"\n",(0,i.jsx)(s.h4,{id:"learning-materials-3",children:"Learning materials"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-date-functions",children:"Date functions"})," - ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-date-functions#getdate--getutcdate",children:"GETDATE"})," and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-date-functions#dateadd",children:"DATEADD"})," are the most important sections."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where",children:"WHERE"})," - while we already covered parts of where, this is time to make a deeper dive into ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where#comparison-operators",children:"Comparison operators"}),", ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where#between-shorthand",children:"BETWEEN shorthand"})," and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where#in-shorthand",children:"IN shorthand"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-conversion-functions",children:"Conversion functions"})," - the whole article, but treat Data Types and Data Style Codes more as reference material."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#_bounce",children:"_Bounce"})," Data View."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"check-your-skills-3",children:"Check your skills"}),"\n",(0,i.jsxs)(l.A,{defaultValue:"exercise",values:[{label:"Exercise",value:"exercise"},{label:"Hints",value:"hints"},{label:"Solution",value:"solution"}],children:[(0,i.jsxs)(a.A,{value:"exercise",children:[(0,i.jsx)(s.p,{children:"Write a query that will find Subscriber Key for all Subscribers in your All Subscribers list that joined the list within the last year and had a bounce on Google or Microsoft email between the first day of the current month (write that date manually, as a string) and today."}),(0,i.jsxs)(s.p,{children:["For this exercise, we will assume that Google users have emails like ",(0,i.jsx)(s.code,{children:"something@gmail.com"}),", Microsoft users - ",(0,i.jsx)(s.code,{children:"something@outlook.com"})," and Yahoo - ",(0,i.jsx)(s.code,{children:"something@yahoo.com"}),"."]})]}),(0,i.jsx)(a.A,{value:"hints",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Consider impact of the ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#join-types",children:"JOIN type"})," on the query output. Can you leverage it to minimise the data you are working on?"]}),"\n",(0,i.jsx)(s.li,{children:"When writing the date comparison, take a pen and paper and draw a timeline with the part you want to capture. Seeing it makes it much easier to write it correctly."}),"\n",(0,i.jsx)(s.li,{children:"When deciding whether to use shorthands - go with the most readable option."}),"\n"]})}),(0,i.jsxs)(a.A,{value:"solution",children:[(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",metastring:'title="Solution working on Parent Business Unit"',children:"SELECT sub.SubscriberKey\nFROM _Subscribers       AS sub\n    INNER JOIN _Bounce  AS b\n        ON b.SubscriberKey = sub.SubscriberKey\nWHERE\n    sub.DateJoined >= DATEADD(YEAR, -1, GETDATE())\n    AND b.Domain IN ('gmail.com', 'outlook.com', 'yahoo.com')\n    AND b.EventDate BETWEEN CONVERT(DATE, '2023-01-01') AND GETDATE()\n"})}),(0,i.jsxs)(s.p,{children:["Bonus: Dive deeper into bounces by selecting SMTPBounceReason and SMTPMessage in the ",(0,i.jsx)(s.code,{children:"_Bounce"})," Data View to learn more about the root cause of the bounces."]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"level-5---multiple-joins-union-intersect-and-except",children:"Level 5 - Multiple JOINS, UNION, INTERSECT and EXCEPT"}),"\n",(0,i.jsx)(s.p,{children:"Learn to leverage data from multiple tables - the only limitations will be creativity and autokill function crashing queries after 30 minutes of execution ;)"}),"\n",(0,i.jsx)(s.h4,{id:"learning-materials-4",children:"Learning materials"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#multiple-joins",children:"JOINs"})," - yup, everything. The Cheat Sheet at the end should be useful to visualise multi-JOIN fun better."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/config/sfmc-system-data-views#journey-data-views",children:"Journey Builder Data Views"})," - both _Journey and _JourneyActivity."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"check-your-skills-4",children:"Check your skills"}),"\n",(0,i.jsxs)(l.A,{defaultValue:"exercise",values:[{label:"Exercise",value:"exercise"},{label:"Hints",value:"hints"},{label:"Solution",value:"solution"}],children:[(0,i.jsxs)(a.A,{value:"exercise",children:[(0,i.jsx)(s.p,{children:"Find some active Journey from the last quarter that already had some email sends with engagement. Note the name of the Journey and Email Activity."}),(0,i.jsx)(s.p,{children:"Write a query that will find Subscriber Key and Email Address for all Subscribers in your All Subscribers list that clicked a link in the first email activity in the Journey you selected."}),(0,i.jsxs)(s.p,{children:["Append a proof record with Subscriber Key equal to ",(0,i.jsx)(s.code,{children:"level5exercise"})," and your email address."]})]}),(0,i.jsx)(a.A,{value:"hints",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Think about which tables you need for the task. The less, the better."}),"\n",(0,i.jsxs)(s.li,{children:["Think what ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#join-types",children:"types of JOINs"})," will be needed. To make it easier - take a pen and paper and draw a diagram. Seriously, it's super helpful as the number of tables grows."]}),"\n",(0,i.jsx)(s.li,{children:"Think about what columns you can join the tables in a way that will protect you from the fan out (a one-to-many relationship that results in more rows than needed in the output)."}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#union",children:"UNION"})," with ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#aliasing-with-as",children:"aliases"})," is great for arbitrary added records in SQL."]}),"\n"]})}),(0,i.jsxs)(a.A,{value:"solution",children:[(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",metastring:'title="Solution working on Parent Business Unit"',children:"SELECT\n      sub.SubscriberKey\n    , sub.EmailAddress\nFROM _Subscribers               AS sub\n    INNER JOIN _Click           AS c\n        ON c.SubscriberKey = sub.SubscriberKey\n        AND c.IsUnique = 1\n    INNER JOIN _JourneyActivity AS ja\n        ON ja.JourneyActivityObjectID = c.TriggererSendDefinitionObjectID\n    INNER JOIN _Journey         AS j\n        ON j.VersionID = ja.VersionID\nWHERE\n    j.JourneyName = 'SelectedJourneyName'\n    AND ja.ActivityName = 'SelectedEmailActivityName'\n\nUNION\n\nSELECT\n      'level5exercise'      AS SubscriberKey\n    , 'your@email.address'  AS EmailAddress\n"})}),(0,i.jsxs)(s.p,{children:["Bonus: the fun with multiple joins ",(0,i.jsx)(s.a,{href:"/docs/sql/snippets/sfmc-sql-debugging-email-sends#solution",children:"never ends"}),"."]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"level-6---group-count-top-and-having",children:"Level 6 - GROUP, COUNT, TOP and HAVING"}),"\n",(0,i.jsx)(s.p,{children:"Graduate from just playing with rows and start calculating the data to see patterns, outliers and problems. It is handy for SFMC Administrators and Consultants performing analysis on the platform data."}),"\n",(0,i.jsx)(s.h4,{id:"learning-materials-5",children:"Learning materials"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-aggregate-functions",children:"Aggregate functions"})," - focus on ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-aggregate-functions#group-by",children:"GROUP BY"}),", ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-aggregate-functions#count",children:"COUNT"})," and ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-aggregate-functions#having",children:"HAVING"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"#order-of-operations",children:"Order of operations"})," - this is when it becomes tricky."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#top",children:"TOP"})," - focus on how to use it with ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#top-with-order-by",children:"ORDER BY"})]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"check-your-skills-5",children:"Check your skills"}),"\n",(0,i.jsxs)(l.A,{defaultValue:"exercise",values:[{label:"Exercise",value:"exercise"},{label:"Hints",value:"hints"},{label:"Solution",value:"solution"}],children:[(0,i.jsxs)(a.A,{value:"exercise",children:[(0,i.jsx)(s.p,{children:"Find the number of sends, unique bounces, and the bounce rate (percent of bounces vs sends) per domain from deliveries attempted in the last month. Filter the records to only those Domains with at least 100 sends. Order by the bounce rate descending and limit to the top 20 records."}),(0,i.jsx)(s.p,{children:"If you send huge volumes, feel free to change the timeframe from last month to last week for the exercise."})]}),(0,i.jsxs)(a.A,{value:"hints",children:[(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Build query step by step and validate the output. In this case, it might be easiest to write SELECT for just the Domain with the suitable tables and date filter, then add the GROUP BY to validate aggregation and then go with additional aggregate functions."}),"\n",(0,i.jsxs)(s.li,{children:["All calculated values require an ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#aliasing-with-as",children:"alias"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Pick the right ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-join#join-types",children:"type of JOIN"})," and correct set of joining rules so that you get precisely those rows that you need (limit the fan-out created by the possibility of many bounces per single send)."]}),"\n",(0,i.jsx)(s.li,{children:"When building the date filter, the output will be completely different depending on which date you use (hopefully, not every send will have a bounce)."}),"\n",(0,i.jsx)(s.li,{children:"Unfortunately, in SFMC, you cannot use alias in WHERE/HAVING/ORDER BY and similar places - you have to use the function/calculation."}),"\n",(0,i.jsx)(s.li,{children:"When calculating Bounce Rate, do it so that the outcome is an integer equal to a percent."}),"\n"]}),(0,i.jsxs)(s.p,{children:["Important: Because of the Query Studio bug, you cannot have spaces around the multiplication symbol (",(0,i.jsx)(s.code,{children:"*"}),"); otherwise, you will see an error related to a bad practice blanket SELECTs."]})]}),(0,i.jsxs)(a.A,{value:"solution",children:[(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",metastring:'title="Solution working on Parent Business Unit"',children:"SELECT TOP 20\n      s.Domain\n    , COUNT(s.EventDate)    AS SendCount\n    , COUNT(b.EventDate)    AS BounceCount\n    , COUNT(b.EventDate)*100/COUNT(s.EventDate) AS BounceRate\nFROM _Sent AS s\n    LEFT JOIN _Bounce AS b\n        ON b.JobID = s.JobID\n        AND b.ListID = s.ListID\n        AND b.BatchID = s.BatchID\n        AND b.SubscriberID = s.SubscriberID\n        AND b.IsUnique = 1\nWHERE s.EventDate >= DATEADD(MONTH, -1, GETDATE())\nGROUP BY s.Domain\nHAVING COUNT(s.EventDate) >= 100\nORDER BY COUNT(b.EventDate)*100/COUNT(s.EventDate) DESC\n"})}),(0,i.jsx)(s.p,{children:"Bonus: This query might be performance heavy. One option to make it perform better is to shorten the timeframe in the WHERE filter. Another would be to split this query into two - one getting cumulative counts and the second responsible for doing math for Bounce Rate. Also, check how the numbers change when selecting only Hard Bounces."})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"level-7---coming-soon-ish",children:"Level 7 - coming soon-ish"}),"\n",(0,i.jsx)(s.p,{children:"I will add more levels once I finish writing supporting learning materials :)"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"writing-with-style",children:"Writing with style"}),"\n",(0,i.jsxs)(s.p,{children:["Knowing the available functions is one thing. Writing good and readable queries - another. Salesforce Marketing Cloud is always a team sport, so be sure to leverage the power of a ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-style-guide",children:"Style Guide"})," to improve the quality of your SQL."]}),"\n",(0,i.jsx)(s.h2,{id:"order-of-operations",children:"Order of operations"}),"\n",(0,i.jsx)(s.p,{children:"One of the key things to remember when building more complex queries is the order of operations, as it will decide what is in the output:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-from",children:(0,i.jsx)(s.code,{children:"FROM"})})," > ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-where",children:(0,i.jsx)(s.code,{children:"WHERE"})})," > ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-aggregate-functions#group-by",children:(0,i.jsx)(s.code,{children:"GROUP BY"})})," > ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-aggregate-functions#having",children:(0,i.jsx)(s.code,{children:"HAVING"})})," > ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#distinct",children:(0,i.jsx)(s.code,{children:"DISTINCT"})})," > ",(0,i.jsx)(s.a,{href:"/docs/sql/sfmc-sql-select#top-with-order-by",children:(0,i.jsx)(s.code,{children:"ORDER BY"})})]}),"\n",(0,i.jsxs)(s.p,{children:["It means that rows filtered with ",(0,i.jsx)(s.code,{children:"WHERE"})," will not be considered for ",(0,i.jsx)(s.code,{children:"GROUP BY"})," and that ",(0,i.jsx)(s.code,{children:"DISTINCT"})," deduplication will be applied to results grouped and filtered by ",(0,i.jsx)(s.code,{children:"HAVING"})," - not the source data."]}),"\n",(0,i.jsx)(s.h2,{id:"all-sql-guides",children:"All SQL Guides"}),"\n",(0,i.jsx)(o.A,{})]})}function x(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},3935:(e,s,n)=>{n.d(s,{A:()=>j});n(6540);var i=n(4164),t=n(5357),r=n(4783),l=n(7824),a=n(877),o=n(3230),c=n(5225);const d={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};var h=n(4848);function u(e){let{href:s,children:n}=e;return(0,h.jsx)(r.A,{href:s,className:(0,i.A)("card padding--lg",d.cardContainer),children:n})}function f(e){let{href:s,icon:n,title:t,description:r}=e;return(0,h.jsxs)(u,{href:s,children:[(0,h.jsxs)(c.A,{as:"h2",className:(0,i.A)("text--truncate",d.cardTitle),title:t,children:[n," ",t]}),r&&(0,h.jsx)("p",{className:(0,i.A)("text--truncate",d.cardDescription),title:r,children:r})]})}function m(e){let{item:s}=e;const n=(0,t.Nr)(s),i=function(){const{selectMessage:e}=(0,l.W)();return s=>e(s,(0,o.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:s}))}();return n?(0,h.jsx)(f,{href:n,icon:"\ud83d\uddc3\ufe0f",title:s.label,description:s.description??i(s.items.length)}):null}function x(e){let{item:s}=e;const n=(0,a.A)(s.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",i=(0,t.cC)(s.docId??void 0);return(0,h.jsx)(f,{href:s.href,icon:n,title:s.label,description:s.description??i?.description})}function g(e){let{item:s}=e;switch(s.type){case"link":return(0,h.jsx)(x,{item:s});case"category":return(0,h.jsx)(m,{item:s});default:throw new Error(`unknown item type ${JSON.stringify(s)}`)}}function p(e){let{className:s}=e;const n=(0,t.$S)();return(0,h.jsx)(j,{items:n.items,className:s})}function j(e){const{items:s,className:n}=e;if(!s)return(0,h.jsx)(p,{...e});const r=(0,t.d1)(s);return(0,h.jsx)("section",{className:(0,i.A)("row",n),children:r.map(((e,s)=>(0,h.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,h.jsx)(g,{item:e})},s)))})}},7227:(e,s,n)=>{n.d(s,{A:()=>l});n(6540);var i=n(4164);const t={tabItem:"tabItem_Ymn6"};var r=n(4848);function l(e){let{children:s,hidden:n,className:l}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,l),hidden:n,children:s})}},1870:(e,s,n)=>{n.d(s,{A:()=>w});var i=n(6540),t=n(4164),r=n(4245),l=n(6347),a=n(6494),o=n(2814),c=n(5167),d=n(9900);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:s,children:n}=e;return(0,i.useMemo)((()=>{const e=s??function(e){return h(e).map((e=>{let{props:{value:s,label:n,attributes:i,default:t}}=e;return{value:s,label:n,attributes:i,default:t}}))}(n);return function(e){const s=(0,c.XI)(e,((e,s)=>e.value===s.value));if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[s,n])}function f(e){let{value:s,tabValues:n}=e;return n.some((e=>e.value===s))}function m(e){let{queryString:s=!1,groupId:n}=e;const t=(0,l.W6)(),r=function(e){let{queryString:s=!1,groupId:n}=e;if("string"==typeof s)return s;if(!1===s)return null;if(!0===s&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:s,groupId:n});return[(0,o.aZ)(r),(0,i.useCallback)((e=>{if(!r)return;const s=new URLSearchParams(t.location.search);s.set(r,e),t.replace({...t.location,search:s.toString()})}),[r,t])]}function x(e){const{defaultValue:s,queryString:n=!1,groupId:t}=e,r=u(e),[l,o]=(0,i.useState)((()=>function(e){let{defaultValue:s,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(s){if(!f({value:s,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${s}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return s}const i=n.find((e=>e.default))??n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:s,tabValues:r}))),[c,h]=m({queryString:n,groupId:t}),[x,g]=function(e){let{groupId:s}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(s),[t,r]=(0,d.Dv)(n);return[t,(0,i.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:t}),p=(()=>{const e=c??x;return f({value:e,tabValues:r})?e:null})();(0,a.A)((()=>{p&&o(p)}),[p]);return{selectedValue:l,selectValue:(0,i.useCallback)((e=>{if(!f({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),g(e)}),[h,g,r]),tabValues:r}}var g=n(1062);const p={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=n(4848);function b(e){let{className:s,block:n,selectedValue:i,selectValue:l,tabValues:a}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const s=e.currentTarget,n=o.indexOf(s),t=a[n].value;t!==i&&(c(s),l(t))},h=e=>{let s=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;s=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;s=o[n]??o[o.length-1];break}}s?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},s),children:a.map((e=>{let{value:s,label:n,attributes:r}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:i===s?0:-1,"aria-selected":i===s,ref:e=>o.push(e),onKeyDown:h,onClick:d,...r,className:(0,t.A)("tabs__item",p.tabItem,r?.className,{"tabs__item--active":i===s}),children:n??s},s)}))})}function y(e){let{lazy:s,children:n,selectedValue:r}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(s){const e=l.find((e=>e.props.value===r));return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:l.map(((e,s)=>(0,i.cloneElement)(e,{key:s,hidden:e.props.value!==r})))})}function v(e){const s=x(e);return(0,j.jsxs)("div",{className:(0,t.A)("tabs-container",p.tabList),children:[(0,j.jsx)(b,{...s,...e}),(0,j.jsx)(y,{...s,...e})]})}function w(e){const s=(0,g.A)();return(0,j.jsx)(v,{...e,children:h(e.children)},String(s))}},7824:(e,s,n)=>{n.d(s,{W:()=>c});var i=n(6540),t=n(7639);const r=["zero","one","two","few","many","other"];function l(e){return r.filter((s=>e.includes(s)))}const a={locale:"en",pluralForms:l(["one","other"]),select:e=>1===e?"one":"other"};function o(){const{i18n:{currentLocale:e}}=(0,t.A)();return(0,i.useMemo)((()=>{try{return function(e){const s=new Intl.PluralRules(e);return{locale:e,pluralForms:l(s.resolvedOptions().pluralCategories),select:e=>s.select(e)}}(e)}catch(s){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${s.message}\n`),a}}),[e])}function c(){const e=o();return{selectMessage:(s,n)=>function(e,s,n){const i=e.split("|");if(1===i.length)return i[0];i.length>n.pluralForms.length&&console.error(`For locale=${n.locale}, a maximum of ${n.pluralForms.length} plural forms are expected (${n.pluralForms.join(",")}), but the message contains ${i.length}: ${e}`);const t=n.select(s),r=n.pluralForms.indexOf(t);return i[Math.min(r,i.length-1)]}(n,s,e)}}},6748:(e,s,n)=>{n.d(s,{U:()=>r});const i="leadText_qzwo";var t=n(4848);const r=e=>{let{content:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("p",{id:i,children:s})})}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var i=n(6540);const t={},r=i.createContext(t);function l(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);