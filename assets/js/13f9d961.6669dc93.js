"use strict";(self.webpackChunkmd=self.webpackChunkmd||[]).push([[8537],{4137:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},f=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=c(n),f=a,g=d["".concat(l,".").concat(f)]||d[f]||m[f]||r;return n?i.createElement(g,s(s({ref:t},u),{},{components:n})):i.createElement(g,s({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=f;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[d]="string"==typeof e?e:a,s[1]=o;for(var c=2;c<r;c++)s[c]=n[c];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}f.displayName="MDXCreateElement"},1872:(e,t,n)=>{n.d(t,{m:()=>r});var i=n(7294);const a="leadText_qzwo",r=e=>{let{content:t}=e;return i.createElement(i.Fragment,null,i.createElement("p",{id:a},t))}},5040:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>f,frontMatter:()=>s,metadata:()=>l,toc:()=>u});var i=n(7462),a=(n(7294),n(4137)),r=n(1872);const s={id:"sfmc-mcc-integration-patterns",title:"SFMC MCC Integration Patterns",sidebar_label:"MCC Integration Patterns",description:"Marketing Cloud Connect Architecture: Single-Org, Multi-Org and everything in between. Integrate Salesforce CRM and Marketing Cloud the right way.",image:"img/og/og-image-sfmc-mcc-integration-patterns.png",tags:["Marketing Cloud","CRM","Configuration","Setup","Integration","Automation"],toc_max_heading_level:4},o=void 0,l={unversionedId:"config/sfmc-mcc-integration-patterns",id:"config/sfmc-mcc-integration-patterns",title:"SFMC MCC Integration Patterns",description:"Marketing Cloud Connect Architecture: Single-Org, Multi-Org and everything in between. Integrate Salesforce CRM and Marketing Cloud the right way.",source:"@site/docs/config/sfmc-mcc-integration-patterns.mdx",sourceDirName:"config",slug:"/config/sfmc-mcc-integration-patterns",permalink:"/docs/config/sfmc-mcc-integration-patterns",draft:!1,editUrl:"https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/config/sfmc-mcc-integration-patterns.mdx",tags:[{label:"Marketing Cloud",permalink:"/docs/tags/marketing-cloud"},{label:"CRM",permalink:"/docs/tags/crm"},{label:"Configuration",permalink:"/docs/tags/configuration"},{label:"Setup",permalink:"/docs/tags/setup"},{label:"Integration",permalink:"/docs/tags/integration"},{label:"Automation",permalink:"/docs/tags/automation"}],version:"current",lastUpdatedBy:"Mateusz D\u0105browski",lastUpdatedAt:1691445973,formattedLastUpdatedAt:"Aug 7, 2023",frontMatter:{id:"sfmc-mcc-integration-patterns",title:"SFMC MCC Integration Patterns",sidebar_label:"MCC Integration Patterns",description:"Marketing Cloud Connect Architecture: Single-Org, Multi-Org and everything in between. Integrate Salesforce CRM and Marketing Cloud the right way.",image:"img/og/og-image-sfmc-mcc-integration-patterns.png",tags:["Marketing Cloud","CRM","Configuration","Setup","Integration","Automation"],toc_max_heading_level:4},sidebar:"docs",previous:{title:"Mobile Connect Data Views",permalink:"/docs/config/sfmc-mobile-connect-data-views"},next:{title:"Power of Code Resources",permalink:"/docs/config/sfmc-code-resource"}},c={},u=[{value:"Marketing Cloud Connect Basics",id:"marketing-cloud-connect-basics",level:2},{value:"Single-Org vs Multi-Org",id:"single-org-vs-multi-org",level:3},{value:"Additional MCC Considerations",id:"additional-mcc-considerations",level:3},{value:"Marketing Cloud Connect Patterns",id:"marketing-cloud-connect-patterns",level:2},{value:"Single-Org Patterns",id:"single-org-patterns",level:3},{value:"Single Business Unit Single-Org Setup",id:"single-business-unit-single-org-setup",level:4},{value:"Multiple Business Units Single-Org Setup",id:"multiple-business-units-single-org-setup",level:4},{value:"API Extended Single-Org Setup",id:"api-extended-single-org-setup",level:4},{value:"Merge-Org Setup",id:"merge-org-setup",level:4},{value:"Multi-Org Patterns",id:"multi-org-patterns",level:3},{value:"Basic Multi-Org Setup",id:"basic-multi-org-setup",level:4},{value:"Complex Multi-Org Setup",id:"complex-multi-org-setup",level:4},{value:"Filtered Multi-Org Setup",id:"filtered-multi-org-setup",level:4},{value:"Marketing Cloud Connect Best Practices",id:"marketing-cloud-connect-best-practices",level:2},{value:"Plan before you do",id:"plan-before-you-do",level:3},{value:"Document what you do",id:"document-what-you-do",level:3},{value:"Use dedicated emails",id:"use-dedicated-emails",level:3},{value:"Manage the data",id:"manage-the-data",level:3},{value:"Don&#39;t use Synchronized Data Extensions directly",id:"dont-use-synchronized-data-extensions-directly",level:3}],d={toc:u},m="wrapper";function f(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(r.m,{content:"Marketing Cloud Connect Architecture: Single-Org, Multi-Org and everything in between. Integrate Salesforce CRM and Marketing Cloud the right way.",mdxType:"LeadText"}),(0,a.kt)("h2",{id:"marketing-cloud-connect-basics"},"Marketing Cloud Connect Basics"),(0,a.kt)("p",null,"So you have Salesforce CRM & Marketing Cloud and want to integrate them to create data-driven, personalised customer engagement. Perfect idea, but don't start without throughout planning."),(0,a.kt)("p",null,"Unfortunately, Marketing Cloud is not (yet?) on the same Lightning Platform as the Salesforce CRM (be it Sales Cloud, Service Cloud, Health Cloud or what-have-you). It means that the data from one tool is not available out-of-the-box in the other for instant use."),(0,a.kt)("p",null,"Fortunately, an out-of-the-box integration suite made by Salesforce called Marketing Cloud Connect (MCC) lets you use those tools in tandem. It offers many features ranging from simple data sync between the platforms, through dedicated Journey Builder activities and AMPScript functions, to reporting feedback loop and extended marketing features for the CRM. Using it also means no need for custom API calls eating up the licence limits."),(0,a.kt)("p",null,"The connector is flexible and provides a wide range of configuration options to meet your organisation's needs. That's perfect, but it also means you must architect how you want the connection to work. It is especially true for the very initial step of deciding on the integration approach between the CRM(s) and SFMC(s), as configuration won't be (easily or even at all) reversible after the initial choice is made."),(0,a.kt)("p",null,"In this article, I will share quirks and features of possible integration patterns and help you make the right choice from the start. Let's dive in."),(0,a.kt)("h3",{id:"single-org-vs-multi-org"},"Single-Org vs Multi-Org"),(0,a.kt)("p",null,"When discussing Marketing Cloud Connect, the key thing to understand is the difference between Single-Org and Multi-Org SFMC configuration and their limits."),(0,a.kt)("p",null,"By default, each Marketing Cloud instance is configured as a Single-Org. It means it can connect to only one Salesforce CRM Org. The integration is done on SFMC's Parent Business Unit level, and benefits are shared across all available Business Units. It's a straightforward setup with two fundamental limitations: only one CRM Org can be integrated, and all Business Units have access to the same integration scope (data, permissions, features)."),(0,a.kt)("admonition",{title:"You Should Know",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"If you don't see some MCC features on Child Business Units on integrated Single-Org - create a Salesforce Support ticket. Some of the inheritance rules need to be enabled on the backend. It should be applied out-of-the-box, but sometimes it needs one more push.")),(0,a.kt)("p",null,"In most cases, when one of those limitations is against the business needs, the solution is to go Multi-Org. However, take that decision seriously - Multi-Org configuration can be enabled only by Salesforce Support, and ",(0,a.kt)("strong",{parentName:"p"},"it is not reversible")," (it is so important, I will repeat it few times in this article). Multi-Org has some limitations, and the only way to return to Single-Org is to get a completely new Salesforce Marketing Cloud Account."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Key differences"),(0,a.kt)("th",{parentName:"tr",align:null},"Single-Org"),(0,a.kt)("th",{parentName:"tr",align:null},"Multi-Org"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Integrated SF CRM Orgs"),(0,a.kt)("td",{parentName:"tr",align:null},"1"),(0,a.kt)("td",{parentName:"tr",align:null},"1 or many")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Integrated SFMC Business Units"),(0,a.kt)("td",{parentName:"tr",align:null},"All"),(0,a.kt)("td",{parentName:"tr",align:null},"Any or All")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Connected SF Integration Users"),(0,a.kt)("td",{parentName:"tr",align:null},"1"),(0,a.kt)("td",{parentName:"tr",align:null},"1 or many")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Integrated SFMC Business Units",(0,a.kt)("br",null),"per single SF Integration User"),(0,a.kt)("td",{parentName:"tr",align:null},"All"),(0,a.kt)("td",{parentName:"tr",align:null},"Up to 5")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Synchronised Data Extension",(0,a.kt)("br",null),"Configuration and Filtering"),(0,a.kt)("td",{parentName:"tr",align:null},"Shared"),(0,a.kt)("td",{parentName:"tr",align:null},"Shared per Integration User")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Synchronised Data Extension Visibility"),(0,a.kt)("td",{parentName:"tr",align:null},"Parent only or All"),(0,a.kt)("td",{parentName:"tr",align:null},"All integrated")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Shared Data Extension"),(0,a.kt)("td",{parentName:"tr",align:null},"Supported"),(0,a.kt)("td",{parentName:"tr",align:null},"Supported")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Shared Salesforce Data Extension"),(0,a.kt)("td",{parentName:"tr",align:null},"Supported"),(0,a.kt)("td",{parentName:"tr",align:null},"Not Supported")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Profile/Preference Center"),(0,a.kt)("td",{parentName:"tr",align:null},"Standard or Custom"),(0,a.kt)("td",{parentName:"tr",align:null},"Custom only")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Web Collect"),(0,a.kt)("td",{parentName:"tr",align:null},"Supported"),(0,a.kt)("td",{parentName:"tr",align:null},"Not Supported")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Disconnecting MCC Integration"),(0,a.kt)("td",{parentName:"tr",align:null},"On Parent for whole SFMC"),(0,a.kt)("td",{parentName:"tr",align:null},"On per Business Unit basis")))),(0,a.kt)("h3",{id:"additional-mcc-considerations"},"Additional MCC Considerations"),(0,a.kt)("p",null,"On top of the differences showcased above, there are a few other things that you should keep in mind:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"You can change Single-Org to Multi-Org anytime (existing integration will stay at Parent BU). You cannot change Multi-Org to Single-Org."),(0,a.kt)("li",{parentName:"ol"},"All Contact, Lead and User Synchronized Data Extensions records will be automatically added to the All Contacts list and counted against your licence limit."),(0,a.kt)("li",{parentName:"ol"},"With Multi-Org, you need to manage the duplicate Subscribers risk. If the same Contact, Lead or User exists in multiple integrated SF Orgs, it will have a different Contact ID in each of them and thus will be created as a separate Contact in SFMC."),(0,a.kt)("li",{parentName:"ol"},"You can only partially limit access to data between Business Units. There are some options to make data belonging to other BUs harder top see (like All Subscribers List filters or denied Shared Data Extensions permissions). Still, in the end, someone determined will be able to access the data, for example, through AMPScript/SSJS/SQL. The only currently available approach to fully silo the data is to have separate Salesforce Marketing Cloud Accounts."),(0,a.kt)("li",{parentName:"ol"},"You cannot connect multiple Salesforce CRM Orgs to a single Marketing Cloud Business Unit (unless you do it partially via the ",(0,a.kt)("a",{parentName:"li",href:"#api-extended-single-org-setup"},"API")," or using ",(0,a.kt)("a",{parentName:"li",href:"#merge-org-setup"},"merge org pattern"),")."),(0,a.kt)("li",{parentName:"ol"},"You cannot connect one Salesforce CRM Org to multiple Marketing Cloud Accounts (separate SFMCs) using Marketing Cloud Connect.")),(0,a.kt)("h2",{id:"marketing-cloud-connect-patterns"},"Marketing Cloud Connect Patterns"),(0,a.kt)("p",null,"With a high-level overview and fundamental limitations covered, let's discuss various possible integration patterns with their pros, cons and best-matched use cases."),(0,a.kt)("h3",{id:"single-org-patterns"},"Single-Org Patterns"),(0,a.kt)("p",null,"The default Salesforce Marketing Cloud configuration allows you to connect all Business Units to a single Salesforce CRM Org using the official Marketing Cloud Connect integration tool."),(0,a.kt)("h4",{id:"single-business-unit-single-org-setup"},"Single Business Unit Single-Org Setup"),(0,a.kt)("mermaid",{value:"graph LR\n crm1[(Salesforce CRM)]:::sfdc\n crmIU((CRM\\nIntegration User)):::mcc\n sfmcIU((SFMC\\nIntegration User)):::mcc\n sfmc1[(Marketing Cloud)]:::sfmc\n\n crm1 --\x3e crmIU\n crmIU -. Marketing Cloud\\nConnect .-> sfmcIU\n subgraph sfmc [Salesforce Marketing Cloud]\n sfmcIU --\x3e sfmc1\n end\n\n classDef sfdc fill:#1d73c9,color:#ffffff\n classDef sfmc fill:#f6b355,color:#ffffff\n classDef mcc fill:#333333,color:#ffffff"}),(0,a.kt)("p",null,"It is your choice if you have:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"one Salesforce CRM Org and"),(0,a.kt)("li",{parentName:"ul"},"one SFMC Business Unit")),(0,a.kt)("p",null,"Keep it simple and rejoice in straightforward architecture with no limitations."),(0,a.kt)("h4",{id:"multiple-business-units-single-org-setup"},"Multiple Business Units Single-Org Setup"),(0,a.kt)("mermaid",{value:'graph LR\n crm1[(Salesforce CRM)]:::sfdc\n crmIU((CRM\\nIntegration User)):::mcc\n sfmcIU((SFMC\\nIntegration User)):::mcc\n sfmc1[(Parent Business Unit)]:::sfmc\n sfmcBU1[(Child Business Unit 1)]:::sfmc\n sfmcBU2[(Child Business Unit 2)]:::sfmc\n sfmcBUn[("Child Business Unit (n)")]:::sfmc\n\n crm1 --\x3e crmIU\n crmIU -. Marketing Cloud\\nConnect .-> sfmcIU\n subgraph sfmc [Salesforce Marketing Cloud]\n sfmcIU --\x3e sfmc1\n sfmc1 -.-> sfmcBU1\n sfmc1 -.-> sfmcBU2\n sfmc1 -.-> sfmcBUn\n end\n\n classDef sfdc fill:#1d73c9,color:#ffffff\n classDef sfmc fill:#f6b355,color:#ffffff\n classDef mcc fill:#333333,color:#ffffff'}),(0,a.kt)("p",null,"It might be your choice if you have:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"one Salesforce CRM Org and"),(0,a.kt)("li",{parentName:"ul"},"multiple SFMC Business Units")),(0,a.kt)("p",null,"It is perfect if you are ok with all Business Units having the same configuration and filters applied. It brings simplicity and unlimited Business Unit scaling."),(0,a.kt)("p",null,"However, if you need to have different objects or scopes of Contacts/Leads/Users synchronised to each Business Unit, you will have to go with ",(0,a.kt)("a",{parentName:"p",href:"#filtered-multi-org-setup"},"Filtered Multi-Org Setup"),". Keep in mind that by doing so, you will:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"need separate Integration Users for each version of configuration/filtering"),(0,a.kt)("li",{parentName:"ul"},"loose possibility to hide Synchronized Data Extensions on Child Business Units"),(0,a.kt)("li",{parentName:"ul"},"loose Shared Salesforce Data Extensions"),(0,a.kt)("li",{parentName:"ul"},"loose Standard Profile Center"),(0,a.kt)("li",{parentName:"ul"},"loose Web Collect")),(0,a.kt)("p",null,"And as going Multi-Org is non-reversible, you should be 110% certain that custom configuration/filters are worth it."),(0,a.kt)("h4",{id:"api-extended-single-org-setup"},"API Extended Single-Org Setup"),(0,a.kt)("mermaid",{value:'graph LR\n crm1[(Salesforce CRM)]:::sfdc\n crm2[(Salesforce CRM\\nDev Org)]:::sfdc\n crmIU((CRM\\nIntegration User)):::mcc\n sfmcIU((SFMC\\nIntegration User)):::mcc\n sfmc1[(Parent Business Unit)]:::sfmc\n sfmcBU1[(Child Business Unit 1)]:::sfmc\n sfmcBU2[(Child Business Unit 2)]:::sfmc\n sfmcBUn[("Child Business Unit (n)")]:::sfmc\n sfmcBUDev[("Child Dev Business Unit")]:::sfmc\n\n crm1 --\x3e crmIU\n crmIU -. Marketing Cloud\\nConnect .-> sfmcIU\n crm2 -. API Integration ....-> sfmcBUDev\n subgraph sfmc [Salesforce Marketing Cloud]\n sfmcIU --\x3e sfmc1\n sfmc1 -.-> sfmcBU1\n sfmc1 -.-> sfmcBU2\n sfmc1 -.-> sfmcBUn\n sfmc1 -.-> sfmcBUDev\n end\n\n classDef sfdc fill:#1d73c9,color:#ffffff\n classDef sfmc fill:#f6b355,color:#ffffff\n classDef mcc fill:#333333,color:#ffffff'}),(0,a.kt)("p",null,"It might (but shouldn't) be your choice if you have:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"one production Salesforce CRM Org and"),(0,a.kt)("li",{parentName:"ul"},"one developer Salesforce CRM Org and"),(0,a.kt)("li",{parentName:"ul"},"multiple SFMC Business Units")),(0,a.kt)("p",null,"I wouldn't recommend this approach. In most cases, it is much better to either go with ",(0,a.kt)("a",{parentName:"p",href:"#basic-multi-org-setup"},"Basic Multi-Org Setup")," or ",(0,a.kt)("a",{parentName:"p",href:"#multiple-business-units-single-org-setup"},"Multiple BU Single-Org Setup")," and have test data in production CRM."),(0,a.kt)("p",null,"When might this pattern be the right one for you?"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"You have dozens of SFMC Business Units."),(0,a.kt)("li",{parentName:"ol"},"You want to use only one Integration User."),(0,a.kt)("li",{parentName:"ol"},"You want to avoid having dev/test data on production SF CRM.")),(0,a.kt)("p",null,"However, calculate the implementation cost of custom API integration and check the API licence limits, as you might find that going with Multi-Org will be better and cheaper in the end."),(0,a.kt)("p",null,"Additionally, this approach pushes both test and production data to your Dev & Test Business Unit (as you cannot limit the Single-Org MCC integration scope), which creates a risk of sending test assets to actual customers."),(0,a.kt)("h4",{id:"merge-org-setup"},"Merge-Org Setup"),(0,a.kt)("mermaid",{value:'graph LR\n crm1[(Salesforce CRM\\nOrg 1)]:::sfdc\n crm2[(Salesforce CRM\\nOrg 2)]:::sfdc\n crm3[(Salesforce CRM\\nOrg 3)]:::sfdc\n crm4[(Salesforce CRM\\nMerge Org)]:::sfdc\n crmIU((CRM Merge Org\\nIntegration User)):::mcc\n sfmcIU((SFMC\\nIntegration User)):::mcc\n sfmc1[(Parent Business Unit)]:::sfmc\n sfmcBU1[(Child Business Unit 1)]:::sfmc\n sfmcBU2[(Child Business Unit 2)]:::sfmc\n sfmcBUn[("Child Business Unit (n)")]:::sfmc\n\n crm1 --\x3e crm4\n crm2 --\x3e crm4\n crm3 --\x3e crm4\n crm4 --\x3e crmIU\n crmIU -. Marketing Cloud\\nConnect .-> sfmcIU\n subgraph sfmc [Salesforce Marketing Cloud]\n sfmcIU --\x3e sfmc1\n sfmc1 -.-> sfmcBU1\n sfmc1 -.-> sfmcBU2\n sfmc1 -.-> sfmcBUn\n end\n\n classDef sfdc fill:#1d73c9,color:#ffffff\n classDef sfmc fill:#f6b355,color:#ffffff\n classDef mcc fill:#333333,color:#ffffff'}),(0,a.kt)("p",null,"It might be your choice if you have:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"multiple Salesforce CRM Orgs and"),(0,a.kt)("li",{parentName:"ul"},"single SFMC with one or many Business Units")),(0,a.kt)("p",null,"This approach moves the complexity from Marketing Cloud Connect to Salesforce CRM. Using one SF Org as a Merge Org where the data from multiple other Orgs is synchronised, we can create simple MCC Single-Org integration covering all available Business Units."),(0,a.kt)("p",null,"Of course, it has (considerable) drawbacks:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Cost & Complexity - you need to have (and integrate into the data pipeline) yet another Salesforce CRM Org to serve as a Merge Org."),(0,a.kt)("li",{parentName:"ol"},"Real-timeness - as there is an additional step in the integration (Merge Org), the data sync loop will be slower.")),(0,a.kt)("p",null,"Due to the above, I would only consider this approach when you need data from multiple Salesforce CRMs in a single Business Unit and full support for Marketing Cloud Connect features (f.e. SF Journey Builder Activities and Entries)."),(0,a.kt)("h3",{id:"multi-org-patterns"},"Multi-Org Patterns"),(0,a.kt)("p",null,"The optional Salesforce Marketing Cloud configuration allows you to connect multiple Salesforce CRM Orgs to various Business Units or differentiate synchronised data filters on each Business Unit. You can enable it with a Support request but keep in mind it is not reversible - once it's switched on, there is no going back to Single-Org."),(0,a.kt)("h4",{id:"basic-multi-org-setup"},"Basic Multi-Org Setup"),(0,a.kt)("mermaid",{value:'graph LR\n crm1[(Salesforce CRM\\nOrg 1)]:::sfdc\n crm2[(Salesforce CRM\\nDev Org)]:::sfdc\n crm1IU((CRM Org 1\\nIntegration User)):::mcc\n crm2IU((CRM Dev Org\\nIntegration User)):::mcc\n sfmc1IU((SFMC\\nIntegration User)):::mcc\n sfmc2IU((SFMC\\nIntegration User)):::mcc\n sfmc1[(Parent Business Unit)]:::sfmc\n sfmcBU1[(Child Business Unit 1)]:::sfmc\n sfmcBU2[(Child Business Unit 2)]:::sfmc\n sfmcBU3[(Child Business Unit 3)]:::sfmc\n sfmcBU4[("Child Dev Business Unit")]:::sfmc\n\n crm1 --\x3e crm1IU\n crm1IU -. Marketing Cloud\\nConnect .-> sfmc1IU\n crm2 --\x3e crm2IU\n crm2IU -. Marketing Cloud\\nConnect .-> sfmc2IU\n subgraph sfmc [Salesforce Marketing Cloud]\n sfmc1IU --\x3e sfmc1\n sfmc1IU --\x3e sfmcBU1\n sfmc1IU --\x3e sfmcBU2\n sfmc1IU --\x3e sfmcBU3\n sfmc2IU --\x3e sfmcBU4\n end\n\n classDef sfdc fill:#1d73c9,color:#ffffff\n classDef sfmc fill:#f6b355,color:#ffffff\n classDef mcc fill:#333333,color:#ffffff'}),(0,a.kt)("p",null,"It might be your choice if you have:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"one production Salesforce CRM Org and"),(0,a.kt)("li",{parentName:"ul"},"one developer Salesforce CRM Org and"),(0,a.kt)("li",{parentName:"ul"},"multiple SFMC Business Units")),(0,a.kt)("p",null,"This pattern covers one of the most popular Multi-Org setups where you have between one and five production Business Units connected to the production Salesforce CRM Org and want a complete testing suite with dedicated Dev & Test Business Unit connected to a SF CRM Dev Org. It is the closest you can get to CI/CD due to the lack of a true SFMC sandbox offering."),(0,a.kt)("p",null,"It is a much cleaner approach than the ",(0,a.kt)("a",{parentName:"p",href:"#api-extended-single-org-setup"},"API Extended Single-Org Setup"),", and it doesn't have significant cons other than standard ",(0,a.kt)("a",{parentName:"p",href:"#single-org-vs-multi-org"},"Multi-Org limitations"),"."),(0,a.kt)("p",null,"If you have more than five production Business Units or need different data filters per each production Business Unit, you will need to go with ",(0,a.kt)("a",{parentName:"p",href:"#filtered-multi-org-setup"},"Filtered Multi-Org Setup")," instead."),(0,a.kt)("h4",{id:"complex-multi-org-setup"},"Complex Multi-Org Setup"),(0,a.kt)("mermaid",{value:"graph LR\n crm1[(Salesforce CRM\\nOrg 1)]:::sfdc\n crm2[(Salesforce CRM\\nOrg 2)]:::sfdc\n crm3[(Salesforce CRM\\nDev Org)]:::sfdc\n crm1IU((CRM Org 1\\nIntegration User)):::mcc\n crm2IU((CRM Org 2\\nIntegration User)):::mcc\n crm3IU((CRM Dev Org\\nIntegration User)):::mcc\n sfmc1IU((SFMC\\nIntegration User)):::mcc\n sfmc2IU((SFMC\\nIntegration User)):::mcc\n sfmc3IU((SFMC\\nIntegration User)):::mcc\n sfmc1[(Parent Business Unit)]:::sfmc\n sfmcBU1[(Child Business Unit 1)]:::sfmc\n sfmcBU2[(Child Business Unit 2)]:::sfmc\n sfmcBU3[(Child Business Unit 3)]:::sfmc\n sfmcBU4[(Child Business Unit 4)]:::sfmc\n\n crm1 --\x3e crm1IU\n crm1IU -. Marketing Cloud\\nConnect .-> sfmc1IU\n crm2 --\x3e crm2IU\n crm2IU -. Marketing Cloud\\nConnect .-> sfmc2IU\n crm3 --\x3e crm3IU\n crm3IU -. Marketing Cloud\\nConnect .-> sfmc3IU\n subgraph sfmc [Salesforce Marketing Cloud]\n sfmc1IU --\x3e sfmc1\n sfmc2IU --\x3e sfmcBU1\n sfmc2IU --\x3e sfmcBU2\n sfmc3IU --\x3e sfmcBU3\n sfmcBU4\n end\n\n classDef sfdc fill:#1d73c9,color:#ffffff\n classDef sfmc fill:#f6b355,color:#ffffff\n classDef mcc fill:#333333,color:#ffffff"}),(0,a.kt)("p",null,"It might be your choice if you have:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"multiple Salesforce CRM Orgs and"),(0,a.kt)("li",{parentName:"ul"},"multiple SFMC Business Units")),(0,a.kt)("p",null,"This pattern is where Multi-Org truly shines. Multiple CRMs (production, sandbox or dev) and multiple Business Units connected in various configurations - a prevalent approach for enterprises where each country or brand can have a separate CRM and dedicated SFMC Business Unit."),(0,a.kt)("p",null,"You can plan 1 CRM to 1 BU integrations, 1 CRM to multiple Business Units integrations and even keep some Business Units not integrated (for example, for markets using non-SF CRMs). This flexibility results in complexity, as each integration will require a separate configuration, connection and data pipeline."),(0,a.kt)("p",null,"If you want to connect more than five production Business Units to a single CRM within this setup, you will need to mix this approach with ",(0,a.kt)("a",{parentName:"p",href:"#filtered-multi-org-setup"},"Filtered Multi-Org Setup"),"."),(0,a.kt)("h4",{id:"filtered-multi-org-setup"},"Filtered Multi-Org Setup"),(0,a.kt)("mermaid",{value:"graph LR\n crm1[(Salesforce CRM\\nOrg 1)]:::sfdc\n crm2[(Salesforce CRM\\nDev Org)]:::sfdc\n crm1IU((CRM Org 1\\nIntegration User A)):::mcc\n crm2IU((CRM Org 1\\nIntegration User B)):::mcc\n crm3IU((CRM Org 1\\nIntegration User C)):::mcc\n crm4IU((CRM Dev Org\\nIntegration User)):::mcc\n sfmc1IU((SFMC\\nIntegration User)):::mcc\n sfmc2IU((SFMC\\nIntegration User)):::mcc\n sfmc3IU((SFMC\\nIntegration User)):::mcc\n sfmc4IU((SFMC\\nIntegration User)):::mcc\n sfmc1[(Parent Business Unit)]:::sfmc\n sfmcBU1[(Child Business Unit 1)]:::sfmc\n sfmcBU2[(Child Business Unit 2)]:::sfmc\n sfmcBU3[(Child Business Unit 3)]:::sfmc\n\n crm1 --\x3e crm1IU\n crm1IU -. Marketing Cloud\\nConnect Filter A .-> sfmc1IU\n crm1 --\x3e crm2IU\n crm2IU -. Marketing Cloud\\nConnect Filter B .-> sfmc2IU\n crm1 --\x3e crm3IU\n crm3IU -. Marketing Cloud\\nConnect Filter C .-> sfmc3IU\n crm2 --\x3e crm4IU\n crm4IU -. Marketing Cloud\\nConnect .-> sfmc4IU\n subgraph sfmc [Salesforce Marketing Cloud]\n sfmc1IU --\x3e sfmc1\n sfmc2IU --\x3e sfmcBU1\n sfmc3IU --\x3e sfmcBU2\n sfmc4IU --\x3e sfmcBU3\n end\n\n classDef sfdc fill:#1d73c9,color:#ffffff\n classDef sfmc fill:#f6b355,color:#ffffff\n classDef mcc fill:#333333,color:#ffffff"}),(0,a.kt)("p",null,"It might be your choice if you have:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"multiple Salesforce CRM Orgs and"),(0,a.kt)("li",{parentName:"ul"},"multiple SFMC Business Units")),(0,a.kt)("p",null,"This pattern leverages multiple CRM Integration Users per single CRM to get around two limitations of Marketing Cloud Connect:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"One CRM Integration User share Object synchronisation configuration and filters across all integrated Business Units."),(0,a.kt)("li",{parentName:"ol"},"One CRM Integration User in Multi-Org Setup can integrate up to five Business Units before the integration performance and stability are impacted.")),(0,a.kt)("p",null,"As you can see, both cases are per one CRM Integration User. And while you are limited to only one Marketing Cloud Connect in a single Salesforce CRM, you can have multiple Integration Users connecting to the target Marketing Cloud Account. It allows you to go around both those issues - and is now easier than ever on your licence costs with freshly introduced five free CRM integration users."),(0,a.kt)("admonition",{title:"You Should Know",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The workaround for up to five BUs limitation is straightforward - you create multiple integration users and connect each of them to up to five Business Units."),(0,a.kt)("p",{parentName:"admonition"},"The same is true for different Object configurations - for each Integration User you can choose other Objects and fields to synchronise."),(0,a.kt)("p",{parentName:"admonition"},"The workaround for unique filters adds a bit of complexity. While the filter setup can also be set per integration user just as the Object sync configuration, the filtering options are limited - with the most useful field-based filter available only on booleans."),(0,a.kt)("p",{parentName:"admonition"},"You can make the most of it by creating checkbox flags for your filters, for example, ",(0,a.kt)("inlineCode",{parentName:"p"},"IsGermanContact"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"IsUnitedStatesContact")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"IsPolishContact")," fields that match the country (or brand, or contact type) assignment of a Contact record."),(0,a.kt)("p",{parentName:"admonition"},"Keep in mind that those checkboxes cannot be calculated using a formula. You will need to fill them in using the default value, Apex Trigger or Flow (generally any means that triggers record update).")),(0,a.kt)("h2",{id:"marketing-cloud-connect-best-practices"},"Marketing Cloud Connect Best Practices"),(0,a.kt)("h3",{id:"plan-before-you-do"},"Plan before you do"),(0,a.kt)("p",null,'Abraham Lincoln once said "give me six hours to chop down a tree, and I will spend the first four sharpening the axe". While this is an excellent maxim for most Marketing Cloud work, it is especially true for Marketing Cloud Connect configuration. In the best case, the wrong decision can add you hours of work. In worst - it locks you with a suboptimal setup you can change only by purchasing a fresh Marketing Cloud Account. Plan, read up, check and recheck before you commit to the work.'),(0,a.kt)("h3",{id:"document-what-you-do"},"Document what you do"),(0,a.kt)("p",null,"Marketing Cloud Connect integration is complex, and - especially with Multi-Org - many configurations, usernames and passwords are involved. Document all of that. It will save you hours or days in the future."),(0,a.kt)("h3",{id:"use-dedicated-emails"},"Use dedicated emails"),(0,a.kt)("p",null,"When implementing Marketing Cloud Connect, you will need to create (sometimes a lot of) Integration Users. Don't use individual email addresses. Always make a dedicated group email inbox that will be used for those integration users. Employees come and go, and the last thing you want is to rebuild the whole integration from scratch on production because you cannot access the inbox of an employee that left a year ago."),(0,a.kt)("h3",{id:"manage-the-data"},"Manage the data"),(0,a.kt)("p",null,"Marketing Cloud Connect lets you move the data between the clouds. A lot of data. It can impact the performance of your platform and even create compliance risks. Always try to minimise the amount and visibility of the data to what is truly necessary."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Don't synchronise all Objects - pick only those truly needed."),(0,a.kt)("li",{parentName:"ol"},"Even if you have to synchronise useless prerequisite Objects, use synchronisation filters to stop the data from flowing. This is especially true for Leads and User Objects that are required but, in many cases, not needed. The easiest way to do so is to add on those Objects a ",(0,a.kt)("inlineCode",{parentName:"li"},"IsSynced")," checkbox that defaults to false and use it as a synchronisation filter."),(0,a.kt)("li",{parentName:"ol"},"Don't synchronise all fields - pick only those truly needed."),(0,a.kt)("li",{parentName:"ol"},"If you go Multi-Org, consider using different filters per Business Unit as suggested in ",(0,a.kt)("a",{parentName:"li",href:"#filtered-multi-org-setup"},"Filtered Multi-Org Setup"),"."),(0,a.kt)("li",{parentName:"ol"},"If you go Multi-Org, make the Parent Business Unit an administrative BU, not a production one. Parent will have visibility over data from all the integrations, which can lead to compliance issues in many setups."),(0,a.kt)("li",{parentName:"ol"},"If you go Multi-Org, be wary of duplicates - if you have the same Contact in two CRMs, those will have different Salesforce IDs and, therefore, will be created as two separate Contacts in SFMC (and eat up your licence contact count limit appropriately).")),(0,a.kt)("h3",{id:"dont-use-synchronized-data-extensions-directly"},"Don't use Synchronized Data Extensions directly"),(0,a.kt)("p",null,"Synchronised Data Extensions are fantastic - they get updated every 15 minutes with fresh data from Salesforce CRM. However, I wouldn't recommend using them directly as Journey Entries or segmentation/decisioning logic. If there is an issue with the Marketing Cloud Connect (be it a rare backend one or a more frequent user error), the Synchronized Data Extensions will disappear along with all the data. It will also break dependent Journeys."),(0,a.kt)("p",null,"Moreover, if you use a Multi-Org setup, Synchronised Data Extensions from subsequent integrations get a numeric suffix in their name. When the integration breaks, their name might change to a different suffix, breaking all your SQL queries."),(0,a.kt)("p",null,"I recommend creating Master Data Extensions that will capture all the needed data points from Synchronized Data Extensions and keep them updated with Automation Studio Query Activities. Then, use those Master Data Extensions for all your Journey, segmentation and decisioning needs instead of directly pulling from Synchronized DEs."),(0,a.kt)("p",null,"This approach will provide two security layers:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Master Data Extensions will not disappear even when there is an issue with Marketing Cloud Connect, meaning that the dependent assets will not break."),(0,a.kt)("li",{parentName:"ol"},"Master Data Extensions will keep the last synchronised version of data during the MCC crash, letting segmentation and decisioning work correctly on slightly older data while you fix the sync.")),(0,a.kt)("p",null,"Of course, there is one downside to this approach. As you need to use Automation Studio to copy Synchronised Data Extensions data to your Master Data Extensions, it will add 60 minutes (minimum Automation Studio schedule) to the 15-minute (minimum Marketing Cloud Connect schedule) delay in the real-timeness. Still, this is a small price for security and peace of mind."))}f.isMDXComponent=!0}}]);