(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{65:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var r=n(2),a=n(6),o=(n(0),n(83)),i=(n(89),n(90),n(84)),l={id:"ssjs-loops",title:"Loops"},s={unversionedId:"ssjs/ssjs-loops",id:"ssjs/ssjs-loops",isDocsHomePage:!1,title:"Loops",description:"For Loops",source:"@site/docs/ssjs/ssjs-loops.mdx",permalink:"/docs/ssjs/ssjs-loops",editUrl:"https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/ssjs/ssjs-loops.mdx",lastUpdatedBy:"Mateusz D\u0105browski",lastUpdatedAt:1595676682,sidebar:"snippets",previous:{title:"Docs & Snippets",permalink:"/docs/"},next:{title:"Debugging & Error Handling",permalink:"/docs/ssjs/debugging-ssjs"}},c=[{value:"For Loops",id:"for-loops",children:[{value:"For",id:"for",children:[]},{value:"For in",id:"for-in",children:[]}]},{value:"While Loops",id:"while-loops",children:[{value:"While",id:"while",children:[]},{value:"Do While",id:"do-while",children:[]}]}],b={rightToc:c};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)(i.a,{content:"Let's dive into limited looping options of the SSJS.",mdxType:"LeadText"}),Object(o.b)("h2",{id:"for-loops"},"For Loops"),Object(o.b)("h3",{id:"for"},"For"),Object(o.b)("p",null,"The classic ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop might be a bit long to write, but it has a lot of excellent properties:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Available in each JavaScript version."),Object(o.b)("li",{parentName:"ul"},"Works with ",Object(o.b)("inlineCode",{parentName:"li"},"break")," and ",Object(o.b)("inlineCode",{parentName:"li"},"continue")," statements for better looping control."),Object(o.b)("li",{parentName:"ul"},"Both initial and increment expressions can do multiple things."),Object(o.b)("li",{parentName:"ul"},"Condition is not limited to iterable size."),Object(o.b)("li",{parentName:"ul"},"Fast across various scenarios.")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:'{1} title="Example of for loop iterating over an array"',"{1}":!0,title:'"Example',of:!0,for:!0,loop:!0,iterating:!0,over:!0,an:!0,'array"':!0}),"for (var i = 0; i < array.length; i++) {\n    Write(i)                            // Returns the current iteration\n    Write(array[i] + '<br/><br/>');     // Returns the value of current element\n}\n")),Object(o.b)("p",null,"Let's break this down to five steps of ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Execute initial expression (",Object(o.b)("inlineCode",{parentName:"li"},"var i = 0")," in the above example)."),Object(o.b)("li",{parentName:"ol"},"Evaluate the condition (",Object(o.b)("inlineCode",{parentName:"li"},"i < array.length"),"). If it is false - the loop terminates. If true:"),Object(o.b)("li",{parentName:"ol"},"The statement within the loop is executed (",Object(o.b)("inlineCode",{parentName:"li"},"Write(array[i])"),")."),Object(o.b)("li",{parentName:"ol"},"Finally, the increment expression will evaluate (",Object(o.b)("inlineCode",{parentName:"li"},"i++"),")."),Object(o.b)("li",{parentName:"ol"},"The loop goes back to step 2 until it is false.")),Object(o.b)("p",null,"To optimize speed even more, cache the length used for condition:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:'{1} title="Initial expression assigns array.length to a variable to cache it"',"{1}":!0,title:'"Initial',expression:!0,assigns:!0,"array.length":!0,to:!0,a:!0,variable:!0,cache:!0,'it"':!0}),"for (var i = 0, range = array.length; i < range; i++) {\n    Write(i)                            // Returns the current iteration\n    Write(array[i] + '<br/><br/>');     // Returns the value of current element\n}\n")),Object(o.b)("p",null,"You can get more logic within the ",Object(o.b)("inlineCode",{parentName:"p"},"for")," declaration to have a cleaner statement within the loop:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:'{1} title="Provide itemValue variable instead of just current iteration"',"{1}":!0,title:'"Provide',itemValue:!0,variable:!0,instead:!0,of:!0,just:!0,current:!0,'iteration"':!0}),"for (var i = 0, itemValue = array[i], range = array.length; i < range; i++, itemValue = array[i]) {\n    Write(itemValue + '<br/><br/>');    // Returns the value of current element\n}\n")),Object(o.b)("p",null,"As ES6 ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/js/js-loops#for-of"}),"for...of")," loop is not available in SSJS, you will use this one in most scenarios."),Object(o.b)("h3",{id:"for-in"},"For in"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"for...in")," loop in modern JavaScript is used nearly only for debugging. It is because it loops not only over standard values but also over object prototype methods and properties."),Object(o.b)("p",null,"In SSJS however, the ES6 ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/js/js-loops#for-of"}),"for...of")," loop is not available. ",Object(o.b)("inlineCode",{parentName:"p"},"Object.keys()")," or ",Object(o.b)("inlineCode",{parentName:"p"},"Object.entries()")," also does not exist. This makes the ",Object(o.b)("inlineCode",{parentName:"p"},"for...in")," the only solution for iterating over objects."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:"{1}","{1}":!0}),"for (var key in object) {\n    Write(key + '<br/><br/>');\n}\n")),Object(o.b)("p",null,"In simple scripts created in SSJS you shouldn't have issues with the prototype methods and properties, however, if you encounter any issues, use ",Object(o.b)("inlineCode",{parentName:"p"},"hasOwnProperty")," method:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:"{2}","{2}":!0}),"for (var key in object) {\n    if (object.hasOwnProperty(key) && key != '_type') {\n        Write(key + '<br/><br/>');\n    }\n}\n")),Object(o.b)("p",null,"Remember to use ",Object(o.b)("inlineCode",{parentName:"p"},"for...in")," only for looping over objects. For any other scenario classic ",Object(o.b)("inlineCode",{parentName:"p"},"for")," loop is both safer and more powerful."),Object(o.b)("hr",null),Object(o.b)("h2",{id:"while-loops"},"While Loops"),Object(o.b)("h3",{id:"while"},"While"),Object(o.b)("p",null,"A ",Object(o.b)("inlineCode",{parentName:"p"},"while")," loop executes its statement as long as the condition evaluates to true."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:'{2} title="Infinite while loop"',"{2}":!0,title:'"Infinite',while:!0,'loop"':!0}),"var run = true\nwhile (run === true) {\n    Write('To the infinity and beyond!');\n}\n")),Object(o.b)("p",null,"To break out of ",Object(o.b)("inlineCode",{parentName:"p"},"while")," loop, there must be logic within it that will change the condition to false (or a ",Object(o.b)("inlineCode",{parentName:"p"},"break")," statement):"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:"{3}","{3}":!0}),"var run = true;\nvar i = 0;\nwhile (run === true) {\n    Write('To the infinity and beyond!');\n    i++;\n    if (i > 10) {\n        run = false;\n    }\n}\n")),Object(o.b)("p",null,"or just:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js",metastring:'{3} title="This loop has the same outcome as the one above"',"{3}":!0,title:'"This',loop:!0,has:!0,the:!0,same:!0,outcome:!0,as:!0,one:!0,'above"':!0}),"var run = true;\nvar i = 0;\nwhile (i <= 10) {\n    Write('To the infinity and beyond!');\n    i++;\n}\n")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"while")," loop is the best option for iterating over ",Object(o.b)("strong",{parentName:"p"},"big")," arrays."),Object(o.b)("h3",{id:"do-while"},"Do While"),Object(o.b)("p",null,"Same as ",Object(o.b)("inlineCode",{parentName:"p"},"while"),", but the code runs once before evaluating the condition."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"do {\n    Write('Running!');\n} while (run === true)\n")),Object(o.b)("p",null,"Perfect when you need to run an API call, check whether there are more pages of outcomes and act accordingly."))}p.isMDXComponent=!0},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),b=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=b(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=b(n),d=r,m=p["".concat(i,".").concat(d)]||p[d]||u[d]||o;return n?a.a.createElement(m,l(l({ref:t},c),{},{components:n})):a.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),o=n(48),i=n.n(o);const l=({content:e})=>a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{id:i.a.leadText},e))},85:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},86:function(e,t,n){"use strict";var r=n(0);const a=Object(r.createContext)(void 0);t.a=a},87:function(e,t,n){"use strict";var r=n(0),a=n(86);t.a=function(){const e=Object(r.useContext)(a.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},89:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(87),i=n(85),l=n(49),s=n.n(l);const c=37,b=39;t.a=function(e){const{block:t,children:n,defaultValue:l,values:p,groupId:u}=e,{tabGroupChoices:d,setTabGroupChoices:m}=Object(o.a)(),[f,j]=Object(r.useState)(l);if(null!=u){const e=d[u];null!=e&&e!==f&&p.some(t=>t.value===e)&&j(e)}const h=e=>{j(e),null!=u&&m(u,e)},O=[];return a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},p.map(({value:e,label:t})=>a.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":f===e,className:Object(i.a)("tabs__item",s.a.tabItem,{"tabs__item--active":f===e}),key:e,ref:e=>O.push(e),onKeyDown:e=>((e,t,n)=>{switch(n.keyCode){case b:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case c:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(O,e.target,e),onFocus:()=>h(e),onClick:()=>h(e)},t))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},r.Children.toArray(n).filter(e=>e.props.value===f)[0]))}},90:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",null,e.children)}}}]);