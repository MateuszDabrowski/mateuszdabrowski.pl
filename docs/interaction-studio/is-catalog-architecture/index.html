<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-interaction-studio/is-catalog-architecture">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">IS Catalog Architecture | Mateusz Dąbrowski</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mateuszdabrowski.pl/docs/interaction-studio/is-catalog-architecture/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="author" content="Mateusz Dąbrowski"><meta data-rh="true" name="theme-color" content="#212121"><meta data-rh="true" name="msapplication-TileColor" content="#F6B355"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="IS Catalog Architecture | Mateusz Dąbrowski"><meta data-rh="true" name="description" content="Interaction Studio (MC Personalization) Catalog Objects architecture, data ingestion, limitations, tricks and tips. Build right from the start."><meta data-rh="true" property="og:description" content="Interaction Studio (MC Personalization) Catalog Objects architecture, data ingestion, limitations, tricks and tips. Build right from the start."><meta data-rh="true" property="og:image" content="https://mateuszdabrowski.pl/img/og/og-image-interaction-studio-catalog-architecture.png"><meta data-rh="true" name="twitter:image" content="https://mateuszdabrowski.pl/img/og/og-image-interaction-studio-catalog-architecture.png"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mateuszdabrowski.pl/docs/interaction-studio/is-catalog-architecture/"><link data-rh="true" rel="alternate" href="https://mateuszdabrowski.pl/docs/interaction-studio/is-catalog-architecture/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mateuszdabrowski.pl/docs/interaction-studio/is-catalog-architecture/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://F4XVDD6BM8-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N46LB5K"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N46LB5K",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Mateusz Dąbrowski" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.ff06eacf.css">
<link rel="preload" href="/assets/js/runtime~main.dac03682.js" as="script">
<link rel="preload" href="/assets/js/main.b3b5f69b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-horizontal-light-2x.png" alt="Mateusz Dąbrowski Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-horizontal-dark-2x.png" alt="Mateusz Dąbrowski Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/zen-of-sfmc/">Zen of SFMC</a></li><li><a class="dropdown__link" href="/docs/category/ssjs/">SSJS</a></li><li><a class="dropdown__link" href="/docs/category/javascript/">JavaScript</a></li><li><a class="dropdown__link" href="/docs/category/ampscript/">AMPScript</a></li><li><a class="dropdown__link" href="/docs/category/sfmc-sql/">SFMC SQL</a></li><li><a class="dropdown__link" href="/docs/category/sfmc-config/">SFMC Config</a></li><li><a class="dropdown__link" href="/docs/category/interaction-studio/">Interaction Studio</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/">Snippets</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/category/ssjs-snippets/">SSJS</a></li><li><a class="dropdown__link" href="/docs/category/js-snippets/">JavaScript</a></li><li><a class="dropdown__link" href="/docs/category/ampscript-snippets/">AMPScript</a></li><li><a class="dropdown__link" href="/docs/category/sfmc-sql-snippets/">SFMC SQL</a></li><li><a class="dropdown__link" href="/docs/category/interaction-studio-snippets/">Interaction Studio</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/category/sfmc-webinars/">Webinars</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/webinars/sfmc-webinar-account-architecture/">SFMC Account Architecture</a></li><li><a class="dropdown__link" href="/docs/webinars/sfmc-webinar-architecting-web-solutions/">Architecting Web Solutions</a></li><li><a class="dropdown__link" href="/docs/webinars/sfmc-webinar-cloud-page-apps/">Cloud Page Apps</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/sites/category/ideas/">Ideas</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sites/ideas/marketing-cloud-ideas/">Marketing Cloud</a></li><li><a class="dropdown__link" href="/sites/ideas/interaction-studio-ideas/">Interaction Studio</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/tags/">Tags</a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/mateusz-dabrowski-pl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="LinkedIn Profile"></a><a href="https://trailblazer.me/id/madabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-salesforce-link" aria-label="Trailblazer Profile"></a><a href="https://github.com/MateuszDabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zen-of-sfmc/">Zen of SFMC</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/ssjs/">SSJS</a><button aria-label="Toggle the collapsible sidebar category &#x27;SSJS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/javascript/">JavaScript</a><button aria-label="Toggle the collapsible sidebar category &#x27;JavaScript&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/ampscript/">AMPScript</a><button aria-label="Toggle the collapsible sidebar category &#x27;AMPScript&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/sfmc-sql/">SFMC SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;SFMC SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/sfmc-config/">SFMC Config</a><button aria-label="Toggle the collapsible sidebar category &#x27;SFMC Config&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/interaction-studio/">Interaction Studio</a><button aria-label="Toggle the collapsible sidebar category &#x27;Interaction Studio&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/interaction-studio/is-catalog-architecture/">Catalog Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interaction-studio/is-open-time-email/">Open Time Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/category/interaction-studio-snippets/">» Interaction Studio Snippets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://help.salesforce.com/s/articleView?id=sf.mc_pers.htm" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">» Official IS Business Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://developer.salesforce.com/docs/marketing/personalization/guide/get-started.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">» Official IS Developer Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/interaction-studio/"><span itemprop="name">Interaction Studio</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Catalog Architecture</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>IS Catalog Architecture</h1></header><p id="leadText_qzwo">Interaction Studio (SFMC Personalization) Catalog Objects architecture, data ingestion, limitations, tricks and tips. Build right from the start.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="catalog-basics--limitations">Catalog Basics &amp; Limitations<a href="#catalog-basics--limitations" class="hash-link" aria-label="Direct link to Catalog Basics &amp; Limitations" title="Direct link to Catalog Basics &amp; Limitations">​</a></h2><p>The purpose of the Interaction Studio Catalog is to store your asseet data along with interconnecting relationships for personalisation and machine learning purposes.</p><p>There are five out-of-the-box objects: Products, Articles, Blog Posts, Categories and Promotions. You can also create <strong>up to 25 custom</strong> Catalog Objects.</p><p>Each Object contains some built-in attributes (like Name, URL, Description, Promotable) and can be extended with custom attributes up to a <strong>total of 35 attributes</strong> on an Object.</p><p>All of the above can be stitched together using prebuilt and custom relationships between Catalog Objects (for example, the built-in relationship between a Product and a Category) - allowing for connections of <strong>up to 15 Categories per Item</strong> and <strong>up to 50 related Catalog Object values per Item</strong>.</p><p>With <strong>up to 2 000 000 Items per Catalog</strong> and <strong>up to 10 000 000 Items in total</strong> across all Catalogs, Interaction Studio provides a lot of flexibility to architect a Catalog of your dreams.</p><p>However, some quirks and features require more consideration to make the most out of Marketing Cloud Personalization capabilities. Especially as some wrong moves can be tough to reverse. Let&#x27;s dive in.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="catalog-data-sources">Catalog Data Sources<a href="#catalog-data-sources" class="hash-link" aria-label="Direct link to Catalog Data Sources" title="Direct link to Catalog Data Sources">​</a></h2><p>There are three key sources of data for the Catalog:</p><ol><li><strong>Manual via UI</strong> - Good for checking data and performing minor fixes, but awful for data ingestion.</li><li><strong>Web/Mobile SDK</strong> - Real-time, but performance-heavy and dependent on user behaviour.</li><li><strong>ETL Feed</strong> - Best performance and can cover the whole Catalog regardless of user behaviour, but can be updated at most every 15 minutes.</li></ol><p>So which one should you use - Sitemap or ETL?</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-not-both">Why not both?<a href="#why-not-both" class="hash-link" aria-label="Direct link to Why not both?" title="Direct link to Why not both?">​</a></h3><p>Mixing both sources is very tempting as it sounds like the best of both worlds. Unfortunately, it is not recommended approach due to Interaction Studio&#x27;s backend limitations. Sending the same Items through both channels impacts performance, creates concurrency and can lead to incorrect and not-so-easy-to-fix issues with your Catalog.</p><p>For example, if you control the Exclusion and Eligibility of the Products using Sitemap and the <code>promotable</code> attribute, the ETL won&#x27;t be able to overwrite it (despite officially having higher priority as a data source). It can quickly lead to considerable discrepancies in Product availability for recommendations. Due to that, I recommend enabling Strict Catalog Security setting to protect your Catalog integrity if you are using ETL.</p><p>Another issue related to mixing is functional differences between the sources. For example, Sitemap and Category ETL use <a href="https://issues.salesforce.com/issue/a028c00000gAwJyAAK/interaction-studio-not-correctly-displaying-category-hierarchy" target="_blank" rel="noopener noreferrer">different mechanisms for building hierarchy</a> that are not compatible with each other.</p><p>To sum up - do not mix Sitemap and ETL. And if you have to - do not mix Sitemap and ETL on the same Object. And if you have to - do not mix Sitemap and ETL for the promotable and archived attributes. But really, do not mix it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sitemap-vs-etl">Sitemap vs ETL<a href="#sitemap-vs-etl" class="hash-link" aria-label="Direct link to Sitemap vs ETL" title="Direct link to Sitemap vs ETL">​</a></h3><p>Assuming you want to keep things clean, you have two options:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-interaction-studio-with-sitemap">1. Interaction Studio with Sitemap<a href="#1-interaction-studio-with-sitemap" class="hash-link" aria-label="Direct link to 1. Interaction Studio with Sitemap" title="Direct link to 1. Interaction Studio with Sitemap">​</a></h4><p>Pros:</p><ul><li>You need Sitemap either way.</li><li>The updates will happen in real-time once the User views the Item.</li><li>You can build a <a href="https://issues.salesforce.com/issue/a028c00000gAwJyAAK/interaction-studio-not-correctly-displaying-category-hierarchy" target="_blank" rel="noopener noreferrer">drill-down Category hierarchy</a> in the UI.</li></ul><p>Cons:</p><ul><li>Sitemap will be more complex - depending on where the Catalog details are available on the website (dataLayer, JSON LD, HTML), getting them might get convoluted and impact the performance of your data capture and Campaigns.</li><li>Changes to the website can break your data capture (for example, updates to breadcrumb attributes or dataLayer structure).</li><li>Catalog gets updated only when a user views an Item, which creates a risk of incorrect recommendations for less-visited Items.</li><li>Can trigger massive amounts of concurrent updates for high-traffic Items.</li><li>Cannot overwrite Multistring Object attributes and relationships (like Category) - Sitemap can only append.</li><li>Catalog can be manipulated from the front end by malicious actors.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-interaction-studio-with-etl">2. Interaction Studio with ETL<a href="#2-interaction-studio-with-etl" class="hash-link" aria-label="Direct link to 2. Interaction Studio with ETL" title="Direct link to 2. Interaction Studio with ETL">​</a></h4><p>Pros:</p><ul><li>Full Catalog upsert possible every 15 minutes (delta files recommended).</li><li>Full control over final Catalog values - regardless of Item page visits.</li><li>Better control over <a href="/docs/interaction-studio/snippets/is-catalog-etl-metadata-viewer/">history of value changes</a> and easier debugging.</li><li>Much better performance, especially for bigger Catalogs.</li><li>More secure with Strict Catalog Security option <br> <strong>WARNING</strong>: A bug currently stops Add To Cart and Purchase actions from being associated with Categories with this setting enabled.</li><li>Much more lean and performant Sitemap.</li></ul><p>Cons:</p><ul><li>Require you to export data in a particularly formatted .csv to IS SFTP.</li><li>Not real-time (but every 15 minutes is pretty damn close, come on!).</li><li>Doesn&#x27;t support <a href="/sites/ideas/interaction-studio-ideas/#full-is--mcp-category-hierarchy-support-for-etl">drill-down Category hierarchy</a> in the UI<sup><a href="#category-catalog-unique-attributes">*</a></sup>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-is-catalog-data-source">Recommended IS Catalog Data Source<a href="#recommended-is-catalog-data-source" class="hash-link" aria-label="Direct link to Recommended IS Catalog Data Source" title="Direct link to Recommended IS Catalog Data Source">​</a></h3><p>Considering the above, ETL seems like an obvious choice. And it nearly is. I see only two scenarios where we should choose Sitemap to populate the Catalog (spoiler alert, you should try to overcome those scenarios as much as possible):</p><ol><li>You must have Item (especially Product) updates in real-time.</li></ol><p>For example, due to swift changes in the price based on demand. Or due to having single-stock items that need to be pulled quickly from the recommendations (unfortunately, Purchase action does not adjust the stock). Consider this only if it is crucial for your business. Otherwise, the 15-minute cadence with ETL is close and lets you benefit from all the good things.</p><ol start="2"><li>You cannot schedule a correctly prepared .csv file to Interaction Studio SFTP.</li></ol><p>In most cases, your systems already use flat files and FTPs for communication, and you can extend the architecture to cover Interaction Studio. If not, many tools can help you transform your data cleanly into a nice .csv and add it to Marketing Cloud Personalization Feed with the correct naming convention. You can even leverage Marketing Cloud&#x27;s Automation Studio to prepare and deliver the files in the proper format! But sometimes data is just not there - and then, ETL is a no-go.</p><p>While you can begin with Sitemap and then migrate to the ETL approach, the transitory period may be problematic due to issues described in the <a href="#why-not-both">Why not both?</a> section above. I recommend finding a workaround and starting with the better option.</p><p>Once you know how to populate the Interaction Studio Catalog, it&#x27;s time to decide what you will be filling in.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="catalog-attributes">Catalog Attributes<a href="#catalog-attributes" class="hash-link" aria-label="Direct link to Catalog Attributes" title="Direct link to Catalog Attributes">​</a></h2><p>Each Catalog provides a set of attributes available on each Item. You can use them to store the metadata about Products, Categories or other Objects - and you can leverage it for recommendations and personalisations. However, there are some quirks and features that need to be taken into consideration when planning the Catalog Architecture.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="catalog-built-in-attributes">Catalog Built-in Attributes<a href="#catalog-built-in-attributes" class="hash-link" aria-label="Direct link to Catalog Built-in Attributes" title="Direct link to Catalog Built-in Attributes">​</a></h3><p>Let&#x27;s start with what is available out of the box. There are three groups of available attributes (basic, location-based and promotion-related), plus a few special attributes unique to Product and Category Catalogs.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="basic-catalog-attributes">Basic Catalog Attributes<a href="#basic-catalog-attributes" class="hash-link" aria-label="Direct link to Basic Catalog Attributes" title="Direct link to Basic Catalog Attributes">​</a></h4><table><thead><tr><th>Attribute</th><th>Data Type</th><th>Purpose</th><th>Comment</th></tr></thead><tbody><tr><td>ID</td><td>String</td><td>Unique identifier for each Item</td><td>It must be unique per Object and can be reused in others (for example, you can use the same ID in Product and Category Objects).</td></tr><tr><td>Name</td><td>String</td><td>Readable name of an Item</td><td>Used to identify an Item across the UI. It does not have to be unique; you might have multiple Items with the same name. Required to recommend an Item.</td></tr><tr><td>URL</td><td>String</td><td>Link to the Item</td><td>Redirect target when User clicks on an Item in a Campaign. Required to recommend an Item.</td></tr><tr><td>Image URL</td><td>String</td><td>Link used to display an Image of an Item</td><td>Used to showcase a Product. Required to recommend a Product (not needed for other Item types).</td></tr><tr><td>Description</td><td>String</td><td>Client-friendly description of an Item</td><td>Any text beyond 200 characters will be replaced with an ellipsis (<code>...</code>).</td></tr><tr><td>Average Rating</td><td>Decimal</td><td>Average score of an Item based on all Ratings</td><td>Useful as a filter for Einstein Recipes and Triggered Campaigns.</td></tr><tr><td>Number of Ratings</td><td>Integer</td><td>Number of ratings an Item gathered</td><td>Can be used in Serverside Code to conditionally hide Rating personalisation when it is based on a single rating.</td></tr></tbody></table><p>Out of the above Basic Catalog Attributes, the first four are the most important: ID, Name, URL, and Image URL. The Average Rating helps filter products for Campaigns. The rest might be helpful for personalization purposes, but can be skipped in most implementations.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="location-catalog-attributes">Location Catalog Attributes<a href="#location-catalog-attributes" class="hash-link" aria-label="Direct link to Location Catalog Attributes" title="Direct link to Location Catalog Attributes">​</a></h4><table><thead><tr><th>Attribute</th><th>Data Type</th></tr></thead><tbody><tr><td>City</td><td>String</td></tr><tr><td>State / Provine Code</td><td>String</td></tr><tr><td>Postal Code</td><td>String</td></tr><tr><td>Longitude</td><td>Decimal</td></tr><tr><td>Latitude</td><td>Decimal</td></tr><tr><td>Country Code</td><td>String</td></tr></tbody></table><p>Location-based Attributes are niche but powerful. They are utterly useless for most implementations (as in most cases, the Item is either available in many locations or its location is irrelevant). However, for businesses offering unique, location-based Items (hotels, houses, unique Products), filling those attributes allows for location-based recommendations (triggered by either User or currently viewed Item geo data).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="promotion-settings-catalog-attributes">Promotion Settings Catalog Attributes<a href="#promotion-settings-catalog-attributes" class="hash-link" aria-label="Direct link to Promotion Settings Catalog Attributes" title="Direct link to Promotion Settings Catalog Attributes">​</a></h4><table><thead><tr><th>Attribute</th><th>Data Type</th><th>Purpose</th><th>Comment</th></tr></thead><tbody><tr><td>Published</td><td>Datetime</td><td>Availability start date for an Item</td><td>Must be <code>null</code> or in the past for Interaction Studio to recommend the Item. If you set a future date - The Item will not be promoted until then.</td></tr><tr><td>Expiration</td><td>Datetime</td><td>Availability end date for an Item</td><td>Must be <code>null</code> or in the future for Interaction Studio to recommend the Item. Once you hit that date, the Item stops being recommended.</td></tr><tr><td>Promotable</td><td>Picklist</td><td>Marks whether Item should be Promoted</td><td>Items can be either Eligible or Excluded. Only Eligible ones will be returned in the recommendations, regardless of Published/Expiration values.</td></tr><tr><td>Archived</td><td>Boolean</td><td>Marks whether Item should be Archived</td><td>Archived Items are treated as Excluded (won&#x27;t be recommended) and are hidden from the Catalog UI.</td></tr></tbody></table><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_S0QG"><p>Published and Expiration fields (as all Interacton Studio date type fields) use ISO-8601 datetime formar. You must pass them as <code>2022-04-12T10:23:37Z</code>.</p><p>If you want to push a datetime to Interaction Studio using <a href="#2-interaction-studio-with-etl">ETL</a>, you can prepare the data with SQL using clean <a href="/docs/sql/sfmc-sql-date-functions/#format-with-dates">FORMAT</a>: <code>FORMAT(YourDateField,&#x27;yyyy-MM-ddTHH:mm:ssZ&#x27;)</code> and output it to a String field type (Text, if we are talking SFMC Data Extension).</p></div></div><p>Promotion-related attributes are crucial for controlling what Interaction Studio will recommend. They are also the most tricky ones, as they seem to be very similar to each other. Rule of thumb when selecting what to use:</p><ol><li>If you are frequently updating the Catalog (thanks to using <a href="#2-interaction-studio-with-etl">ETL</a>), go with the Promotable attribute.</li><li>If you have less control over when the update will come (due to using <a href="#1-interaction-studio-with-sitemap">Sitemap</a>), or need the recommendation to start/end at a particular time that is not perfectly aligned with your sync schedule, go with Published/Expiration attributes.</li><li>If you are sure you don&#x27;t need an Item, archive it. But it is a last resort solution for incorrect data, not a general tool for managing Catalog content.</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_S0QG"><p>Archiving does not delete Items (there is no such option in Interaction Studio). It only hides them from the Catalog UI while preserving all its values. It has two significant ramifications:</p><ol><li>Interaction Studio still uses archived Items for the personalisation engine - especially as anchors for recommendations. For example, a campaign promoting Similar Items to the Item currently viewed will work on the archvied Item page (and leverage all its metadata). If you want to avoid it, clean all attributes and relationships before archiving.</li><li>You can&#x27;t easily find archived items to make any changes or unarchive them. Find partial workarounds in the <a href="#view-archived-items-in-the-is-catalog">Tips &amp; Tricks section</a>.</li></ol></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="product-catalog-unique-attributes">Product Catalog Unique Attributes<a href="#product-catalog-unique-attributes" class="hash-link" aria-label="Direct link to Product Catalog Unique Attributes" title="Direct link to Product Catalog Unique Attributes">​</a></h4><table><thead><tr><th>Attribute</th><th>Data Type</th><th>Purpose</th><th>Comment</th></tr></thead><tbody><tr><td>Units in Stock</td><td>Integer</td><td>Provides products Inventory Count</td><td>If the Product is available, but the exact stock is unknown, provide 1. Otherwise, it will not get recommended.</td></tr><tr><td>Alternate ID</td><td>Multistring</td><td>Pipe-separated SKUs for the Product</td><td>As there is no option to provide separate details for each SKU, it&#x27;s pretty useless now.</td></tr><tr><td>Price</td><td>Decimal</td><td>Current price of the product</td><td>Used for personalization and Einstein Recipe price-based filtering. A price equal to 0 will block the Product from recommendations.</td></tr><tr><td>List Price</td><td>Decimal</td><td>Full sticker price of the product</td><td>Useful for price drop personalization and Product Price Reduction Triggered Campaigns. Unfortunately, there is no Price Reduction Recipe <a href="/sites/ideas/interaction-studio-ideas/#price-reduction-ingredient-in-einstein-recipes">yet</a>.</td></tr><tr><td>Price Description</td><td>String</td><td>Information about the current Price</td><td>You can pass here the promotion name that resulted in a lower Price for personalisation purposes.</td></tr><tr><td>Currency</td><td>String</td><td>ISO-4217 Currency Code</td><td>Required when you enable Product Localization and capture Product price in multiple currencies. To pass Currency, you need to pass it along with Locale.</td></tr><tr><td>Margin</td><td>Decimal</td><td>Profit margin on the Product</td><td>Useless.</td></tr></tbody></table><p>As you can see, there are two must-have attributes - Units in Stock and Price - followed by one highly recommended for most implementations - List Price. The rest is either niche or useless.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_S0QG"><p>The Price attribute should reflect the current global price. Apply site-wide promotions to it, but don&#x27;t change it to a Client-specific or voucher-based ones. The Product can have only one Price.</p><p>Don&#x27;t worry about the final, unique basket price. Cart and Purchase actions have a separate model for storing the Product price data allowing for per-customer uniqueness without impacting the global Product Catalog Price.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="category-catalog-unique-attributes">Category Catalog Unique Attributes<a href="#category-catalog-unique-attributes" class="hash-link" aria-label="Direct link to Category Catalog Unique Attributes" title="Direct link to Category Catalog Unique Attributes">​</a></h4><table><thead><tr><th>Attribute</th><th>Data Type</th><th>Purpose</th><th>Comment</th></tr></thead><tbody><tr><td>ID Path</td><td>Multistring</td><td>Stores Category hierarchy information</td><td>Each Category can have only one Parent Category, and the root (top-level) Category should have this field empty.</td></tr><tr><td>Is Department</td><td>Boolean</td><td>Marks root (top-level) Category</td><td>Used in Einstein Recipes for Department-based configurations.</td></tr></tbody></table><p>Dedicated Category Catalog attributes focus on the hierarchical relationship between the Categories. This area is a bit of a mess in the Interaction Studio because it works differently depending on whether you use <a href="#2-interaction-studio-with-etl">ETL</a> or <a href="#1-interaction-studio-with-sitemap">Sitemap</a>.</p><ol><li><strong>Sitemap-based hierarchy</strong> is using the <a href="#basic-catalog-attributes">basic ID attribute</a>. It expects pipe-delimited IDs providing a full hierarchy path, so <code>Electronics</code> (single ID) for root Category, <code>Electronics|Computers</code> (two IDs pipe-delimited) for first-level child Category and so on for further levels (it can get quite long for deeper structures: <code>Electronics|Computers|Laptops|Ultrabooks</code>). It will unlock the visual hierarchy with tracking data rollups in the Category Catalog UI.</li><li><strong>ETL-based hierarchy</strong> uses the ID Path and Is Department attributes unique to Category Catalog. Each Category has a single ID, passes a single Parent ID (if it has a parent) or Is Department as True (if it doesn&#x27;t have a parent) and based on the above, Interaction Studio generates the ID Path. It&#x27;s cleaner, but it won&#x27;t provide the nice visual hierarchy with tracking data rollups in the Category Catalog UI as the Sitemap option offers. I created an <a href="/sites/ideas/interaction-studio-ideas/#full-is--mcp-category-hierarchy-support-for-etl">Idea to fix that</a>.</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_S0QG"><p>Officially, there is no option to overcome the above limitations. If you try to push pipe-delimited IDs via Product ETL, they will be treated as separate values and assign the Product to multiple categories.</p><p>However, if you dare, there is a workaround to eat a cookie and have a cookie. You can push Sitemap-style IDs via ETL and create the visual hierarchy in Category UI if you replace pipes with their hex code: <code>&amp;#x7c;</code>. So instead of <code>Electronics|Computers|Laptops|Ultrabooks</code>, you would have to push <code>Electronics&amp;#x7c;Computers&amp;#x7c;Laptops&amp;#x7c;Ultrabooks</code>.</p><p>Remember that it is not official or supported and can break anytime. Implementing it is risky. But for now, it works.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="catalog-custom-attributes">Catalog Custom Attributes<a href="#catalog-custom-attributes" class="hash-link" aria-label="Direct link to Catalog Custom Attributes" title="Direct link to Catalog Custom Attributes">​</a></h3><p>Outside of the built-in attributes, you can go wild with custom ones until you hit 35 attributes of any type on a single Object. Those are great for personalization - crucial for an Open Time Email campaign where you don&#x27;t have much wiggle room to manipulate the values.</p><p>Unfortunately, there is a considerable feature gap related to custom Catalog Attributes, limiting their usefulness. You cannot use them in Einstein Recipes to Include, Exclude, Boost or limit with Variations.</p><p>That&#x27;s a huge letdown, but fear not. There is a workaround - custom Catalog Objects and Object relationships.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-catalog-objects">Custom Catalog Objects<a href="#custom-catalog-objects" class="hash-link" aria-label="Direct link to Custom Catalog Objects" title="Direct link to Custom Catalog Objects">​</a></h2><p>Let&#x27;s start with the basics. You can create (up to 25) custom Catalog Objects that extend the out-of-the-box set of Products, Articles, Blog Posts, Categories and Promotions Objects. Like the built-in ones, custom Objects structure and group Items assigned to them.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_S0QG"><p>Depending on where you look in the Interaction Studio, you might still see &quot;Dimensions&quot; - an old name for related Catalog Objects.</p></div></div><p>Custom Catalog Objects have three superpowers:</p><ol><li>You can create relationships between Items from various Catalogs (for example, between specific Products and specific colours in custom &quot;Color&quot; Catalog Object - this doesn&#x27;t sound awesome now, but the following two points will show you that it is something completely different from custom Attributes).</li><li>You can capture the affinity of each User towards those related Items (for example, how much each User likes specific colour).</li><li>You can leverage them in Einstein Recipes in multiple ways.</li></ol><p>This set of features makes custom Catalog Objects a big deal when you want absolute control over your recommendations. Examples? Sure.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promotions-related-catalog-object">Promotions Related Catalog Object<a href="#promotions-related-catalog-object" class="hash-link" aria-label="Direct link to Promotions Related Catalog Object" title="Direct link to Promotions Related Catalog Object">​</a></h3><p>You want to recommend only the products that are on promotion. Create a custom Catalog Object &quot;Promotions&quot; with an Item &quot;Promoted&quot; and assign it (via <a href="#2-interaction-studio-with-etl">ETL</a> or <a href="#1-interaction-studio-with-sitemap">Sitemap</a>) to each deserving Product. Then you can use this information in Einstein Recipes » Exclusion tab to Include the &quot;Promotions&quot; Catalog and select &quot;Promoted&quot; using &quot;from explicit selection&quot; option.</p><p>You can even go a step further and create additional Items in that Catalog like &quot;0-10%&quot;, &quot;11-20%&quot;, &quot;21-30%&quot;, etc., to be able to include (or prioritize in the Serverside Code of the template) more significant promotions.</p><p>More? Extend that Catalog with specific promotion names like &quot;BlackFriday&quot;, &quot;CyberMonday&quot;, &quot;SpeedyTuesday&quot;, &quot;FreeDelivery&quot;, &quot;AnotherPromotionBecauseWeNeedToCloseTheQuarterHigherToGetBonus&quot; and assign those to all eligible products. Now you can create different Recipes for each promotion and show each customer the best products for their needs that are currently at a better price.</p><p>Still not satisfied? Ask your database mages to calculate the standard deviation for each current price drop per Product or Category and use it to assign the &quot;coolness factor&quot; of the promotion. 10% on phone cases differs from 10% on the newest flagship smartphone. Use that to focus on the real treats in your recommendations.</p><p>Just remember that a single relationship (like this &quot;Promotions&quot;) can store a maximum of 50 values per Item (per specific Product in this case), so don&#x27;t go overboard ;)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="features-related-catalog-objects">Features Related Catalog Objects<a href="#features-related-catalog-objects" class="hash-link" aria-label="Direct link to Features Related Catalog Objects" title="Direct link to Features Related Catalog Objects">​</a></h3><p>Another widespread use case is to display products similar to the one currently viewed (especially when the Product is Out Of Stock).</p><p>Sure, there is a Similar Items Ingredient in Einstein Recipes. Still, with custom Catalog Objects, you can bring it to the next level by sharing crucial specification details (like graphic card, storage, colour, price bracket) and returning recommendations of products that are genuinely a matching alternative - not just from the name.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-affinity-wheel">Custom Affinity Wheel<a href="#custom-affinity-wheel" class="hash-link" aria-label="Direct link to Custom Affinity Wheel" title="Direct link to Custom Affinity Wheel">​</a></h3><p>Another excellent use case for custom Catalog Objects is related to the Affinity Wheel you can see when viewing a User Profile. By default, you will see four values: Category, Product Class, Brand and Color. While those are good choices for many brands, they are not always the perfect match for your business.</p><p>Thankfully, there is a (dirty) way to change it. You won&#x27;t be able to swap Category (and that&#x27;s fine, as it is a must-have one, in my opinion), but the other three are yours to take.</p><p>To make them whatever you want, create a custom Catalog Object with a special ID: Style, Brand or ItemClass. Use one of those and put what you want in the Name. Once you save it, Interaction Studio will show the Name and selected Items in the Affinity Wheel.</p><p>Unfortunately, you will have to use those hardcoded IDs for populating data via <a href="#2-interaction-studio-with-etl">ETL</a> or <a href="#1-interaction-studio-with-sitemap">Sitemap</a>. Not perfect, but it still makes your Affinity Wheel nice and valuable.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="catalog-tips--tricks">Catalog Tips &amp; Tricks<a href="#catalog-tips--tricks" class="hash-link" aria-label="Direct link to Catalog Tips &amp; Tricks" title="Direct link to Catalog Tips &amp; Tricks">​</a></h2><p>There are some gotchas you can encounter when working with Interaction Studio Catalog. Here I gathered solutions to frequent problems and some undocumented tricks that can make your life easier.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-is-recommends-an-item">When IS recommends an Item?<a href="#when-is-recommends-an-item" class="hash-link" aria-label="Direct link to When IS recommends an Item?" title="Direct link to When IS recommends an Item?">​</a></h3><p>Understanding when Interaction Studio decides to recommend an Item might not be that easy, as there are quite a lot of rules checked in the backend:</p><ol><li>Four conditions related to special <a href="#promotion-settings-catalog-attributes">Promotion attributes</a>:<ul><li>Item cannot be Archived</li><li>Item must be Eligible</li><li>Item cannot have Published date in the future</li><li>Item cannot have Expiration date in the past</li></ul></li><li>Two conditions related to key <a href="#basic-catalog-attributes">Basic attributes</a>:<ul><li>Item must have Name</li><li>Item must have URL</li></ul></li><li>Three Product-only conditions related to that Object&#x27;s <a href="#product-catalog-unique-attributes">Unique attributes</a>:<ul><li>Product must have Image</li><li>Product must have Price</li><li>Product must have Inventory</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="items-missing-in-is-catalog">Items missing in IS Catalog<a href="#items-missing-in-is-catalog" class="hash-link" aria-label="Direct link to Items missing in IS Catalog" title="Direct link to Items missing in IS Catalog">​</a></h3><p>If you cannot find an Item in the Catalog UI, there are three possible options:</p><ol><li><strong>The Item is not in the Catalog</strong> - Check .csv files on the SFTP if you are using <a href="#2-interaction-studio-with-etl">ETL</a> or use Visual Editor to validate whether the Item is captured by the <a href="#1-interaction-studio-with-sitemap">Sitemap</a>.</li><li><strong>The Item is filtered out with Date Picker</strong> - Interaction Studio displays an Item in the Catalog only if there was any Item Action (View, Add to Cart or Purchase) in that time range selected in the Date Picker. You can extend it to up to 5 years to see more Items. Alternatively, use <a href="/docs/interaction-studio/snippets/is-catalog-etl-metadata-viewer/">my viewer script</a> that shows all non-archived Items.</li><li><strong>The Item is archived</strong> - Catalog does not display archived Items. Check out possible workarounds <a href="#view-archived-items-in-the-is-catalog">here</a>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-is-not-added-to-is-catalog">Data is not added to IS Catalog<a href="#data-is-not-added-to-is-catalog" class="hash-link" aria-label="Direct link to Data is not added to IS Catalog" title="Direct link to Data is not added to IS Catalog">​</a></h3><p>If Items are not <a href="#items-missing-in-is-catalog">missing in the Interaction Studio Catalog</a>, but you don&#x27;t see the data you expect, there are three options:</p><ol><li><strong>You have Strict Catalog Security enabled</strong> - In Interaction Studio » Settings » Catalog and Profile Objects » Catalog Settings » Security section » Strict Catalog Security option. If it is checked and you use Sitemap, only the Item ID will be added to the Catalog. It is a security feature that protects the integrity of your data, but you should use it only if you are using <a href="#2-interaction-studio-with-etl">ETL</a> to populate the Catalog metadata. You should uncheck if you use <a href="#1-interaction-studio-with-sitemap">Sitemap</a> to build Catalog.</li><li><strong>You send item localization with the Catalog Localization switched off</strong> - In Interaction Studio » Settings » Catalog and Profile Objects » Catalog Settings » Locale section » Localization of Catalog Metadata Based on Page Locale option. If it is unchecked, but you push locale along with Item data, it will be ignored by Interaction Studio. Either remove the locale information or enable that option.</li><li><strong>You have a bug in the Sitemap</strong> - Use Visual Editor from the Salesforce Interactions browser extension and execute Sitemap in it on the Item page. Check the left pane to see if the data is populated there. If not - you must fix the JavaScript that captures that data from the website.</li><li><strong>You have another bug in the Sitemap</strong> - If Visual Editor shows all the data, but you still don&#x27;t have it on most Items, the most probable reason is an issue with timing. Depending on how you capture Item metadata, some might not be available when the Sitemap executes on page load (but is ready when you launch the browser extension). Add a <code>console.log</code> to see whether the data is ready when needed, and leverage JS promises to solve the issue.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="export-full-is-catalog-data">Export full IS Catalog data<a href="#export-full-is-catalog-data" class="hash-link" aria-label="Direct link to Export full IS Catalog data" title="Direct link to Export full IS Catalog data">​</a></h3><p>Officially, the only option to export your Catalog data is to open the Catalog listing in the Interaction Studio UI and click the Export button in the top right. Sounds easy, but there are three big problems with it:</p><ol><li><strong>You have limited control over what it will export</strong> - The export file returns ID, Name, Views, ViewTime, AverageViewSeconds and URL. The Product Catalog will also contain Cart, Purchase, Revenue, Price, Categories, and all related Catalog Objects (each as concatenated IDs without any delimiter...). Och and you cannot Export Categories at all. No way to get any additional details like other attributes (especially the key ones like Inventory Stock, Promotion State, Archived, etc.).</li><li><strong>You might not be able to export all Items</strong> - The export file will contain only the Items in the current Catalog view. It means that the Date Picker in the top right impact the scope of returned Items. Date Picker has a limited range possible, so you might need to do multiple exports and deduplicate outcomes in the future. Items that do not yet have any action (view, cart or purchase) will also not be visible.</li><li><strong>You cannot export archived Items</strong> - Export contains only visible Items - and archived ones are hidden. So no luck. I discuss partial workarounds <a href="#view-archived-items-in-the-is-catalog">here</a>.</li></ol><p>Ok, you know all the limitations. What now?</p><p>I started this section with &quot;officially&quot; because I found an unofficial way. It&#x27;s not as clean, but it solves most problems:</p><ol><li>You need a .csv file with all Item Ids - You can get it using the official export described above or pull it from your website/e-commerce database. Extend that .csv with (empty) columns containing all your attributes and related Catalog Objects and one row with an ID that doesn&#x27;t exist in your Catalog (ID <code>fullDataPlease</code> in the example below). For Product it might look like that:</li></ol><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">id,categories,attribute:name,attribute:url,attribute:imageUrl,attribute:description,attribute:promotable,attribute:price,attribute:listPrice,attribute:priceDescription,attribute:margin,attribute:inventoryCount,attribute:published,attribute:expiration,attribute:currency,attribute:archived,attribute: Rating,attribute:numRatings,attribute:myCustomAttribute1,attribute:myCustomAttribute2,relatedCatalogObject:myRelatedCatalogObject1,relatedCatalogObject:myRelatedCatalogObject2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">123,,,,,,,,,,,,,,,,,,,,,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">456,,,,,,,,,,,,,,,,,,,,,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fullDataPlease,,,,,,,,,,,,,,,,,,,,,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Upload that file to the testing folder on the Interaction Studio SFTP</li><li>In Interaction Studio UI, go to Feeds » Feeds Dashboard » Select the right ETL (all custom Catalog Objects are using CatalogObjectETL) and click Validate or Execute button at the top.</li><li>Click Select File » Double click the Testing folder » Select your .csv file. In the File Data section, you should see all the columns you have passed and all the items with only the ID column filled in.</li><li>Click Run Test in the bottom left and wait for it to complete. It might take some time for bigger loads. Do <strong>NOT</strong> click the Commit button once it is ready.</li><li>Click the Export <code>{Something}</code> button in the bottom right - the download will start for the stagedObjects file.</li><li>Open it, and you will see three key row types: labels in the first row and then rows starting with either Original or Change value. You don&#x27;t need any of the Change ones. Filter them out with the tool of your choice. I like to do it in VSCode with <code>^Change.*(\n|)</code> regex replacement to nothing.</li><li>Here you have it; the full Interaction Studio Catalog exported to a .csv file. Two notes: fields you pushed with the <code>relatedCatalogObject</code> prefix will return with the <code>dimensions</code> prefix, and Multistring fields will return as Arrays instead of being pipe-delimited.</li></ol><p>That&#x27;s dirty, but there is currently no other option for that. I created an <a href="/sites/ideas/interaction-studio-ideas/#full-is--mcp-catalog-export">Idea to change that</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-archived-items-in-the-is-catalog">View archived Items in the IS Catalog<a href="#view-archived-items-in-the-is-catalog" class="hash-link" aria-label="Direct link to View archived Items in the IS Catalog" title="Direct link to View archived Items in the IS Catalog">​</a></h3><p><a href="#promotion-settings-catalog-attributes">Archiving hides Items</a>, making viewing them hard. They won&#x27;t be visible in the Catalog UI or exported when you click the Export button. Salesforce Support won&#x27;t be able to provide .csv with them.</p><p>There are, however, two ways to do it:</p><ol><li><strong>One-by-One</strong> - Great when you know the ID of the archived Item and need to view/edit only a few of them:<ul><li>Option A: Go to the same Catalog as the Archived Item » Click any Item » Click the Edit button on the right pane » In the URL, find <code>&amp;itemid=123456</code> and replace the value after the equal sign with the ID of the archived item » Click Enter. A</li><li>Option B: Open any Recipe » Simulate it » Find the archived Item in the Anchor Item picklist (because archived items still work as anchors) » Click the Book icon on the right side of the picklist.</li></ul></li><li><strong>All-at-Once</strong> - Great when you know all possible Item IDs and need to find which are archived:<ul><li>Perform <a href="#export-full-is-catalog-data">Full IS Catalog data export</a> using full list of IDs from your source system. It will return the archived status for each one. Then you can leverage it for mass update with reupload via <a href="#2-interaction-studio-with-etl">ETL</a>.</li></ul></li></ol><p>As you can see, in both cases, you need to know the IDs (either exact or all possible). If you don&#x27;t know what IDs could have been archived because there is no backup of all possible options - you are out of luck. Currently, there is no option to view such Items. I created an <a href="/sites/ideas/interaction-studio-ideas/#full-is--mcp-catalog-export">Idea to change that</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/interaction-studio/">Interaction Studio</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/personalisation/">Personalisation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/setup/">Setup</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/data-management/">Data Management</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/interaction-studio/is-catalog-architecture.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-03T22:14:39.000Z">Aug 3, 2023</time></b> by <b>Mateusz Dąbrowski</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/interaction-studio/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Interaction Studio</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/interaction-studio/is-open-time-email/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Open Time Email</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#catalog-basics--limitations" class="table-of-contents__link toc-highlight">Catalog Basics &amp; Limitations</a></li><li><a href="#catalog-data-sources" class="table-of-contents__link toc-highlight">Catalog Data Sources</a><ul><li><a href="#why-not-both" class="table-of-contents__link toc-highlight">Why not both?</a></li><li><a href="#sitemap-vs-etl" class="table-of-contents__link toc-highlight">Sitemap vs ETL</a><ul><li><a href="#1-interaction-studio-with-sitemap" class="table-of-contents__link toc-highlight">1. Interaction Studio with Sitemap</a></li><li><a href="#2-interaction-studio-with-etl" class="table-of-contents__link toc-highlight">2. Interaction Studio with ETL</a></li></ul></li><li><a href="#recommended-is-catalog-data-source" class="table-of-contents__link toc-highlight">Recommended IS Catalog Data Source</a></li></ul></li><li><a href="#catalog-attributes" class="table-of-contents__link toc-highlight">Catalog Attributes</a><ul><li><a href="#catalog-built-in-attributes" class="table-of-contents__link toc-highlight">Catalog Built-in Attributes</a><ul><li><a href="#basic-catalog-attributes" class="table-of-contents__link toc-highlight">Basic Catalog Attributes</a></li><li><a href="#location-catalog-attributes" class="table-of-contents__link toc-highlight">Location Catalog Attributes</a></li><li><a href="#promotion-settings-catalog-attributes" class="table-of-contents__link toc-highlight">Promotion Settings Catalog Attributes</a></li><li><a href="#product-catalog-unique-attributes" class="table-of-contents__link toc-highlight">Product Catalog Unique Attributes</a></li><li><a href="#category-catalog-unique-attributes" class="table-of-contents__link toc-highlight">Category Catalog Unique Attributes</a></li></ul></li><li><a href="#catalog-custom-attributes" class="table-of-contents__link toc-highlight">Catalog Custom Attributes</a></li></ul></li><li><a href="#custom-catalog-objects" class="table-of-contents__link toc-highlight">Custom Catalog Objects</a><ul><li><a href="#promotions-related-catalog-object" class="table-of-contents__link toc-highlight">Promotions Related Catalog Object</a></li><li><a href="#features-related-catalog-objects" class="table-of-contents__link toc-highlight">Features Related Catalog Objects</a></li><li><a href="#custom-affinity-wheel" class="table-of-contents__link toc-highlight">Custom Affinity Wheel</a></li></ul></li><li><a href="#catalog-tips--tricks" class="table-of-contents__link toc-highlight">Catalog Tips &amp; Tricks</a><ul><li><a href="#when-is-recommends-an-item" class="table-of-contents__link toc-highlight">When IS recommends an Item?</a></li><li><a href="#items-missing-in-is-catalog" class="table-of-contents__link toc-highlight">Items missing in IS Catalog</a></li><li><a href="#data-is-not-added-to-is-catalog" class="table-of-contents__link toc-highlight">Data is not added to IS Catalog</a></li><li><a href="#export-full-is-catalog-data" class="table-of-contents__link toc-highlight">Export full IS Catalog data</a></li><li><a href="#view-archived-items-in-the-is-catalog" class="table-of-contents__link toc-highlight">View archived Items in the IS Catalog</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/zen-of-sfmc/">Zen of SFMC</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/ssjs/">SSJS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/javascript/">JavaScript</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/ampscript/">AMPScript</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/sfmc-sql/">SFMC SQL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/sfmc-config/">SFMC Config</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/interaction-studio/">Interaction Studio</a></li></ul></div><div class="col footer__col"><div class="footer__title">Snippets</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/ssjs-snippets/">SSJS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/js-snippets/">JavaScript</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/ampscript-snippets/">AMPScript</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/sfmc-sql-snippets/">SFMC SQL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/interaction-studio-snippets/">Interaction Studio</a></li></ul></div><div class="col footer__col"><div class="footer__title">My</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/sfmc-webinars/">Webinars</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/my-toolset/">Toolset</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/category/ideas/">Ideas</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sites/licence/">Licence &amp; Attribution</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/privacy/">Privacy</a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.dac03682.js"></script>
<script src="/assets/js/main.b3b5f69b.js"></script>
</body>
</html>