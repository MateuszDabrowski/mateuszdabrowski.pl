<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mateusz DÄ…browski Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mateusz DÄ…browski Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N46LB5K"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N46LB5K",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Mateusz DÄ…browski" href="/opensearch.xml"><title data-react-helmet="true">SFMC SQL Select | Mateusz DÄ…browski</title><meta data-react-helmet="true" property="og:image" content="https://mateuszdabrowski.pl/img/logotyp-og.png"><meta data-react-helmet="true" name="twitter:image" content="https://mateuszdabrowski.pl/img/logotyp-og.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Mateusz DÄ…browski"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="SFMC SQL Select | Mateusz DÄ…browski"><meta data-react-helmet="true" name="description" content="Selected information on the SELECT statement in SFMC SQL"><meta data-react-helmet="true" property="og:description" content="Selected information on the SELECT statement in SFMC SQL"><meta data-react-helmet="true" property="og:url" content="https://mateuszdabrowski.pl/docs/sql/sfmc-sql-select"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://mateuszdabrowski.pl/docs/sql/sfmc-sql-select"><link rel="stylesheet" href="/styles.ad8340a8.css">
<link rel="preload" href="/styles.635ad36e.js" as="script">
<link rel="preload" href="/runtime~main.4c06a9b1.js" as="script">
<link rel="preload" href="/main.43d48c38.js" as="script">
<link rel="preload" href="/1.fcdfb0a2.js" as="script">
<link rel="preload" href="/41.8a26c312.js" as="script">
<link rel="preload" href="/44.7fec8cdb.js" as="script">
<link rel="preload" href="/935f2afb.244ae3f8.js" as="script">
<link rel="preload" href="/40.7b572089.js" as="script">
<link rel="preload" href="/b39e9a29.bc75656a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-horizontal-light-2x.png" alt="Mateusz DÄ…browski Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-horizontal-dark-2x.png" alt="Mateusz DÄ…browski Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Home</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs &amp; Snippets</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/ssjs/ssjs-if-and-switch">SSJS</a></li><li><a class="dropdown__link" href="/docs/js/js-if-and-switch">JavaScript</a></li><li><a class="dropdown__link" href="/docs/sql/sfmc-sql-basics">SFMC SQL</a></li><li><a class="dropdown__link" href="/docs/config/sfmc-config-permissions">SFMC Config</a></li></ul></div><a class="navbar__item navbar__link" href="/ideas">Ideas</a><a class="navbar__item navbar__link" href="/sites/my-toolset">Toolset</a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/mateusz-dabrowski-marketing/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="LinkedIn Profile"></a><a href="https://trailblazer.me/id/madabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-salesforce-link" aria-label="Trailblazer Profile"></a><a href="https://github.com/MateuszDabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-horizontal-light-2x.png" alt="Mateusz DÄ…browski Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-horizontal-dark-2x.png" alt="Mateusz DÄ…browski Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Home</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" role="button" href="/docs">Docs &amp; Snippets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ssjs/ssjs-if-and-switch">SSJS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/js/js-if-and-switch">JavaScript</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/sql/sfmc-sql-basics">SFMC SQL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/config/sfmc-config-permissions">SFMC Config</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/ideas">Ideas</a></li><li class="menu__list-item"><a class="menu__link" href="/sites/my-toolset">Toolset</a></li><li class="menu__list-item"><a href="https://www.linkedin.com/in/mateusz-dabrowski-marketing/" target="_blank" rel="noopener noreferrer" class="menu__link header-linkedin-link" aria-label="LinkedIn Profile"></a></li><li class="menu__list-item"><a href="https://trailblazer.me/id/madabrowski" target="_blank" rel="noopener noreferrer" class="menu__link header-salesforce-link" aria-label="Trailblazer Profile"></a></li><li class="menu__list-item"><a href="https://github.com/MateuszDabrowski" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Docs &amp; Snippets</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SSJS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ssjs/ssjs-if-and-switch">If &amp; Switch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ssjs/ssjs-loops">Loops</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ssjs/debugging-ssjs">Debugging &amp; Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ssjs/ssjs-vs-ampscript-performance">Performance</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SSJS Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/usecase/engage-with-countdown">Engage with Countdown</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/usecase/tailor-with-data">Tailor with Data</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SSJS Snippets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ssjs/ssjs-snippet-ampscript-in-ssjs">AMPScript in SSJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ssjs/ssjs-snippet-mobileconnect-phone-change">MobileConnect Phone Change</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">JavaScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/js/js-if-and-switch">If &amp; Switch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/js/js-loops">Loops</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">JS Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/usecase/engage-with-countdown">Engage with Countdown</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/usecase/tailor-with-data">Tailor with Data</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">SFMC SQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-basics">SQL Basics</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/sql/sfmc-sql-select">Select</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-from">From</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-join">Join</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-where">Where</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-like">Like</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-string-functions">String Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-date-functions">Date Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-numeric-functions">Numeric Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-conversion-functions">Conversion Functions</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">SQL Snippets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sql/sfmc-sql-snippet-debugging-email-sends">Debugging Email Sends</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sql/sfmc-sql-snippet-debugging-value-length">Debugging Value Length</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SFMC Config</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/sfmc-config-permissions">Permissions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/sfmc-config-system-data-views">System Data Views</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/sfmc-config-features-on-demand">Features On Demand</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config/sfmc-config-behavioral-triggers">Behavioral Triggers</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">SFMC SQL Select</h1></header><div class="markdown"><p id="leadText_rx-B">Selected information on the SELECT statement in SFMC SQL</p><p>The <code>SELECT</code> statement opens each query. It both defines the columns of data extensions and system data views that will be needed, as well as allows you to create entirely new data points.</p><p>The simplest version of this statement is <code>SELECT *</code>, which targets all available columns from the source. I do not recommend this approach, as it is terrible for both readability and performance of your query. As Salesforce Marketing Cloud caches the source Data Extension column names when you save SQL Query Activity, you won&#x27;t have added value of flexible selection. You will still have to edit and save the activity. Also, <a href="/docs/sql/sfmc-sql-basics#query-studio">Query Studio</a> does not support this shortcut. Don&#x27;t use <code>*</code>.</p><p>The prefered method is targeting columns explicitly by their names:</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Select ContactKey and EmailAddress columns</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddres</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If a column name contains a space, you need to capture it with squared brackets:</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Let&#x27;s add another column with whitespace in its name</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddres</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">External Contact Id</span><span class="token punctuation" style="color:#393A34">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>There are also some exceptional cases related to selected <a href="/docs/config/sfmc-config-system-data-views">System Data Views</a> in Salesforce Marketing Cloud, where you need to use an underscore prefix before a name (for example when taking Subscriber ID from Enterprise Attributes):</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">There are some special column names with an underscore prefix</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    _SubscriberId</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="labelling-with-as"></a>Labelling with AS<a class="hash-link" href="#labelling-with-as" title="Direct link to heading">#</a></h2><p>You can also utilize <code>SELECT</code> as a tool to rename the source columns to match your needs in an outcome data extension. It is especially useful when you are pulling the data from Synchronized Data Extension with names coming from Salesforce custom fields.</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Improve readability and consistency with labelling</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">External Contact Id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ExternalContactId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    Gender__c </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> Gender</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="custom-values"></a>Custom values<a class="hash-link" href="#custom-values" title="Direct link to heading">#</a></h3><p>Use labels also for passing new values directly from your query. Need to add a custom string to outcome data extension? Or maybe synchronization timestamp for debugging purposes? You can leverage SQL for it.</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Add custom column labelled &#x27;ImportDate&#x27; with a value equal to the UTC of the script execution for each record</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">External Contact Id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ExternalContactId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Gender__c </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> Gender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;Lead&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> RecordType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GETUTCDATE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ImportDate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</h5></div><div class="admonition-content"><p>You can even go further by creating new values by leveraging existing data! For example, if you have a first name and last name, you can use SQL to create a FullName column from scratch:</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Let&#x27;s create a concatenated column for easier personalization</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SubscriberKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    FirstName </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> LastName </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> FullName</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>It becomes mighty with the <a href="/docs/sql/sfmc-sql-string-functions">SQL String functions</a>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="conditional-values-with-case"></a>Conditional values with CASE<a class="hash-link" href="#conditional-values-with-case" title="Direct link to heading">#</a></h2><p><code>CASE</code> statement evaluates a list of conditions and returns one of the multiple possible result expressions. For Marketing Cloud purposes, it is especially useful when you not only want to select a column but also modify the values within it. Perfect for translating numeric codes to descriptive ones for personalization purposes. Excellent for standardizing data (change those <code>1</code>, <code>true</code> and <code>on</code> values of opt-in to a single format).</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">External Contact Id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ExternalContactId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Gender__c </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> Gender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;Lead&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> RecordType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GETUTCDATE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ImportDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"> MemberType__c</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bronze&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Silver&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Gold&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Platinum&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Unregistered&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can have as many <code>WHEN</code>/<code>THEN</code> conditions as you want. Also, the <code>ELSE</code> statement is optional, but a good idea to catch unexpected values.</p><p>Feel free also to leverage <a href="#labels">labels</a> to manipulate the column name at the same time:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">External Contact Id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ExternalContactId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Gender__c </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> Gender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;Lead&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> RecordType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GETUTCDATE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ImportDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"> MemberType__c</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bronze&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Silver&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Gold&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Platinum&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Unregistered&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> MemberType</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="search-version-of-case"></a>Search version of CASE<a class="hash-link" href="#search-version-of-case" title="Direct link to heading">#</a></h3><p>Above examples are already useful in segmentation, but there is also one more way to write and use <code>CASE</code> statement that gives even more power. The search <code>CASE</code>.</p><p>The difference is that you are not passing the column name on which you will be building conditions. Instead, you create a boolean expression from scratch for each scenario.</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">The same query as the previous one, but written with Search Case</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EmailAddress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">External Contact Id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ExternalContactId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Gender__c </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> Gender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;Lead&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> RecordType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    GETUTCDATE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ImportDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> MemberType__c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bronze&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> MemberType__c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Silver&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> MemberType__c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Gold&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> MemberType__c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Platinum&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Unregistered&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> MemberType</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The example above doesn&#x27;t show why it is worth to use the search <code>CASE</code>. It is a bit longer than the standard approach! But there is a reason to use this form of <code>CASE</code> statement that is visible once you want to create more elaborate conditions that are possible only with this version:</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Let&#x27;s calculate what channel we should use in our campaign for a given user</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> IsAppInstalled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Push&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> EmailOptIn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> EmailAddress </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Email&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> PhoneOptIn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> Mobile </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Phone&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> PreferredChannel</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</h5></div><div class="admonition-content"><p><code>CASE</code> statement returns <code>THEN</code> value of the first condition that evaluated to <code>TRUE</code>. It means that in the above example if the <code>IsAppInstalled = 1</code> is true, other conditions are not considered. Even if for selected contact all of them will be true, it will still have the value <code>Push</code> in PreferredChannel. It is perfect, as it allows us to prioritize cheaper channels.</p><p>Always consider the order of the conditions in your <code>CASE</code> statement. It both might lead to errors if you don&#x27;t expect behaviour mentioned above, as well as make your life much easier if you know it works that way.</p></div></div><p>As you can see, thanks to search <code>CASE</code> statement we were able to check conditions on multiple different columns and connect them with <code>AND</code>/<code>OR</code> statements for better control. You can use this version of the <code>CASE</code> statement for all your needs (even those covered by the basic one) to worry not about two ways of formatting.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</h5></div><div class="admonition-content"><p>You can use <code>CASE</code> statements inside a <code>CASE</code> statement to have an even more dynamic query.</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Let&#x27;s add another dimension of membership level to differentiate available channels</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> MemberType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Platinum&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Key Account Manager&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> MemberType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Gold&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">OR</span><span class="token plain"> MemberType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Silver&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> IsAppInstalled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Push&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> EmailOptIn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> EmailAddress </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Email&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> PhoneOptIn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> Mobile </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Phone&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> MemberType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bronze&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> IsAppInstalled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Push&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> EmailOptIn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> EmailAddress </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Email&#x27;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> PreferredChannel</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="like-in-case"></a>LIKE in CASE<a class="hash-link" href="#like-in-case" title="Direct link to heading">#</a></h3><p><code>LIKE</code> is not only useful in the <a href="/docs/sql/sfmc-sql-where#like-operator"><code>WHERE</code> Statement</a>. It is also an awesome tool empowering <code>CASE</code> statement. It allows you to build flexible conditions on free text values:</p><div class="mdxCodeBlock_1zKU"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2eSY">Great way to split your database between Internal and External users for different communication</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ContactKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> EmailAddress </span><span class="token operator" style="color:#393A34">LIKE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%@mateuszdabrowski.%&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Internal&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;External&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ContactType</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>In the <code>SELECT</code> statement, the <code>LIKE</code> operator is especially useful for fixing data coming from the free text fields. To learn more about the possibilities, check out the <a href="/docs/sql/sfmc-sql-like"><code>LIKE</code> guide</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="table-prefixes"></a>Table Prefixes<a class="hash-link" href="#table-prefixes" title="Direct link to heading">#</a></h2><p>Additional elements that you will be using in many of your queries are table prefixes for selecting columns from multiple joined Data Extensions.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    _Subscriber</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    _EnterpriseAttribute</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LastName</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>I&#x27;m covering this topic in-depth in <a href="/docs/sql/sfmc-sql-join#table-name-prefix"><code>JOIN</code> statement documentation</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="flow-control"></a>Flow control<a class="hash-link" href="#flow-control" title="Direct link to heading">#</a></h2><p>Despite official <a href="https://help.salesforce.com/articleView?id=mc_as_sql_reference.htm&amp;type=5" target="_blank" rel="noopener noreferrer">SFMC SQL documentation</a> states that it supports the <code>IF</code> constructs, I was not able to make it work.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="variables--functions"></a>Variables &amp; Functions<a class="hash-link" href="#variables--functions" title="Direct link to heading">#</a></h2><p>Unfortunately, SFMC SQL does not support variables.</p><p>Fortunately, it does support (selected) functions. Learn more about them in SFMC SQL Functions documentation pages related to <a href="/docs/sql/sfmc-sql-string-functions">Strings</a>, <a href="/docs/sql/sfmc-sql-date-functions">Dates</a>, <a href="/docs/sql/sfmc-sql-numeric-functions">Numbers</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/sql/sfmc-sql-select.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-01-08T22:15:46.000Z" class="docLastUpdatedAt_1Qna">08/01/2021</time> by <strong>Mateusz DÄ…browski</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/sql/sfmc-sql-basics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« SFMC SQL Basics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/sql/sfmc-sql-from"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SFMC SQL From Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#labelling-with-as" class="table-of-contents__link">Labelling with AS</a><ul><li><a href="#custom-values" class="table-of-contents__link">Custom values</a></li></ul></li><li><a href="#conditional-values-with-case" class="table-of-contents__link">Conditional values with CASE</a><ul><li><a href="#search-version-of-case" class="table-of-contents__link">Search version of CASE</a></li><li><a href="#like-in-case" class="table-of-contents__link">LIKE in CASE</a></li></ul></li><li><a href="#table-prefixes" class="table-of-contents__link">Table Prefixes</a></li><li><a href="#flow-control" class="table-of-contents__link">Flow control</a></li><li><a href="#variables--functions" class="table-of-contents__link">Variables &amp; Functions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs &amp; Snippets</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/ssjs/ssjs-if-and-switch">SSJS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/js/js-if-and-switch">JavaScript</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sql/sfmc-sql-basics">SFMC SQL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/config/sfmc-config-permissions">SFMC Config</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sites/my-toolset">Toolset</a></li><li class="footer__item"><a class="footer__link-item" href="/ideas">Ideas</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sites/licence">Licence &amp; Attribution</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/privacy">Privacy</a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/styles.635ad36e.js"></script>
<script src="/runtime~main.4c06a9b1.js"></script>
<script src="/main.43d48c38.js"></script>
<script src="/1.fcdfb0a2.js"></script>
<script src="/41.8a26c312.js"></script>
<script src="/44.7fec8cdb.js"></script>
<script src="/935f2afb.244ae3f8.js"></script>
<script src="/40.7b572089.js"></script>
<script src="/b39e9a29.bc75656a.js"></script>
</body>
</html>