---
id: sfmc-sql-style-guide
title: SFMC SQL Style Guide
sidebar_label: SQL Style Guide
description: Query with style. Readable, bug-free code is few shifts & spaces away.
---

import TOCInline from '@theme/TOCInline';
import { LeadText } from '../../src/components/LeadText.js';

<LeadText content='Query with style. Readable, bug-free code is few shifts & spaces away.' />

:::tip Table of Contents

<TOCInline toc={toc} />

:::

First things first: this SQL style guide is highly subjective. You may use it as it is, implement only some parts of it, or ignore it all together. There are only two rules that I believe are a must have:

1. Be consitent across your code base.
2. Strive for good readability.

Everything else is preference. And you are just about to learn about mine (with arguments and options).

## SQL Syntax Case

__Use `UPPERCASE` for all elements of SQL syntax.__

This approach helps visually differentiate query langauge from the names of data extensions, data views and fields and improve readability.

```sql
/* ✅ Upper Case for SQL Syntax */
SELECT
    SubscriberKey,
    EmailAddress
FROM Ent._Subscribers
WHERE DateJoined >= DATEADD(MONTH, -1, GETDATE())

/* ❌ Pascal Case for SQL Syntax */
Select
    SubscriberKey,
    EmailAddress
From Ent._Subscribers
Where DateJoined >= DateAdd(Month, -1, GetDate())

/* ❌ Lower Case for SQL Syntax */
select
    SubscriberKey,
    EmailAddress
from Ent._Subscribers
where DateJoined >= dateadd(month, -1, getdate())
```

## Field & Source Name Case

__Use `PascalCase` for all Source and Field names.__

This is soft recommendation, as it is highly connected to other convention used by your organisation. If other connected systems are using different style, it might be best for you to keep it consistent in Marketing Cloud.

This might be especially true for Sources, as you might be using mixed convention leveraging uppercase elements and underscores for Data Extension names. However, try not to use hyphens, as those will require you to use square brackets around the name and can interfere in query syntax highlighting that lower the readability.

The most popular SQL convention for Source and Field names is `snake_case`. However, Marketing Cloud situation is unique, as Source nad Field names will have the case not only in your queries, but also in the User Interface. It is important to make them as readable and human friendly as possible. Additionally, in many cases you will also leverage those names in AMPScript and SSJS.

For Marketing Cloud purposes I believe `PascalCase` - especially for Field names - is the best choice.

```sql
/* ✅ Pascal Case for Source and Field names */
SELECT
    wel.SubscriberKey,
    wel.EmailAddress,
    o.EventDate AS OpenDate
FROM WelcomeCampaignSegment AS wel
    INNER JOIN _Open AS o
        ON o.SubscriberKey = wel.SubscriberKey

/* ✅ Pascal Case for Field names and custom consistent covention for Source names */
SELECT
    wel.SubscriberKey,
    wel.EmailAddress,
    o.EventDate AS OpenDate
FROM WEL_WelcomeCampaignSegment_20201011_OTH AS wel
    INNER JOIN _Open AS o
        ON o.SubscriberKey = wel.SubscriberKey

/* ❌ Lower Case for Source and Field names */
SELECT
    wel.subscriberkey,
    wel.emailaddress,
    o.eventdate AS opendate
FROM welcomecampaignsegment AS wel
    INNER JOIN _open AS o
        ON o.subscriberkey = wel.subscriberkey

/* ❌ Upper Case for Source and Field names */
SELECT
    WEL.SUBSCRIBERKEY,
    WEL.EMAILADDRESS,
    O.EVENTDATE AS OPENDATE
FROM WELCOMECAMPAIGNSEGMENT AS WEL
    INNER JOIN _OPEN AS O
        ON O.SUBSCRIBERKEY = WEL.SUBSCRIBERKEY
```

## Alignment and Indentation

SQL is very flexible when it comes to alignment and indentation of the query. Writing everything in one line creates a valid code. But just because it is valid, it doesn't mean it is good. Generous use of new lines and indents has close to no impact on performance, but a massive impact on readability. Enter and Space keys are your friends.

There are many styles out there, but I opted for one that allows for both good writing speed and excellent readability. It is based on two main rules:

### Left Aligned Keywords

This rule is focused more on writing speed. While I prefer the aesthetics of the Vertically Aligned Space approach, I don't see any significant gains for readability. On the hand writing in this style in Marketing Cloud is a pain, as there is no prettify in Query Studio and Query Activity. All those additional spaces needs to be added manually. It's just not worth it.

```sql
/* ✅ Left Aligned Keywords */
SELECT
    SubscriberKey,
    EmailAddress
FROM Ent._Subscribers
WHERE DateJoined >= DATEADD(MONTH, -1, GETDATE())

/* ❌ Post Keyword Space Aligned Vertically */
SELECT SubscriberKey,
       EmailAddress
  FROM Ent._Subscribers
 WHERE DateJoined >= DATEADD(MONTH, -1, GETDATE())
```

### Single Information per Line



### Consistent Indentation

This rule is focused more on readability and is build with multiple smaller subrules.

####

```sql
/* ✅ Pascal Case for Source and Field names */
SELECT
    wel.SubscriberKey,
    wel.EmailAddress,
    o.EventDate AS OpenDate
FROM WelcomeCampaignSegment AS wel
    INNER JOIN _Open AS o
        ON o.SubscriberKey = wel.SubscriberKey

/* ❌ Lower Case for Source and Field names */
SELECT
wel.subscriberkey,
wel.emailaddress,
    o.eventdate AS opendate
FROM welcomecampaignsegment AS wel
    INNER JOIN _open AS o
        ON o.subscriberkey = wel.subscriberkey
```