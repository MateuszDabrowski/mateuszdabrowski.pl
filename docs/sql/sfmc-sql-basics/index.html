<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-sql/sfmc-sql-basics" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">SFMC SQL Basics | Mateusz Dąbrowski</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mateuszdabrowski.pl/docs/sql/sfmc-sql-basics/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="author" content="Mateusz Dąbrowski"><meta data-rh="true" name="theme-color" content="#212121"><meta data-rh="true" name="msapplication-TileColor" content="#F6B355"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SFMC SQL Basics | Mateusz Dąbrowski"><meta data-rh="true" name="description" content="SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough."><meta data-rh="true" property="og:description" content="SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough."><meta data-rh="true" property="og:image" content="https://mateuszdabrowski.pl/img/og/og-image-sql-basics.png"><meta data-rh="true" name="twitter:image" content="https://mateuszdabrowski.pl/img/og/og-image-sql-basics.png"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mateuszdabrowski.pl/docs/sql/sfmc-sql-basics/"><link data-rh="true" rel="alternate" href="https://mateuszdabrowski.pl/docs/sql/sfmc-sql-basics/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mateuszdabrowski.pl/docs/sql/sfmc-sql-basics/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://F4XVDD6BM8-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N46LB5K"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N46LB5K",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Mateusz Dąbrowski" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.3ef0312e.css">
<script src="/assets/js/runtime~main.03a895e7.js" defer="defer"></script>
<script src="/assets/js/main.7ebb99fc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-horizontal-light-2x.png" alt="Mateusz Dąbrowski Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-horizontal-dark-2x.png" alt="Mateusz Dąbrowski Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/">Docs &amp; Snippets</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/zen-of-sfmc/">Zen of SFMC</a></li><li><a class="dropdown__link" href="/docs/category/ssjs/">SSJS</a></li><li><a class="dropdown__link" href="/docs/category/javascript/">JavaScript</a></li><li><a class="dropdown__link" href="/docs/category/ampscript/">AMPScript</a></li><li><a class="dropdown__link" href="/docs/category/sfmc-sql/">SFMC SQL</a></li><li><a class="dropdown__link" href="/docs/category/sfmc-config/">SFMC Config</a></li><li><a class="dropdown__link" href="/docs/category/mc-personalization/">MC Personalization</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/category/sfmc-webinars/">Webinars</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/webinars/sfmc-webinar-account-architecture/">SFMC Account Architecture</a></li><li><a class="dropdown__link" href="/docs/webinars/sfmc-webinar-salesforce-data-in-journey-builder/">Salesforce Data in Journey Builder</a></li><li><a class="dropdown__link" href="/docs/webinars/sfmc-webinar-architecting-web-solutions/">Architecting Web Solutions</a></li><li><a class="dropdown__link" href="/docs/webinars/sfmc-webinar-cloud-page-apps/">Cloud Page Apps</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/sites/category/faq/">FAQ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sites/faq/how-to-get-sfmc-hands-on-experience/">How to get SFMC Demo Account</a></li><li><a class="dropdown__link" href="/sites/faq/how-to-get-sf-certification-vouchers/">How to get SF Certification Vouchers</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/sites/category/ideas/">Ideas</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sites/ideas/marketing-cloud-ideas/">Marketing Cloud</a></li><li><a class="dropdown__link" href="/sites/ideas/mc-personalization-ideas/">MC Personalization</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/tags/">Tags</a><a class="navbar__item navbar__link" href="/sites/newsletter/">Newsletter</a></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/mateusz-dabrowski-pl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="LinkedIn Profile"></a><a href="https://trailblazer.me/id/madabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-salesforce-link" aria-label="Trailblazer Profile"></a><a href="https://github.com/MateuszDabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zen-of-sfmc/">Zen of SFMC</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/ssjs/">SSJS</a><button aria-label="Expand sidebar category &#x27;SSJS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/javascript/">JavaScript</a><button aria-label="Expand sidebar category &#x27;JavaScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/ampscript/">AMPScript</a><button aria-label="Expand sidebar category &#x27;AMPScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/sfmc-sql/">SFMC SQL</a><button aria-label="Collapse sidebar category &#x27;SFMC SQL&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sql/sfmc-sql-basics/">SQL Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-select/">Select</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-from/">From</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-join/">Join</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-where/">Where</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-case/">Case</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-like/">Like</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-string-functions/">String Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-date-functions/">Date Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-numeric-functions/">Numeric Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-conversion-functions/">Conversion Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-aggregate-functions/">Aggregate Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-null-functions/">Null Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sql/sfmc-sql-style-guide/">Style Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/-sql-snippets/">› SQL Snippets</a><button aria-label="Expand sidebar category &#x27;› SQL Snippets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/sfmc-config/">SFMC Config</a><button aria-label="Expand sidebar category &#x27;SFMC Config&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/mc-personalization/">MC Personalization</a><button aria-label="Expand sidebar category &#x27;MC Personalization&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/sfmc-sql/"><span itemprop="name">SFMC SQL</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SQL Basics</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SFMC SQL Basics</h1></header><p id="leadText_qzwo">SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-segment-data-in-marketing-cloud">How to segment data in Marketing Cloud<a href="#how-to-segment-data-in-marketing-cloud" class="hash-link" aria-label="Direct link to How to segment data in Marketing Cloud" title="Direct link to How to segment data in Marketing Cloud">​</a></h2>
<p>Salesforce Marketing Cloud offers a few ways of segmenting data for your marketing needs. Out of the box, you can use Filters and SQL Query Activities.</p>
<p>Filters are a straightforward drag-and-drop solution for one-time (Filtered Data Extensions) or refreshed on-schedule (Data Filters with Automation) segmentation. Unfortunately, they are constrained, as they allow you to copy a single Data Extension with all its columns and filtered-down rows. That filtering can leverage source Data Extension values, another Data Extension values (through Data Relationship) or Measures. That&#x27;s it. For real Marketing Automation, it&#x27;s not enough.</p>
<p>This is why you are looking to learn about SFMC SQL. Along with Automation Studio Query Activity, it will allow you to deploy any segmentation scenario you want with complete control over the output columns, names and values. However, with great power comes some learning required.</p>
<p>There is also a third way - paid AppExchange solutions that offer you a way to eat a cookie and have a cookie: the full power of SQL with a drag-and-drop interface. For a price.</p>
<p>You can check my comparison of all the above options in my <a href="/docs/config/sfmc-appexchange-solutions/#sfmc-segmentation-solutions">here</a>. This article will focus only on the most powerful and free option - SFMC SQL.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql-in-salesforce-marketing-cloud">SQL in Salesforce Marketing Cloud<a href="#sql-in-salesforce-marketing-cloud" class="hash-link" aria-label="Direct link to SQL in Salesforce Marketing Cloud" title="Direct link to SQL in Salesforce Marketing Cloud">​</a></h2>
<p>SQL (Structured Query Language) is one of the best ways to work with relational databases. And Marketing Cloud&#x27;s Data Extensions, with the help of Data Designer, offer precisely that. A relational database. The same is valid for system Data Views containing tracking data. Because of this, SQL is used in SFMC whenever powerful segmentation is needed (mainly using Automation Studio).</p>
<p>The main difference from standard SQL (SFMC uses more or less SQL Server 2019) is that SFMC supports only the <code>SELECT</code> statement. Neither <code>INSERT</code>, <code>UPDATE</code> or <code>DELETE</code> are officially supported. It is because the queries are executed as a part of the backend query and are limited to provide non-breakable functionality.</p>
<p>Another limiting characteristic of SFMC SQL is visible in the data accessible by queries. Only data stored in data extensions or system data views is available. Moreover, you can save the results only to the data extensions. The reason is other data structures of SFMC are not relational databases.</p>
<p>Finally, the significant limitation you might hit as your Marketing Cloud grows is AutoKill. It will automatically stop your query if the execution time exceeds the 30 minutes limit. Think about the query with the future in mind. It is vital for queries that are supposed to be the backbones of your data management flow in Marketing Cloud. Even if it works great now, consider how it will behave once you have more data in the system. One of the great ways to not trigger AutoKill is to implement retention periods for the Data Extensions used in the query to limit input data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="where-to-learn-sfmc-sql">Where to learn SFMC SQL<a href="#where-to-learn-sfmc-sql" class="hash-link" aria-label="Direct link to Where to learn SFMC SQL" title="Direct link to Where to learn SFMC SQL">​</a></h2>
<p>Before we start with the real deal, let&#x27;s cover where to learn to write SQL. I recommend getting a <a href="/docs/config/sfmc-appexchange-solutions/#query-studio">Query Studio</a>. It&#x27;s a free AppExchange add-on to Marketing Cloud developed by Salesforce. While it has cons, it&#x27;s perfect for quickly learning how to query.</p>
<p>If you cannot install this app in your Marketing Cloud, there are still two ways to learn Marketing Cloud SQL:</p>
<ol>
<li>Query Activities in Automation Studio. It will be much less user-friendly because for each change in the query, you will have to update the target Data Extension manually and go through multiple steps across the platform to see the results. But it will let you train using the data you have in your platform.</li>
<li><a href="https://mcsnippets.herokuapp.com/sql" target="_blank" rel="noopener noreferrer">MC Snippets SQL Playground</a> created by Salesforce MVP Pato Sapir. It allows you to learn Marketing Cloud SQL even if you don’t have access to SFMC. It’s limited to the Data Views (on Pato’s instance) and a Data Extension that you can create within the Playground itself. But you can spin it quickly and have everything on one screen. It’s a perfect tool for quick experimentation or sharing tested data transformations on sample data with colleagues.</li>
</ol>
<p>I always start in <a href="/docs/config/sfmc-appexchange-solutions/#query-studio">Query Studio</a>, and only once my SQL Query is complete and validated do I move it to Automation Studio.</p>
<p>Once you have the right tool, it’s time to get the right knowledge. There are few formats available. If you like reading followed by small knowledge checks - this page is the right choice. But if you prefer watching a video or a doing a challenge - Cameron Roberts and Sabuhi Yahya got you covered:</p>
<div class="col col--12"><a class="button button--outline button--lg button--primary col col--5 col--offset-0" href="https://www.youtube.com/watch?v=g0SZmP3Kl_I&amp;list=PLYjAMqKETE1pc21Q4_cCGq7tGyy-vy8qc" target="_blank">Cam’s SQL Playlist</a><a class="button button--outline button--lg button--primary col col--5 col--offset-2" href="https://marketingcloud30.com/challenge/sql30/" target="_blank">Sabuhi’s SQL30 Challenge</a></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-learn-sfmc-sql">How to learn SFMC SQL<a href="#how-to-learn-sfmc-sql" class="hash-link" aria-label="Direct link to How to learn SFMC SQL" title="Direct link to How to learn SFMC SQL">​</a></h2>
<p>SFMC SQL is very limited compared to the full power of Structured Query Language, but there are still many topics to cover. I split them into steps that slowly add more complex concepts to make it easier. Each should provide knowledge that you can actively use in your day-to-day work.</p>
<p>In each level, you will see:</p>
<ol>
<li>Learning materials to read.</li>
<li>Exercise you can do in your Marketing Cloud platform to test your skills.</li>
<li>Hint that can help you with the exercise if you are stuck.</li>
<li>Example solution to that exercise. Keep in mind that there might be more than one correct approach.</li>
</ol>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="level-1---select-from-where">Level 1 - SELECT, FROM, WHERE<a href="#level-1---select-from-where" class="hash-link" aria-label="Direct link to Level 1 - SELECT, FROM, WHERE" title="Direct link to Level 1 - SELECT, FROM, WHERE">​</a></h3>
<p>Learn the three essential SQL statements for all queries. They will give you similar power to what Filters can do - with the bonus of choosing the columns you need for your final segment.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="learning-materials">Learning materials<a href="#learning-materials" class="hash-link" aria-label="Direct link to Learning materials" title="Direct link to Learning materials">​</a></h4>
<ul>
<li><a href="/docs/sql/sfmc-sql-select/">SELECT</a> - just the first part, before the aliasing section.</li>
<li><a href="/docs/sql/sfmc-sql-from/">FROM</a> - whole article.</li>
<li><a href="/docs/sql/sfmc-sql-where/">WHERE</a> - the first part, before the Basic Operators, plus <a href="/docs/sql/sfmc-sql-where/#equality-operators">Equality Operators</a> and <a href="/docs/sql/sfmc-sql-where/#logical-operators">Logical Operators</a>. Don&#x27;t worry about Comparison operators or shorthands for now. Don&#x27;t worry about the examples with dates and unknown functions. We will get there. For now, think about how you can filter based on simple values like status.</li>
<li><a href="/docs/config/sfmc-system-data-views/">System Data Views</a> - the basics and <a href="/docs/config/sfmc-system-data-views/#_subscribers">_Subscribers</a> Data View.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-your-skills">Check your skills<a href="#check-your-skills" class="hash-link" aria-label="Direct link to Check your skills" title="Direct link to Check your skills">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Exercise</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Hints</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Solution</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Write a query that will find Subscriber Key for all Active (opted-in) Subscribers in your All Subscribers list.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>All Subscribers List data is stored in <a href="/docs/config/sfmc-system-data-views/#_subscribers">_Subscribers</a> Data View.</li>
<li>If you are running your query on a child Business Unit, you will need to use <a href="/docs/sql/sfmc-sql-from/#enterprise-system-data-views"><code>Ent.</code> prefix</a>.</li>
<li>You don&#x27;t have to <a href="/docs/sql/sfmc-sql-select/">SELECT</a> any columns but the SubscriberKey. You can use <a href="/docs/sql/sfmc-sql-where/">WHERE</a> on not selected columns.</li>
<li>Current status of a Subscriber is saved in the <code>Status</code> column of <a href="/docs/config/sfmc-system-data-views/#_subscribers">_Subscribers</a> Data View as a string. You can use it for filtering with <a href="/docs/sql/sfmc-sql-where/">WHERE</a>.</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Solution working on Parent Business Unit</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> _Subscribers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Status</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;active&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Bonus: you can change the last line to, for example, <code>WHERE Domain = &#x27;gmail.com&#x27;</code> to see how many Subscribers are using free Google inbox.</p></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="level-2---join-aliasing-null">Level 2 - JOIN, Aliasing, NULL<a href="#level-2---join-aliasing-null" class="hash-link" aria-label="Direct link to Level 2 - JOIN, Aliasing, NULL" title="Direct link to Level 2 - JOIN, Aliasing, NULL">​</a></h3>
<p>Learn how to leverage a second Data Extension or Data View, change the output&#x27;s column name, and deal with basic <code>NULL</code> cases.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="learning-materials-1">Learning materials<a href="#learning-materials-1" class="hash-link" aria-label="Direct link to Learning materials" title="Direct link to Learning materials">​</a></h4>
<ul>
<li><a href="/docs/sql/sfmc-sql-join/">JOIN</a> - <a href="/docs/sql/sfmc-sql-join/#join-types">JOIN Types</a>, <a href="/docs/sql/sfmc-sql-join/#joining-on">Joining ON</a> and <a href="/docs/sql/sfmc-sql-join/#table-name-prefix">Table Name Prefixes</a> sections. It might be helpful to check out the <a href="/docs/sql/sfmc-sql-join/#sfmc-sql-join-cheat-sheet">visual cheatsheet</a>.</li>
<li><a href="/docs/sql/sfmc-sql-select/#aliasing-with-as">Aliasing</a> - just the Aliasing with AS and Custom values sections.</li>
<li><a href="/docs/sql/sfmc-sql-null-functions/">NULL functions</a> - just the first three paragraphs and <a href="/docs/sql/sfmc-sql-null-functions/#is-null">IS NULL</a> section.</li>
<li><a href="/docs/config/sfmc-system-data-views/#_sent">_Sent</a>, <a href="/docs/config/sfmc-system-data-views/#_open">_Open</a> and <a href="/docs/config/sfmc-system-data-views/#_click">_Click</a> Data Views.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-your-skills-1">Check your skills<a href="#check-your-skills-1" class="hash-link" aria-label="Direct link to Check your skills" title="Direct link to Check your skills">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Exercise</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Hints</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Solution</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Write a query that will find Subscriber Key for all Active (opted-in) Subscribers in your All Subscribers list that were sent an email in the last 6 months.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>Don&#x27;t write SQL from scratch. Leverage what you already have.</li>
<li>Sent data is stored in <a href="/docs/config/sfmc-system-data-views/#_sent">_Sent</a> Data View.</li>
<li>You don&#x27;t have to worry about the 6-month requirement because _Sent Data View stores only six months of data.</li>
<li>You can chain multiple filters using <a href="/docs/sql/sfmc-sql-where/#logical-operators"><code>WHERE</code> Logical Operators</a>.</li>
<li><a href="/docs/sql/sfmc-sql-join/#left-and-right-joins">LEFT JOIN</a> will add columns even if there is no data in the second table.</li>
<li>You can find those records without data in the second table using <a href="/docs/sql/sfmc-sql-null-functions/#is-null"><code>IS NULL</code></a>.</li>
<li>You need to join tables <a href="/docs/sql/sfmc-sql-join/#joining-on"><code>ON</code></a> a common value.</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Solution working on Parent Business Unit</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> _Subscribers   </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> sub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> _Sent </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> sent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> sent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">Status</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;active&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> sent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate </span><span class="token operator" style="color:#393A34">IS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can write this query without the filter on <code>sent.EventDate</code> but with <code>INNER JOIN _Sent</code> instead. The above version makes it easier to change the query for the bonus below.</p><p>Bonus: Change <code>IS NOT NULL</code> to <code>IS NULL</code> in the last line to see how many active Subscribers haven&#x27;t received any communication in the last 6 months. It&#x27;s an excellent segment for the win-back Journey!</p></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="level-3---like-case-strings">Level 3 - LIKE, CASE, Strings<a href="#level-3---like-case-strings" class="hash-link" aria-label="Direct link to Level 3 - LIKE, CASE, Strings" title="Direct link to Level 3 - LIKE, CASE, Strings">​</a></h3>
<p>Learn how to deal with string values, how to implement SQL version of if/else logic and how to make complex conditions calculating your data. With this, you are no longer limited to the data already available in the tables.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="learning-materials-2">Learning materials<a href="#learning-materials-2" class="hash-link" aria-label="Direct link to Learning materials" title="Direct link to Learning materials">​</a></h4>
<ul>
<li><a href="/docs/sql/sfmc-sql-like/">LIKE</a> - whole article, but focus on <a href="/docs/sql/sfmc-sql-like/#like-with-wildcard">LIKE with Wildcard</a>, you will use it more. Check out also the <a href="/docs/sql/sfmc-sql-where/#like-operator">LIKE operator in WHERE</a> section.</li>
<li><a href="/docs/sql/sfmc-sql-case/">CASE</a> - whole article plus <a href="/docs/sql/sfmc-sql-where/#case-operator">CASE operator in WHERE</a> section.</li>
<li><a href="/docs/sql/sfmc-sql-string-functions/">String functions</a> - check out all, but focus on most frequently used <a href="/docs/sql/sfmc-sql-string-functions/#left--right">LEFT &amp; RIGHT</a>, <a href="/docs/sql/sfmc-sql-string-functions/#len">LEN</a> and <a href="/docs/sql/sfmc-sql-string-functions/#charindex">CHARINDEX</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-your-skills-2">Check your skills<a href="#check-your-skills-2" class="hash-link" aria-label="Direct link to Check your skills" title="Direct link to Check your skills">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Exercise</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Hints</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Solution</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Write a query that will find Subscriber Key for all Subscribers in your All Subscribers list and add a new column called <code>SubscriberKeyType</code>. In that new column, calculate whether the Subscriber Key is using an email address, Salesforce ID (and in this case - source object) or other. Possible values should be: <code>Email</code>, <code>Account</code>, <code>Contact</code>, <code>User</code>, <code>Lead</code>, and <code>Other</code>.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_BuS1"><p>For our need here, if the Subscriber Key has 18 characters, no <code>@</code>, and starts with three specific characters, it probably is a Salesforce ID. Those first three characters point to a specific Salesforce Object being a source of that record:</p><ul>
<li>001 = Account</li>
<li>003 = Contact</li>
<li>005 = User</li>
<li>00Q = Lead</li>
</ul></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>The easiest way to find an email is to use <a href="/docs/sql/sfmc-sql-like/#like-with-wildcard">LIKE with Wildcard</a> looking for <code>{something}@{domain}.{tld}</code>.</li>
<li><a href="/docs/sql/sfmc-sql-case/">CASE</a> returns the value assigned to the first matched scenario, so the order of <code>WHEN</code>s makes a difference.</li>
<li>You can use multiple conditions and <a href="/docs/sql/sfmc-sql-string-functions/">String functions</a> in the <code>WHEN</code> checks.</li>
<li><a href="/docs/sql/sfmc-sql-case/">CASE</a> can create a new column when you use it in <a href="/docs/sql/sfmc-sql-select/#aliasing-with-as">SELECT with an alias</a>.</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Solution working on Parent Business Unit. The results will differ a lot depending on your SFMC implementation.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> SubscriberKey </span><span class="token operator" style="color:#393A34">LIKE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%@%.%&#x27;</span><span class="token plain">                                 </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Email&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">LEN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;001&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Account&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">LEN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;003&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Contact&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">LEN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;005&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;User&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">LEN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SubscriberKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;00Q&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Lead&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Other&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> SubscriberKeyType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> _Subscribers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>While you could use <code>LIKE</code> for all the conditions, <code>LEFT</code> will perform better in this <code>CASE</code> because it will only compare the first three characters instead of anywhere in the whole string.</p><p>This query is excellent for understanding what the source of your Subscribers is. It will be even more helpful later when you learn how to aggregate the data. With it, you will quickly see the exact number of subscribers from each source.</p></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="level-4---dates-where-operators-conversion">Level 4 - Dates, WHERE operators, Conversion<a href="#level-4---dates-where-operators-conversion" class="hash-link" aria-label="Direct link to Level 4 - Dates, WHERE operators, Conversion" title="Direct link to Level 4 - Dates, WHERE operators, Conversion">​</a></h3>
<p>Learn how to use the most important filter of all - date filtering. Read about essential date functions and what to do when you don&#x27;t have the correct data type for your use case.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="learning-materials-3">Learning materials<a href="#learning-materials-3" class="hash-link" aria-label="Direct link to Learning materials" title="Direct link to Learning materials">​</a></h4>
<ul>
<li><a href="/docs/sql/sfmc-sql-date-functions/">Date functions</a> - <a href="/docs/sql/sfmc-sql-date-functions/#getdate--getutcdate">GETDATE</a> and <a href="/docs/sql/sfmc-sql-date-functions/#dateadd">DATEADD</a> are the most important sections.</li>
<li><a href="/docs/sql/sfmc-sql-where/">WHERE</a> - while we already covered parts of where, this is time to make a deeper dive into <a href="/docs/sql/sfmc-sql-where/#comparison-operators">Comparison operators</a>, <a href="/docs/sql/sfmc-sql-where/#between-shorthand">BETWEEN shorthand</a> and <a href="/docs/sql/sfmc-sql-where/#in-shorthand">IN shorthand</a>.</li>
<li><a href="/docs/sql/sfmc-sql-conversion-functions/">Conversion functions</a> - the whole article, but treat Data Types and Data Style Codes more as reference material.</li>
<li><a href="/docs/config/sfmc-system-data-views/#_bounce">_Bounce</a> Data View.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-your-skills-3">Check your skills<a href="#check-your-skills-3" class="hash-link" aria-label="Direct link to Check your skills" title="Direct link to Check your skills">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Exercise</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Hints</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Solution</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Write a query that will find Subscriber Key for all Subscribers in your All Subscribers list that joined the list within the last year and had a bounce on Google or Microsoft email between the first day of the current month (write that date manually, as a string) and today.</p><p>For this exercise, we will assume that Google users have emails like <code>something@gmail.com</code>, Microsoft users - <code>something@outlook.com</code> and Yahoo - <code>something@yahoo.com</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>Consider impact of the <a href="/docs/sql/sfmc-sql-join/#join-types">JOIN type</a> on the query output. Can you leverage it to minimise the data you are working on?</li>
<li>When writing the date comparison, take a pen and paper and draw a timeline with the part you want to capture. Seeing it makes it much easier to write it correctly.</li>
<li>When deciding whether to use shorthands - go with the most readable option.</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Solution working on Parent Business Unit</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> _Subscribers       </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> sub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> _Bounce  </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DateJoined </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> DATEADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">YEAR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GETDATE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Domain </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;gmail.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;outlook.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;yahoo.com&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CONVERT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2023-01-01&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> GETDATE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Bonus: Dive deeper into bounces by selecting SMTPBounceReason and SMTPMessage in the <code>_Bounce</code> Data View to learn more about the root cause of the bounces.</p></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="level-5---multiple-joins-union-intersect-and-except">Level 5 - Multiple JOINS, UNION, INTERSECT and EXCEPT<a href="#level-5---multiple-joins-union-intersect-and-except" class="hash-link" aria-label="Direct link to Level 5 - Multiple JOINS, UNION, INTERSECT and EXCEPT" title="Direct link to Level 5 - Multiple JOINS, UNION, INTERSECT and EXCEPT">​</a></h3>
<p>Learn to leverage data from multiple tables - the only limitations will be creativity and autokill function crashing queries after 30 minutes of execution ;)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="learning-materials-4">Learning materials<a href="#learning-materials-4" class="hash-link" aria-label="Direct link to Learning materials" title="Direct link to Learning materials">​</a></h4>
<ul>
<li><a href="/docs/sql/sfmc-sql-join/#multiple-joins">JOINs</a> - yup, everything. The Cheat Sheet at the end should be useful to visualise multi-JOIN fun better.</li>
<li><a href="/docs/config/sfmc-system-data-views/#journey-data-views">Journey Builder Data Views</a> - both _Journey and _JourneyActivity.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-your-skills-4">Check your skills<a href="#check-your-skills-4" class="hash-link" aria-label="Direct link to Check your skills" title="Direct link to Check your skills">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Exercise</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Hints</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Solution</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Find some active Journey from the last quarter that already had some email sends with engagement. Note the name of the Journey and Email Activity.</p><p>Write a query that will find Subscriber Key and Email Address for all Subscribers in your All Subscribers list that clicked a link in the first email activity in the Journey you selected.</p><p>Append a proof record with Subscriber Key equal to <code>level5exercise</code> and your email address.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>Think about which tables you need for the task. The less, the better.</li>
<li>Think what <a href="/docs/sql/sfmc-sql-join/#join-types">types of JOINs</a> will be needed. To make it easier - take a pen and paper and draw a diagram. Seriously, it&#x27;s super helpful as the number of tables grows.</li>
<li>Think about what columns you can join the tables in a way that will protect you from the fan out (a one-to-many relationship that results in more rows than needed in the output).</li>
<li><a href="/docs/sql/sfmc-sql-join/#union">UNION</a> with <a href="/docs/sql/sfmc-sql-select/#aliasing-with-as">aliases</a> is great for arbitrary added records in SQL.</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Solution working on Parent Business Unit</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EmailAddress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> _Subscribers               </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> sub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> _Click           </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IsUnique </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> _JourneyActivity </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> ja</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> ja</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">JourneyActivityObjectID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TriggererSendDefinitionObjectID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> _Journey         </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> j</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VersionID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ja</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VersionID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    j</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">JourneyName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SelectedJourneyName&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> ja</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivityName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SelectedEmailActivityName&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UNION</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;level5exercise&#x27;</span><span class="token plain">      </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> SubscriberKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;your@email.address&#x27;</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> EmailAddress</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Bonus: the fun with multiple joins <a href="/docs/sql/snippets/sfmc-sql-debugging-email-sends/#solution">never ends</a>.</p></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="level-6---group-count-top-and-having">Level 6 - GROUP, COUNT, TOP and HAVING<a href="#level-6---group-count-top-and-having" class="hash-link" aria-label="Direct link to Level 6 - GROUP, COUNT, TOP and HAVING" title="Direct link to Level 6 - GROUP, COUNT, TOP and HAVING">​</a></h3>
<p>Graduate from just playing with rows and start calculating the data to see patterns, outliers and problems. It is handy for SFMC Administrators and Consultants performing analysis on the platform data.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="learning-materials-5">Learning materials<a href="#learning-materials-5" class="hash-link" aria-label="Direct link to Learning materials" title="Direct link to Learning materials">​</a></h4>
<ul>
<li><a href="/docs/sql/sfmc-sql-aggregate-functions/">Aggregate functions</a> - focus on <a href="/docs/sql/sfmc-sql-aggregate-functions/#group-by">GROUP BY</a>, <a href="/docs/sql/sfmc-sql-aggregate-functions/#count">COUNT</a> and <a href="/docs/sql/sfmc-sql-aggregate-functions/#having">HAVING</a>.</li>
<li><a href="#order-of-operations">Order of operations</a> - this is when it becomes tricky.</li>
<li><a href="/docs/sql/sfmc-sql-select/#top">TOP</a> - focus on how to use it with <a href="/docs/sql/sfmc-sql-select/#top-with-order-by">ORDER BY</a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-your-skills-5">Check your skills<a href="#check-your-skills-5" class="hash-link" aria-label="Direct link to Check your skills" title="Direct link to Check your skills">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Exercise</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Hints</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Solution</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Find the number of sends, unique bounces, and the bounce rate (percent of bounces vs sends) per domain from deliveries attempted in the last month. Filter the records to only those Domains with at least 100 sends. Order by the bounce rate descending and limit to the top 20 records.</p><p>If you send huge volumes, feel free to change the timeframe from last month to last week for the exercise.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>Build query step by step and validate the output. In this case, it might be easiest to write SELECT for just the Domain with the suitable tables and date filter, then add the GROUP BY to validate aggregation and then go with additional aggregate functions.</li>
<li>All calculated values require an <a href="/docs/sql/sfmc-sql-select/#aliasing-with-as">alias</a>.</li>
<li>Pick the right <a href="/docs/sql/sfmc-sql-join/#join-types">type of JOIN</a> and correct set of joining rules so that you get precisely those rows that you need (limit the fan-out created by the possibility of many bounces per single send).</li>
<li>When building the date filter, the output will be completely different depending on which date you use (hopefully, not every send will have a bounce).</li>
<li>Unfortunately, in SFMC, you cannot use alias in WHERE/HAVING/ORDER BY and similar places - you have to use the function/calculation.</li>
<li>When calculating Bounce Rate, do it so that the outcome is an integer equal to a percent.</li>
</ol><p>Important: Because of the Query Studio bug, you cannot have spaces around the multiplication symbol (<code>*</code>); otherwise, you will see an error related to a bad practice blanket SELECTs.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Solution working on Parent Business Unit</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TOP</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Domain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> SendCount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> BounceCount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">100</span><span class="token operator" style="color:#393A34">/</span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> BounceRate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> _Sent </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> _Bounce </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">JobID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">JobID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ListID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ListID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BatchID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BatchID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SubscriberID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IsUnique </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> DATEADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">MONTH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GETDATE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Domain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">HAVING</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">100</span><span class="token operator" style="color:#393A34">/</span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EventDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DESC</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Bonus: This query might be performance heavy. One option to make it perform better is to shorten the timeframe in the WHERE filter. Another would be to split this query into two - one getting cumulative counts and the second responsible for doing math for Bounce Rate. Also, check how the numbers change when selecting only Hard Bounces.</p></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="level-7---coming-soon-ish">Level 7 - coming soon-ish<a href="#level-7---coming-soon-ish" class="hash-link" aria-label="Direct link to Level 7 - coming soon-ish" title="Direct link to Level 7 - coming soon-ish">​</a></h3>
<p>I will add more levels once I finish writing supporting learning materials :)</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="writing-with-style">Writing with style<a href="#writing-with-style" class="hash-link" aria-label="Direct link to Writing with style" title="Direct link to Writing with style">​</a></h2>
<p>Knowing the available functions is one thing. Writing good and readable queries - another. Salesforce Marketing Cloud is always a team sport, so be sure to leverage the power of a <a href="/docs/sql/sfmc-sql-style-guide/">Style Guide</a> to improve the quality of your SQL.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="order-of-operations">Order of operations<a href="#order-of-operations" class="hash-link" aria-label="Direct link to Order of operations" title="Direct link to Order of operations">​</a></h2>
<p>One of the key things to remember when building more complex queries is the order of operations, as it will decide what is in the output:</p>
<p><a href="/docs/sql/sfmc-sql-from/"><code>FROM</code></a> &gt; <a href="/docs/sql/sfmc-sql-where/"><code>WHERE</code></a> &gt; <a href="/docs/sql/sfmc-sql-aggregate-functions/#group-by"><code>GROUP BY</code></a> &gt; <a href="/docs/sql/sfmc-sql-aggregate-functions/#having"><code>HAVING</code></a> &gt; <a href="/docs/sql/sfmc-sql-select/#distinct"><code>DISTINCT</code></a> &gt; <a href="/docs/sql/sfmc-sql-select/#top-with-order-by"><code>ORDER BY</code></a></p>
<p>It means that rows filtered with <code>WHERE</code> will not be considered for <code>GROUP BY</code> and that <code>DISTINCT</code> deduplication will be applied to results grouped and filtered by <code>HAVING</code> - not the source data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="all-sql-guides">All SQL Guides<a href="#all-sql-guides" class="hash-link" aria-label="Direct link to All SQL Guides" title="Direct link to All SQL Guides">​</a></h2>
<section class="row"><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-basics/"><h2 class="text--truncate cardTitle_rnsV" title="SQL Basics">📄️<!-- --> <!-- -->SQL Basics</h2><p class="text--truncate cardDescription_PWke" title="SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough.">SELECT your data FROM Salesforce Marketing Cloud WHERE drag-and-drop Filters are not enough.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-select/"><h2 class="text--truncate cardTitle_rnsV" title="Select">📄️<!-- --> <!-- -->Select</h2><p class="text--truncate cardDescription_PWke" title="Selected information on the SELECT statement in SFMC SQL.">Selected information on the SELECT statement in SFMC SQL.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-from/"><h2 class="text--truncate cardTitle_rnsV" title="From">📄️<!-- --> <!-- -->From</h2><p class="text--truncate cardDescription_PWke" title="Tell the SQL query FROM where you need the data.">Tell the SQL query FROM where you need the data.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-join/"><h2 class="text--truncate cardTitle_rnsV" title="Join">📄️<!-- --> <!-- -->Join</h2><p class="text--truncate cardDescription_PWke" title="Data Extensions. System Data Views. With the JOIN statement, use one query to rule them all.">Data Extensions. System Data Views. With the JOIN statement, use one query to rule them all.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-where/"><h2 class="text--truncate cardTitle_rnsV" title="Where">📄️<!-- --> <!-- -->Where</h2><p class="text--truncate cardDescription_PWke" title="Use WHERE to make your query lean and to the point. Less is more.">Use WHERE to make your query lean and to the point. Less is more.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-case/"><h2 class="text--truncate cardTitle_rnsV" title="Case">📄️<!-- --> <!-- -->Case</h2><p class="text--truncate cardDescription_PWke" title="Empower your Marketing Cloud queries with conditional SQL CASE logic.">Empower your Marketing Cloud queries with conditional SQL CASE logic.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-like/"><h2 class="text--truncate cardTitle_rnsV" title="Like">📄️<!-- --> <!-- -->Like</h2><p class="text--truncate cardDescription_PWke" title="Get a LIKE and build more flexible SQL queries.">Get a LIKE and build more flexible SQL queries.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-string-functions/"><h2 class="text--truncate cardTitle_rnsV" title="String Functions">📄️<!-- --> <!-- -->String Functions</h2><p class="text--truncate cardDescription_PWke" title="Take control over strings with built-in SQL functions. Let the query do the job.">Take control over strings with built-in SQL functions. Let the query do the job.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-date-functions/"><h2 class="text--truncate cardTitle_rnsV" title="Date Functions">📄️<!-- --> <!-- -->Date Functions</h2><p class="text--truncate cardDescription_PWke" title="Take control over dates with built-in SQL functions. Let the query do the job.">Take control over dates with built-in SQL functions. Let the query do the job.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-numeric-functions/"><h2 class="text--truncate cardTitle_rnsV" title="Numeric Functions">📄️<!-- --> <!-- -->Numeric Functions</h2><p class="text--truncate cardDescription_PWke" title="Take control over numbers with built-in SQL functions. Let the query do the job.">Take control over numbers with built-in SQL functions. Let the query do the job.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-conversion-functions/"><h2 class="text--truncate cardTitle_rnsV" title="Conversion Functions">📄️<!-- --> <!-- -->Conversion Functions</h2><p class="text--truncate cardDescription_PWke" title="Break from the limits of Data Extension data types. Use full power of SQL to control your values.">Break from the limits of Data Extension data types. Use full power of SQL to control your values.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-aggregate-functions/"><h2 class="text--truncate cardTitle_rnsV" title="Aggregate Functions">📄️<!-- --> <!-- -->Aggregate Functions</h2><p class="text--truncate cardDescription_PWke" title="Group rows and apply aggregate functions to see the big picture in your data extensions.">Group rows and apply aggregate functions to see the big picture in your data extensions.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-null-functions/"><h2 class="text--truncate cardTitle_rnsV" title="Null Functions">📄️<!-- --> <!-- -->Null Functions</h2><p class="text--truncate cardDescription_PWke" title="IS NULL, or IS NOT NULL, that is the question. Ways of working with NULL values in SFMC SQL.">IS NULL, or IS NOT NULL, that is the question. Ways of working with NULL values in SFMC SQL.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/sql/sfmc-sql-style-guide/"><h2 class="text--truncate cardTitle_rnsV" title="Style Guide">📄️<!-- --> <!-- -->Style Guide</h2><p class="text--truncate cardDescription_PWke" title="Query with style. Readable, bug-free code is a few shifts &amp; spaces away.">Query with style. Readable, bug-free code is a few shifts &amp; spaces away.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/docs/category/-sql-snippets/"><h2 class="text--truncate cardTitle_rnsV" title="› SQL Snippets">🗃️<!-- --> <!-- -->› SQL Snippets</h2><p class="text--truncate cardDescription_PWke" title="2 items">2 items</p></a></article></section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/marketing-cloud/">Marketing Cloud</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/sql/">SQL</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/sql/sfmc-sql-basics.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-10-05T11:31:27.000Z" itemprop="dateModified">Oct 5, 2024</time></b> by <b>Mateusz Dąbrowski</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/sfmc-sql/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SFMC SQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/sql/sfmc-sql-select/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Select</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-segment-data-in-marketing-cloud" class="table-of-contents__link toc-highlight">How to segment data in Marketing Cloud</a></li><li><a href="#sql-in-salesforce-marketing-cloud" class="table-of-contents__link toc-highlight">SQL in Salesforce Marketing Cloud</a></li><li><a href="#where-to-learn-sfmc-sql" class="table-of-contents__link toc-highlight">Where to learn SFMC SQL</a></li><li><a href="#how-to-learn-sfmc-sql" class="table-of-contents__link toc-highlight">How to learn SFMC SQL</a><ul><li><a href="#level-1---select-from-where" class="table-of-contents__link toc-highlight">Level 1 - SELECT, FROM, WHERE</a></li><li><a href="#level-2---join-aliasing-null" class="table-of-contents__link toc-highlight">Level 2 - JOIN, Aliasing, NULL</a></li><li><a href="#level-3---like-case-strings" class="table-of-contents__link toc-highlight">Level 3 - LIKE, CASE, Strings</a></li><li><a href="#level-4---dates-where-operators-conversion" class="table-of-contents__link toc-highlight">Level 4 - Dates, WHERE operators, Conversion</a></li><li><a href="#level-5---multiple-joins-union-intersect-and-except" class="table-of-contents__link toc-highlight">Level 5 - Multiple JOINS, UNION, INTERSECT and EXCEPT</a></li><li><a href="#level-6---group-count-top-and-having" class="table-of-contents__link toc-highlight">Level 6 - GROUP, COUNT, TOP and HAVING</a></li><li><a href="#level-7---coming-soon-ish" class="table-of-contents__link toc-highlight">Level 7 - coming soon-ish</a></li></ul></li><li><a href="#writing-with-style" class="table-of-contents__link toc-highlight">Writing with style</a></li><li><a href="#order-of-operations" class="table-of-contents__link toc-highlight">Order of operations</a></li><li><a href="#all-sql-guides" class="table-of-contents__link toc-highlight">All SQL Guides</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/zen-of-sfmc/">Zen of SFMC</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/ssjs/">SSJS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/javascript/">JavaScript</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/ampscript/">AMPScript</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/sfmc-sql/">SFMC SQL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/sfmc-config/">SFMC Config</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/mc-personalization/">MC Personalization</a></li></ul></div><div class="col footer__col"><div class="footer__title">My</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sites/newsletter/">Newsletter</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/sfmc-webinars/">Webinars</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/my-toolset/">Toolset</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/category/ideas/">Ideas</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/category/faq/">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sites/licence/">Licence &amp; Attribution</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/privacy/">Privacy</a></li></ul></div></div></div></footer></div>
</body>
</html>