<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">SSJS Debugging &amp; Error Handling | Mateusz Dąbrowski</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mateuszdabrowski.pl/docs/salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="author" content="Mateusz Dąbrowski"><meta data-rh="true" name="theme-color" content="#212121"><meta data-rh="true" name="msapplication-TileColor" content="#F6B355"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SSJS Debugging &amp; Error Handling | Mateusz Dąbrowski"><meta data-rh="true" name="description" content="To catch, or not to catch, that is debugging."><meta data-rh="true" property="og:description" content="To catch, or not to catch, that is debugging."><meta data-rh="true" property="og:image" content="https://mateuszdabrowski.pl/img/og/og-image-sf-mce-ssjs-debugging-and-error-handling.png"><meta data-rh="true" name="twitter:image" content="https://mateuszdabrowski.pl/img/og/og-image-sf-mce-ssjs-debugging-and-error-handling.png"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mateuszdabrowski.pl/docs/salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs/"><link data-rh="true" rel="alternate" href="https://mateuszdabrowski.pl/docs/salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mateuszdabrowski.pl/docs/salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://F4XVDD6BM8-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Salesforce","item":"https://mateuszdabrowski.pl/docs/category/salesforce"},{"@type":"ListItem","position":2,"name":"Marketing Cloud Engagement","item":"https://mateuszdabrowski.pl/docs/category/salesforce/marketing-cloud-engagement"},{"@type":"ListItem","position":3,"name":"SSJS","item":"https://mateuszdabrowski.pl/docs/category/salesforce/marketing-cloud-engagement/ssjs"},{"@type":"ListItem","position":4,"name":"Debugging & Error Handling","item":"https://mateuszdabrowski.pl/docs/salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N46LB5K"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N46LB5K",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Mateusz Dąbrowski" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.c39be200.css">
<script src="/assets/js/runtime~main.9362694d.js" defer="defer"></script>
<script src="/assets/js/main.e8d31ba5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo-horizontal-light-2x.png"><link rel="preload" as="image" href="/img/logo-horizontal-dark-2x.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-horizontal-light-2x.png" alt="Mateusz Dąbrowski Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-horizontal-dark-2x.png" alt="Mateusz Dąbrowski Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/">Docs &amp; Snippets</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/category/salesforce/marketing-cloud-engagement/">Marketing Cloud Engagement</a></li><li><a class="dropdown__link" href="/docs/category/salesforce/marketing-cloud-personalization/">Marketing Cloud Personalization</a></li><li><a class="dropdown__link" href="/docs/category/javascript/">JavaScript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/category/webinars/">Webinars</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/salesforce/marketing-cloud-engagement/config/webinars/mce-account-architecture/">MCE Account Architecture</a></li><li><a class="dropdown__link" href="/docs/salesforce/marketing-cloud-engagement/config/webinars/mce-salesforce-data-in-journey-builder/">Salesforce Data in Journey Builder</a></li><li><a class="dropdown__link" href="/docs/salesforce/marketing-cloud-engagement/config/webinars/mce-architecting-web-solutions/">Architecting MCE Web Solutions</a></li><li><a class="dropdown__link" href="/docs/salesforce/marketing-cloud-engagement/config/webinars/mce-cloud-page-apps/">MCE Cloud Page Apps</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/sites/category/tools/">Tools</a><ul class="dropdown__menu"><li><a href="https://clock.mateuszdabrowski.pl" target="_blank" rel="noopener noreferrer" class="dropdown__link">MCE World Clock</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/sites/category/faq/">FAQ</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sites/faq/salesforce/what-is-the-difference-between-sf-marketing-clouds/">What is the difference between SF Marketing Clouds?</a></li><li><a class="dropdown__link" href="/sites/faq/salesforce/how-to-get-sfmc-hands-on-experience/">How to get Marketing Cloud Demo Account?</a></li><li><a class="dropdown__link" href="/sites/faq/salesforce/how-to-get-sf-certification-vouchers/">How to get Salesforce Certification Vouchers?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/sites/category/ideas/">Ideas</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sites/ideas/salesforce/marketing-cloud-engagement-ideas/">Marketing Cloud Engagement</a></li><li><a class="dropdown__link" href="/sites/ideas/salesforce/marketing-cloud-personalization-ideas/">Marketing Cloud Personalization</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/tags/">Tags</a><a class="navbar__item navbar__link" href="/sites/newsletter/">Newsletter</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/mateusz-dabrowski-pl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="LinkedIn Profile"></a><a href="https://trailblazer.me/id/madabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-salesforce-link" aria-label="Trailblazer Profile"></a><a href="https://github.com/MateuszDabrowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/category/salesforce/"><span title="Salesforce" class="categoryLinkLabel_W154">Salesforce</span></a><button aria-label="Collapse sidebar category &#x27;Salesforce&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sites/faq/salesforce/what-is-the-difference-between-sf-marketing-clouds/"><span title="» SFMC Product Names Explained" class="linkLabel_WmDU">» SFMC Product Names Explained</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/salesforce/marketing-cloud-engagement/"><span title="Marketing Cloud Engagement" class="categoryLinkLabel_W154">Marketing Cloud Engagement</span></a><button aria-label="Collapse sidebar category &#x27;Marketing Cloud Engagement&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/salesforce/marketing-cloud-engagement/zen-of-marketing-cloud/"><span title="Zen of Marketing Cloud" class="linkLabel_WmDU">Zen of Marketing Cloud</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/salesforce/marketing-cloud-engagement/sql/"><span title="SQL" class="categoryLinkLabel_W154">SQL</span></a><button aria-label="Expand sidebar category &#x27;SQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/salesforce/marketing-cloud-engagement/ssjs/"><span title="SSJS" class="categoryLinkLabel_W154">SSJS</span></a><button aria-label="Collapse sidebar category &#x27;SSJS&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/salesforce/marketing-cloud-engagement/ssjs/ssjs-if-and-switch/"><span title="If &amp; Switch" class="linkLabel_WmDU">If &amp; Switch</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/salesforce/marketing-cloud-engagement/ssjs/ssjs-loops/"><span title="Loops" class="linkLabel_WmDU">Loops</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs/"><span title="Debugging &amp; Error Handling" class="linkLabel_WmDU">Debugging &amp; Error Handling</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/salesforce/marketing-cloud-engagement/ssjs/ssjs-style-guide/"><span title="Style Guide" class="linkLabel_WmDU">Style Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/salesforce/marketing-cloud-engagement/ssjs/ssjs-vs-ampscript-performance/"><span title="Performance" class="linkLabel_WmDU">Performance</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/salesforce/marketing-cloud-engagement/ssjs/snippets/"><span title="› SSJS Snippets" class="categoryLinkLabel_W154">› SSJS Snippets</span></a><button aria-label="Expand sidebar category &#x27;› SSJS Snippets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a href="https://developer.salesforce.com/docs/marketing/marketing-cloud/guide/ssjs_serverSideJavaScript.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0"><span title="» Official SSJS Docs" class="linkLabel_WmDU">» Official SSJS Docs</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/salesforce/marketing-cloud-engagement/ampscript/"><span title="AMPScript" class="categoryLinkLabel_W154">AMPScript</span></a><button aria-label="Expand sidebar category &#x27;AMPScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/salesforce/marketing-cloud-engagement/config/"><span title="Config" class="categoryLinkLabel_W154">Config</span></a><button aria-label="Expand sidebar category &#x27;Config&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/salesforce/marketing-cloud-engagement/webinars/"><span title="Webinars" class="categoryLinkLabel_W154">Webinars</span></a><button aria-label="Expand sidebar category &#x27;Webinars&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/salesforce/marketing-cloud-personalization/"><span title="Marketing Cloud Personalization" class="categoryLinkLabel_W154">Marketing Cloud Personalization</span></a><button aria-label="Expand sidebar category &#x27;Marketing Cloud Personalization&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/javascript/"><span title="JavaScript" class="categoryLinkLabel_W154">JavaScript</span></a><button aria-label="Expand sidebar category &#x27;JavaScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/salesforce/"><span>Salesforce</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/salesforce/marketing-cloud-engagement/"><span>Marketing Cloud Engagement</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/salesforce/marketing-cloud-engagement/ssjs/"><span>SSJS</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Debugging &amp; Error Handling</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SSJS Debugging &amp; Error Handling</h1></header><p id="leadText_qzwo">To catch, or not to catch, that is debugging.</p>
<p>When you start working with programmatic languages in Salesforce Marketing Cloud, you will quickly become close friends with the Error 500 page. And if you beat it and go forward with the code and official documentation, you will fall in love with unexpected errors in functions and API responses. How to survive those?</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssjs-testing-ground">SSJS Testing Ground<a href="#ssjs-testing-ground" class="hash-link" aria-label="Direct link to SSJS Testing Ground" title="Direct link to SSJS Testing Ground" translate="no">​</a></h2>
<p>Before diving deep into errors, let&#x27;s talk about where to write the SSJS. The language is useful in many places within the Marketing Cloud ecosystem. Among else in:</p>
<ul>
<li class="">Cloud Pages (Web Studio)</li>
<li class=""><a class="" href="/docs/salesforce/marketing-cloud-engagement/config/code-resource/">Code Resources</a> (Web Studio -&gt; Content Builder)</li>
<li class="">Content Blocks (Content Builder)</li>
<li class="">Emails and other communication (Email Studio / Mobile Studio / Content Builder)</li>
<li class="">Script Activities (Automation Studio)</li>
</ul>
<p>In all of the above cases, you might write more complex logic that will be error-prone and in need of debugging. However, only a few of those are really good to test your code, as only some of them provide access to methods mentioned later in the article.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cloud-page">Cloud Page<a href="#cloud-page" class="hash-link" aria-label="Direct link to Cloud Page" title="Direct link to Cloud Page" translate="no">​</a></h3>
<p>The most popular recommendation is Cloud Page - write or paste the SSJS code there, publish and check whether it is working correctly. It is a great way, as it allows you to easily leverage SSJS for the backend and HTML/CSS/JavaScript for the frontend.</p>
<p>It has, however, two flaws that, in some scenarios, might guide you to a different solution.</p>
<ol>
<li class=""><strong>Cost</strong>. Each view of the Cloud Page costs one Super Message. During debugging, you might hit quite a lot of those. And those tests - across your team and over time - stack up.</li>
<li class=""><strong>Speed and context</strong>. Each time you want to republish the updated Cloud Page, you have to go through the Preview window (that load the whole code in POST method context), confirm it and go to the page via URL to see the GET method context.</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_BuS1"><p>Whenever you are writing an SSJS script on the Cloud Page, be sure to check your code on the published page, not the Web Studio Preview. Many SSJS functions do not work correctly in the Preview, so you might see errors that won&#x27;t happen on the Cloud Page.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="json-code-resource">JSON Code Resource<a href="#json-code-resource" class="hash-link" aria-label="Direct link to JSON Code Resource" title="Direct link to JSON Code Resource" translate="no">​</a></h3>
<p>When I want to go around those issues, I work in <a class="" href="/docs/salesforce/marketing-cloud-engagement/config/code-resource/">JSON Code Resource</a> (in the past stored in Web Studio, now in Content Builder). It generates a link you can use to check whether everything works, just like a Cloud Page. However, page views are free. There is also no preview allowing for a faster save-reload cycle.</p>
<p>The cons? You won&#x27;t be able to use any frontend (neither HTML nor JavaScript), which might be a deal-breaker in some scenarios.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="so-where">So where?<a href="#so-where" class="hash-link" aria-label="Direct link to So where?" title="Direct link to So where?" translate="no">​</a></h3>
<table><thead><tr><th>If you need</th><th>Cloud Page</th><th>JSON Code Resource</th></tr></thead><tbody><tr><td>SSJS</td><td>✅</td><td>✅</td></tr><tr><td>HTML/CSS/JS</td><td>✅</td><td>❌</td></tr><tr><td>No Cost</td><td>❌</td><td>✅</td></tr><tr><td>Quick Save</td><td>❌</td><td>✅</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="500---internal-server-error">500 - Internal Server Error<a href="#500---internal-server-error" class="hash-link" aria-label="Direct link to 500 - Internal Server Error" title="Direct link to 500 - Internal Server Error" translate="no">​</a></h2>
<p>The first type of error you might encounter is the dreaded 500 Error you see right after <em>trying</em> to run your code Reason? The backend code (SSJS/AMPScript) is invalid. There might be a few reasons for this. The most popular are:</p>
<ol>
<li class="">Typo in SSJS Function Name</li>
<li class="">Unclosed or wrongly closed Bracket</li>
<li class="">Use of JavaScript feature that is not available in SSJS (there is quite a lot of those...)</li>
<li class="">Lack of declaration (in most cases either missing variable declaration, <code>Platform.Load(&quot;Core&quot;,&quot;1&quot;);</code> or <code>var soap = new Script.Util.WSProxy();</code> while using it later in the code)</li>
</ol>
<p>How to deal with those issues? Apart from just reading through your code line by line, there are two faster solutions.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="divide-and-conquer">Divide and Conquer<a href="#divide-and-conquer" class="hash-link" aria-label="Direct link to Divide and Conquer" title="Direct link to Divide and Conquer" translate="no">​</a></h3>
<p>The first one can be done directly in the Marketing Cloud but is a bit of a brute-force approach. You block half of your code from running by enclosing it in a multiline comment (<code>/* here goes the code */</code>) and check again. If it works, you have half of the SSJS validated (from the 500 error perspective). If not, you split the remaining code in half and comment it out. Rinse, repeat. This way, you can quickly find the few lines that are the source of the issue and focus on validating them.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssjs-linting">SSJS Linting<a href="#ssjs-linting" class="hash-link" aria-label="Direct link to SSJS Linting" title="Direct link to SSJS Linting" translate="no">​</a></h3>
<p>For many issues leading to 500 error, there is an even faster solution, but it requires some pre-work:</p>
<ol>
<li class="">You need to have <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer" title="Visual Studio Code Website" class="">Visual Studio Code</a> with <a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noopener noreferrer" title="ESLint in Visual Studio Code Marketplace" class="">ESLint extension</a> installed.</li>
<li class="">You need to have <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer" title="NodeJS Website" class="">NodeJS</a> installed.</li>
<li class="">You need to have a folder where you will store your SSJS code in files with the <code>.ssjs</code> file extension.</li>
<li class="">You need to install the excellent <a href="https://github.com/JoernBerkefeld/eslint-config-ssjs" target="_blank" rel="noopener noreferrer" title="Joern Berkefeld Github Project with Config" class="">ESLint configuration for SSJS</a> made by <a href="https://www.linkedin.com/in/joernberkefeld/" target="_blank" rel="noopener noreferrer" title="Joern Berkefeld LinkedIn" class="">Joern Berkefeld</a>. To do this, run in terminal <code>npm i -D eslint eslint-config-ssjs</code> for the SSJS folder.</li>
</ol>
<p>Once done, you have automatic SSJS code validation (again, only from the perspective of 500 error - but it is still worth it).</p>
<p>There is also a much more basic and less helpful but built-in solution to validate your SSJS code directly in the Marketing Cloud. Script Activity in Automation Studio. After adding your code there and clicking Validate Syntax button, it will check it against some basic rules. However, I recommend going with the ESLint. It provides much more value and is faster once configured.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>What about Try/Catch?</div><div class="admonitionContent_BuS1"><p>There will be a separate section about Try/Catch. It does not work for issues leading to 500 Error.</p></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="write-the-error-down">Write the Error down<a href="#write-the-error-down" class="hash-link" aria-label="Direct link to Write the Error down" title="Direct link to Write the Error down" translate="no">​</a></h2>
<p>You got past the 500 error. Great! The script is still not outputting what you wanted? It is time to check what else might be wrong. The easiest way is to use the <code>Write</code> function. It shows whatever you pass in it to the frontend view. It is handy as SSJS does not support console.log due to its server-side nature (a little trick to make it work is below).</p>
<p>To use this function just add <code>Write(&#x27;This will be visible on the website&#x27;)</code> between <code>&lt;script runat=&quot;server&quot;&gt; Platform.Load(&#x27;Core&#x27;,&#x27;1&#x27;);</code> and <code>&lt;/script&gt;</code>.</p>
<p>Of course, in real life, you will probably want to use it for variables:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">runat</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">server</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript maybe-class-name">Platform</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Load</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Core&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:#36acaa">HTTP</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Get</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;http://www.example.com&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Write</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Response from example.com: &#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;&lt;br&gt;&lt;br&gt;&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>As you can see in the code snippet above, I have more than just a <code>response</code> variable within my <code>Write</code>. The string before describes what is printed (useful mainly if you use multiple Writes in your code). The one after - <code>&lt;br&gt;&lt;br&gt;</code> - will separate it from the rest of the website content (however, as it is HTML, it won&#x27;t work in JSON Code Resource. You can use <code>\n\n</code> instead for the same outcome). I highly recommend this approach.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Few things to remember</div><div class="admonitionContent_BuS1"><ol>
<li class=""><code>Write</code> is Core Library function, so you need to load it first in your script with <code>Platform.Load(&#x27;Core&#x27;,&#x27;1&#x27;);</code>.</li>
<li class="">If the variable you want to output is an object, you need to parse it to a string using <code>Stringify(response)</code>.</li>
<li class="">If you don&#x27;t want to load Core Library, use Platform versions of those functions: <code>Platform.Response.Write()</code> and <code>Platform.Function.Stringify()</code>.</li>
</ol></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="debugging-variable">Debugging Variable<a href="#debugging-variable" class="hash-link" aria-label="Direct link to Debugging Variable" title="Direct link to Debugging Variable" translate="no">​</a></h3>
<p>Whenever you create a script for the long-term, it is good to keep your debugging <code>Write</code> functions. There might be new requirements. Data sources change. Marketing Cloud too. And sometimes, those things might break your code.</p>
<p>Of course, keeping the <code>Writes</code> as above is a no-go. You don&#x27;t want your customers to see those. But there is a neat little trick to eat the cake and have it too:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">runat</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">server</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript maybe-class-name">Platform</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Load</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Core&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> debugging </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:#36acaa">HTTP</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Get</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;http://www.example.com?q=1234&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">debugging</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Write</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Response from example.com: &#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;&lt;br&gt;&lt;br&gt;&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>I added two things:</p>
<ol>
<li class="">There is <code>var debugging = true;</code> near the top. When debugging, keep it on <code>true</code>. When you publish it for production - change the value to <code>false</code>.</li>
<li class="">The <code>Write</code> is within the <code>if</code> block. It now works only if the debugging variable equals <code>true</code>.</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_BuS1"><p>Make your life easier with a nice clean function that will save you a lot of time in the long run:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">* </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@function</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> debugValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">* </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@description</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> Outputs provided description and SSJS value to front-end in a type-safe &amp; consistent way</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">* </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token doc-comment comment class-name" style="color:#999988;font-style:italic">string</span><span class="token doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:#999988;font-style:italic">description</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> - Describes meaning of the second parameter in the output</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">* </span><span class="token doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token doc-comment comment class-name operator" style="color:#393A34;font-style:italic">*</span><span class="token doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:#999988;font-style:italic">value</span><span class="token doc-comment comment" style="color:#999988;font-style:italic"> - The value that needs to be debugged</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">debugValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">description</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token function maybe-class-name" style="color:#d73a49">Write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">description </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;: &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;object&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&lt;br&gt;&lt;br&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HTTP</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">Get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com?q=1234&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">debugging</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">debugValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Response from example.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div><p>With this approach, once you copy-paste the function, you have cleaner debugging lines, less code to write, no worry whether you need to <code>Stringify</code> or not and automatic new line addition for easier reading. Just pass debug description and the value you want to check and see the magic happen.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="console-logging">Console Logging<a href="#console-logging" class="hash-link" aria-label="Direct link to Console Logging" title="Direct link to Console Logging" translate="no">​</a></h3>
<p>I mentioned before that SSJS does not support <code>console.log</code> as it executes on a server. There is, however, a workaround that might bring the SSJS values to your console. SSJS personalization strings passed to your JavaScript can help:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Response from example.com&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&lt;ctrl:var name=response /&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Passing Objects from SSJS to JS</div><div class="admonitionContent_BuS1"><p>If the variable you want to pass to JavaScript is an SSJS Object, you will need to create a parsed variable to make it work:</p><ol>
<li class="">In SSJS create <code>var parsedResponse = Stringify(response);</code></li>
<li class="">In JS change the personalization to <code>console.log(&lt;ctrl:var name=parsedResponse /&gt;)</code> (notice different <code>name</code> value and lack of quotes around personalization string)</li>
</ol><p>Alternatively use <a class="" href="/docs/salesforce/marketing-cloud-engagement/ssjs/ssjs-if-and-switch/#ternary">ternary</a> to cover all scenarios:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> parsedResponse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;object&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> response</span><br></span></code></pre></div></div></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="try-to-catch-the-error">Try to Catch the Error<a href="#try-to-catch-the-error" class="hash-link" aria-label="Direct link to Try to Catch the Error" title="Direct link to Try to Catch the Error" translate="no">​</a></h2>
<p>Using <code>Write</code> is a great and simple solution, but it will work only if the code runs correctly. And sometimes it won&#x27;t. For those cases, add a Try-Catch block. Check the Response tab below to compare the difference between standard <code>Write(response)</code> and writing the caught error.</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Request</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Response</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">GET request to invalid URL within Try/Catch block</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">runat</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">server</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript maybe-class-name">Platform</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Load</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Core&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> debugging </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@function</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> debugValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@description</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> Outputs provided description and SSJS value to front-end in a type-safe &amp; consistent way</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token script language-javascript doc-comment comment class-name" style="color:#999988;font-style:italic">string</span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">description</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> - Describes meaning of the second parameter in the output</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token script language-javascript doc-comment comment class-name operator" style="color:#393A34;font-style:italic">*</span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">value</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> - The value that needs to be debugged</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    */</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">debugValue</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">description</span><span class="token script language-javascript parameter punctuation" style="color:#393A34">,</span><span class="token script language-javascript parameter"> value</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Write</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">description </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;: &#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript keyword" style="color:#00009f">typeof</span><span class="token script language-javascript"> value </span><span class="token script language-javascript operator" style="color:#393A34">==</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;object&#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">?</span><span class="token script language-javascript"> </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Stringify</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">value</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> value</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;&lt;br&gt;&lt;br&gt;&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// Try/Catch Block with error Write</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">try</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:#36acaa">HTTP</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Get</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;http://www.example.c&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">catch</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">error</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">debugging</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">debugValue</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;1. Error caught&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> error</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// Standard Write</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">debugging</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">debugValue</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;2. Response from example.com&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> response</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Outcome visible on the Website</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">1</span><span class="token plain">. Error caught</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;An error occurred when attempting to evaluate a HTTPGet function call.  See inner exception for details.\r\n  ClientID: 518000476\r\n  JobID: 0\r\n  ListID: 0\r\n  BatchID: 0\r\n  SubscriberID: 0\r\n  URL: http://www.example.c\r\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;ExactTarget.OMM.FunctionExecutionException: An error occurred when attempting to evaluate a HTTPGet function call.  See inner exception for details.\r\n  ClientID: 518000476\r\n  JobID: 0\r\n  ListID: 0\r\n  BatchID: 0\r\n  SubscriberID: 0\r\n  URL: http://www.example.c\r\n  Error Code: OMM_FUNC_EXEC_ERROR\r\n - from Jint --&gt; \r\n\r\n --- inner exception 1---\r\n\r\nExactTarget.OMM.OMMException: An exception occurred when attempting to retrieve content by a HttpGet call.  URL: http://www.example.c\r\n  Error Code: HTTP_WB_RTV\r\n - from OMMCommon --&gt; \r\n\r\n --- inner exception 2---\r\n\r\nSystem.Net.WebException: The remote name could not be resolved: &#x27;www.example.c&#x27; - from System\r\n\r\n\r\n\r\n\r\n\r\n&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">. Response from example.com</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> undefined</span><br></span></code></pre></div></div><p>As you can see, this response is quite long. The most important information is in the last sentence of first paragraph. In this example we learn that <code>System.Net.WebException: The remote name could not be resolved: &#x27;www.example.c&#x27; - from System</code>. It makes it easy to understand that there is issue with the URL we provided.</p><p>You can also see why Try/Catch block is so valuable, as in second paragraph our <code>Write</code> printed <code>undefined</code>, which isn&#x27;t very helpful. This is due to the fact, that because of the invalid URL, the GET did not return to response variable.</p></div></div></div>
<p>Try/Catch is especially useful for SSJS Functions that call out-of-page data. Marketing Cloud Data Extensions, Salesforce Objects or even data sources from outside the Salesforce environment. It also will help when you are handling responses from such sources. For example, trying to get value from a nested object.</p>
<p>In most cases, the simple Try/Catch will be all you need, but there is also a third element that might be very helpful: <code>finally</code>. Its purpose is to store a code that will execute, no matter what. Great for a cleanup code that must run regardless whether the previous logic was successful or not.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Risky code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Code that will be executed if the risky code crashes</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Code that will be executed always</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Out of the three, SSJS requires only Try. You can use it with Catch, Finally or both, depending on your use case.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You should know</div><div class="admonitionContent_BuS1"><p>Try/Catch block in SSJS has separate scope. It means that any <strong>variables declared within the block won&#x27;t be accessible from outside</strong>. Neither in the other parts of SSJS nor by personalization strings.</p><p>There is a way to overcome this limitation. Declare the variables you want to use globally before the <code>try</code> and modify their values within the block:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">runat</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">server</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript maybe-class-name">Platform</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Load</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Core&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> response</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">try</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">        response </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:#36acaa">HTTP</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Get</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;http://www.example.com&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">catch</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">error</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// Error handling logic</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="throw-error">Throw Error<a href="#throw-error" class="hash-link" aria-label="Direct link to Throw Error" title="Direct link to Throw Error" translate="no">​</a></h3>
<p>You can leverage the Try/Catch block further by implementing your custom errors with <code>throw</code>. Why would you break your own code on purpose? It will help you control the execution of the code - especially if it uses external data. It can also be great for debugging and streamlining user experience.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">submissionData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">greCaptcha</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> secret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;XXX&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> payload </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;secret=&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> secret </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&amp;response=&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> submissionData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">greCaptcha</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> contentType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> endpoint </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.google.com/recaptcha/api/siteverify&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HTTP</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">Post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> contentType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> payload</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">StatusCode</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> parsedResponse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Platform</span><span class="token punctuation" style="color:#393A34">.</span><span class="token known-class-name class-name">Function</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">ParseJSON</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">parsedResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">success</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Wrong reCAPTCHA&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;reCAPTCHA API error&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">debugValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;reCaptcha Error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>In the above example, you can see that we are checking whether the response from our reCaptcha validation to know whether we reached the Google server (else we throw <code>reCAPTCHA API error</code>) and if yes - was the Captcha solved.</p>
<p>Here I&#x27;m using the string passed to <code>throw</code> just for debugging purposes, but you can use it for an overlay with feedback to your client or log the error.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_BuS1"><p>You are not limited to strings with the <code>throw</code>. You can also pass objects to mimic the Marketing Cloud errors. It will make error handling much easier:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">StatusCode</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string-property property" style="color:#36acaa">&#x27;message&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;HTTP.Get Error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&#x27;description&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Could not connect to example.com&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="error-logging">Error Logging<a href="#error-logging" class="hash-link" aria-label="Direct link to Error Logging" title="Direct link to Error Logging" translate="no">​</a></h2>
<p>Once you debug your code using the above methods, it is still good to program defensively and leverage the Try/Catch block in the production environment. It will allow you to handle the errors for the customers and log the errors to a data extension (it will provide you with a history of problems along with a description of what happened). You can even build something more sophisticated, like automatically creating a JIRA bug ticket.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="logging-to-data-extension">Logging to Data Extension<a href="#logging-to-data-extension" class="hash-link" aria-label="Direct link to Logging to Data Extension" title="Direct link to Logging to Data Extension" translate="no">​</a></h3>
<p>The easiest way to log your errors is to leverage Marketing Cloud Data Extensions.</p>
<p>My recommendation is to create one Data Extension that will capture all the errors from the whole instance. It will make it much easier and faster to check any new issues.</p>
<p>Here you can find a sample setup:</p>
<table><thead><tr><th>Column Name</th><th>Primary Key</th><th>Length</th><th>Type</th><th>Nullable</th><th>Default Value</th></tr></thead><tbody><tr><td>id</td><td>Yes</td><td>36</td><td>Text</td><td>No</td><td></td></tr><tr><td>errorSource</td><td></td><td>100</td><td>Text</td><td>No</td><td></td></tr><tr><td>errorMessage</td><td></td><td>2000</td><td>Text</td><td>Yes</td><td></td></tr><tr><td>errorDescription</td><td></td><td>2000</td><td>Text</td><td>Yes</td><td></td></tr><tr><td>errorDate</td><td></td><td></td><td>Date</td><td>Yes</td><td>Current Date</td></tr></tbody></table>
<p>If you have multiple Business Units on your instance, add it as a Shared Data Extension.</p>
<p>It shouldn&#x27;t be sendable or testable, but consider adding a retention period. Align it with the internal process for checking it for new issues. Seven days per record is a good starting point.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-error-catching">Global Error Catching<a href="#global-error-catching" class="hash-link" aria-label="Direct link to Global Error Catching" title="Direct link to Global Error Catching" translate="no">​</a></h3>
<p>Instead of writing Try/Catch blocks for every potentially risky function, you might create just one block that will capture the whole code. You can even use it to catch errors in your AMPScript, as described by <a href="https://sfmarketing.cloud/2019/08/09/debugging-ampscript/" target="_blank" rel="noopener noreferrer" title="Blog post on AMPScript Debugging on sfmarketing.cloud" class="">Zuzanna Jarczyńska</a>.</p>
<p>This approach might make your code shorter and more comfortable to read but limit your control over specific handling for various scenarios.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_BuS1"><p>Any redirect within your <code>try</code> block is recognized as an error and caught. If you need to use a redirect, don&#x27;t use the global Try/Catch approach and instead leverage it only for potentially problematic code.</p><p>You can also leverage one of the approaches mentioned by Gortonington in <a href="https://www.howtosfmc.com/articles/the-catches-of-try-catch-in-sfmc-ssjs/" target="_blank" rel="noopener noreferrer" class="">his article on Try/Catch</a>. It might be instrumental when you want to leverage redirect to handle the customer&#x27;s error.</p></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="error-handler-function">Error Handler Function<a href="#error-handler-function" class="hash-link" aria-label="Direct link to Error Handler Function" title="Direct link to Error Handler Function" translate="no">​</a></h2>
<p>Once you start implementing the solutions mentioned above, it might get quite repetitive to add the same lines for conditional <code>Write</code>, log to Data Extension, et cetera.</p>
<p>You can solve it by creating a single Error Handler function and just calling it wherever it is needed:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">runat</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">server</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript maybe-class-name">Platform</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Load</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Core&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> debugging </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@function</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> debugValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@description</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> Outputs provided description and SSJS value to front-end in a type-safe &amp; consistent way</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token script language-javascript doc-comment comment class-name" style="color:#999988;font-style:italic">string</span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">description</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> - Describes meaning of the second parameter in the output</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token script language-javascript doc-comment comment class-name operator" style="color:#393A34;font-style:italic">*</span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">value</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> - The value that needs to be debugged</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    */</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">debugValue</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">description</span><span class="token script language-javascript parameter punctuation" style="color:#393A34">,</span><span class="token script language-javascript parameter"> value</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Write</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">description </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;: &#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript keyword" style="color:#00009f">typeof</span><span class="token script language-javascript"> value </span><span class="token script language-javascript operator" style="color:#393A34">==</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;object&#x27;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">?</span><span class="token script language-javascript"> </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Stringify</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">value</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> value</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;&lt;br&gt;&lt;br&gt;&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@function</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> handleError</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@description</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> If debuging is enabled, outputs the error value. Else, adds the error with context to error logging Data Extension.</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token script language-javascript doc-comment comment class-name" style="color:#999988;font-style:italic">Object</span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">error</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> - The caught error object. Can come from the try/catch block or be manually created.</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token script language-javascript doc-comment comment class-name" style="color:#999988;font-style:italic">string</span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">error</span><span class="token script language-javascript doc-comment comment parameter punctuation" style="color:#393A34;font-style:italic">.</span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">message</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> - First error key stores short error message describing the issue.</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    * </span><span class="token script language-javascript doc-comment comment keyword" style="color:#00009f;font-style:italic">@param</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">{</span><span class="token script language-javascript doc-comment comment class-name" style="color:#999988;font-style:italic">string</span><span class="token script language-javascript doc-comment comment class-name punctuation" style="color:#393A34;font-style:italic">}</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> </span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">error</span><span class="token script language-javascript doc-comment comment parameter punctuation" style="color:#393A34;font-style:italic">.</span><span class="token script language-javascript doc-comment comment parameter" style="color:#999988;font-style:italic">description</span><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic"> - Second error key stores detailed error path helping with root cause analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript doc-comment comment" style="color:#999988;font-style:italic">    */</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">handleError</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">error</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">debugging</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript function" style="color:#d73a49">debugValue</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Found error&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> error</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">else</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// Remember that if your Logging Data Extension is in Shared Folder, you need to add the &quot;ENT.&quot; prefix to name</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript maybe-class-name">Platform</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript known-class-name class-name">Function</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">InsertData</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">                </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Data_Extension_Name&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">                </span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;errorSource&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;errorMessage&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;errorDescription&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">                </span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript constant" style="color:#36acaa">GUID</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;Name of the asset where the script runs&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Stringify</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">error</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">message</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript function maybe-class-name" style="color:#d73a49">Stringify</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">error</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">description</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">try</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:#36acaa">HTTP</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access maybe-class-name" style="color:#d73a49">Get</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;http://www.example.c&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">catch</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">error</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function" style="color:#d73a49">handleError</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">error</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>Whenever the Try/Catch block finds an error, the above snippet will check the value of debugging variable. If it is equal to <code>true</code>, it will just Write the error to the page to make it easier to debug quickly. If it is <code>false</code>, it will add the error to the Data Extension instead.</p>
<p>Most of the Marketing Cloud Errors are objects with two keys: <code>message</code> and <code>description</code>. Putting those elements into separate columns of the Data Extension make it easier to read the log.</p>
<p>Using the Error Handler Function is useful, especially when you are triggering it multiple times or when you have elaborate logic for handling (for example, API calls to external systems for bug tracking).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>You Should Know</div><div class="admonitionContent_BuS1"><p>You can also create your custom error, by passing a custom object to the <code>handleErrror</code> function:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">handleError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Custom Error Message&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Custom Error Description&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div></div></div>
<p>There is also a new solution - <a href="https://github.com/email360/ssjs-lib" target="_blank" rel="noopener noreferrer" class="">SSJS Lib</a> - created by email360. Among other tools, they support <a href="https://docs.email360.io/#console_log" target="_blank" rel="noopener noreferrer" class="">console logging</a> and simplified <a href="https://docs.email360.io/#debug" target="_blank" rel="noopener noreferrer" class="">debugging</a>. You can read more about the implementation <a href="https://blog.email360.io/posts/core/better-debug.html" target="_blank" rel="noopener noreferrer" class="">here</a>.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sum-up">Sum Up<a href="#sum-up" class="hash-link" aria-label="Direct link to Sum Up" title="Direct link to Sum Up" translate="no">​</a></h2>
<p>If you have any problems with your SSJS code:</p>
<ol>
<li class="">Test it in Cloud Page or JSON Code Resource <a href="#ssjs-testing-ground" class="">🔗</a></li>
<li class="">Overcome 500 Error with linting or divide &amp; conquer methodology <a href="#500---internal-server-error" class="">🔗</a></li>
<li class="">Use the <code>Write</code> function to understand what happens with your variables during execution <a href="#write-the-error-down" class="">🔗</a></li>
<li class="">Use the Try/Catch block to understand better what is the reason for errors you encounter <a href="#try-to-catch-the-error" class="">🔗</a></li>
<li class="">Save errors from your production code to easily track and solve the problems <a href="#error-logging" class="">🔗</a></li>
<li class="">Simplify the approach with custom Error Handler Function <a href="#error-handler-function" class="">🔗</a></li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/salesforce/">Salesforce</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/marketing-cloud-engagement/">Marketing Cloud Engagement</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/marketing-automation/">Marketing Automation</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/ssjs/">SSJS</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/debugging/">Debugging</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/cloud-page/">Cloud Page</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/email/">Email</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/MateuszDabrowski/mateuszdabrowski.pl/edit/master/docs/salesforce/marketing-cloud-engagement/ssjs/debugging-ssjs.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-09-04T22:11:47.000Z" itemprop="dateModified">Sep 4, 2025</time></b> by <b>Mateusz Dąbrowski</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/salesforce/marketing-cloud-engagement/ssjs/ssjs-loops/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Loops</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/salesforce/marketing-cloud-engagement/ssjs/ssjs-style-guide/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Style Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ssjs-testing-ground" class="table-of-contents__link toc-highlight">SSJS Testing Ground</a><ul><li><a href="#cloud-page" class="table-of-contents__link toc-highlight">Cloud Page</a></li><li><a href="#json-code-resource" class="table-of-contents__link toc-highlight">JSON Code Resource</a></li><li><a href="#so-where" class="table-of-contents__link toc-highlight">So where?</a></li></ul></li><li><a href="#500---internal-server-error" class="table-of-contents__link toc-highlight">500 - Internal Server Error</a><ul><li><a href="#divide-and-conquer" class="table-of-contents__link toc-highlight">Divide and Conquer</a></li><li><a href="#ssjs-linting" class="table-of-contents__link toc-highlight">SSJS Linting</a></li></ul></li><li><a href="#write-the-error-down" class="table-of-contents__link toc-highlight">Write the Error down</a><ul><li><a href="#debugging-variable" class="table-of-contents__link toc-highlight">Debugging Variable</a></li><li><a href="#console-logging" class="table-of-contents__link toc-highlight">Console Logging</a></li></ul></li><li><a href="#try-to-catch-the-error" class="table-of-contents__link toc-highlight">Try to Catch the Error</a><ul><li><a href="#throw-error" class="table-of-contents__link toc-highlight">Throw Error</a></li></ul></li><li><a href="#error-logging" class="table-of-contents__link toc-highlight">Error Logging</a><ul><li><a href="#logging-to-data-extension" class="table-of-contents__link toc-highlight">Logging to Data Extension</a></li><li><a href="#global-error-catching" class="table-of-contents__link toc-highlight">Global Error Catching</a></li></ul></li><li><a href="#error-handler-function" class="table-of-contents__link toc-highlight">Error Handler Function</a></li><li><a href="#sum-up" class="table-of-contents__link toc-highlight">Sum Up</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">MC Engagement Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/salesforce/marketing-cloud-engagement/zen-of-marketing-cloud/">Zen of SFMC</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/salesforce/marketing-cloud-engagement/config/">Config</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/salesforce/marketing-cloud-engagement/sql/">SQL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/salesforce/marketing-cloud-engagement/ssjs/">SSJS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/salesforce/marketing-cloud-engagement/ampscript/">AMPScript</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Other Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/salesforce/marketing-cloud-personalization/">MC Personalization</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/javascript/">JavaScript</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">My</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sites/newsletter/">Newsletter</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/webinars/">Webinars</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/my-toolset/">Toolset</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/category/ideas/">Ideas</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/category/faq/">FAQ</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sites/licence/">Licence &amp; Attribution</a></li><li class="footer__item"><a class="footer__link-item" href="/sites/privacy/">Privacy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">All views expressed here are my own and are not affiliated with, sponsored, or endorsed by the clients or companies I work for.</div></div></div></footer></div>
</body>
</html>