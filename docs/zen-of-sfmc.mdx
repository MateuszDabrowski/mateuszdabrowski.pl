---
id: zen-of-sfmc
title: Zen of SFMC
description: Salesforce Marketing Cloud implementation, development and operations Best Practices.
image: img/og/og-image-solve-with-cloud--page-apps.png
tags: [Marketing Cloud, Best Practice]
---

import { LeadText } from '../src/components/LeadText.js';

<LeadText content="Salesforce Marketing Cloud implementation, development and operations Best Practices." />

I'm a huge fan of Tim Petter's [PEP20 - Zen of Python](https://www.python.org/dev/peps/pep-0020/). In 19 short lines, he described his recommendations for writing good Python code. The outcome transcended the specific language and I see it as a very universal guide on software engineering.

In this article I share my Salesforce Marting Cloud adaptation and interpretation of this pearl. Expect some modifications to the original text (minimal, as most of the recommendations are perfectly valid for our Marketing Automation world), followed by my comments on how particular lines can be beneficial for SFMC practice.

## Zen of SFMC

```txt
Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Naming conventions counts twice.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
Even when certain, test.
Now is better than never.
Although never is often better than right now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Documentation is one honking great idea - let's do more of it!
```

## Thoughts on Zen

Remember that those recommendations are just that - recommendations. Not strict rules, but rather a set of general - sometimes contradictory - principles, that might help you in your day-to-day work with Salesforce Marketing Cloud.

---

### 1. Beautiful is better than ugly

Beauty might not be the thing that immediately come to mind, when talking about software development and implementation. It might also not be a focus in the world of short deadlines and evergrowing KPIs. However, one should not forget about beauty when deploying Marketing Cloud Solutions.

#### Code

When you are writing code in Salesforce Marketing Cloud - be it [AMPScript](../#ampscript), [SSJS](../#ssjs), [SQL](../#sql), or other - you have a lot of flexibility when it comes to the structure and style. Random indentation, no new line, cryptic variables? All are possible.

But you should strive to not only write the code that works, but also make that code beautiful. It might take a bit longer to write, but it will make your code more readable, easier to debug and understandable to others.

```sql title="Both queries work - which one would you rather read?"
/* Beauty */
SELECT
      wel.SubscriberKey     AS SubscriberKey
    , wel.EmailAddress      AS EmailAddress
    , o.EventDate           AS OpenDate
FROM WelcomeCampaignSegment AS wel
    INNER JOIN _Open        AS o
        ON o.SubscriberKey = wel.SubscriberKey

/* and the Beast */
select a.subscriberkey, a.emailaddress, b.eventdate
from welcomecampaignsegment a join _open b on a.subscriberkey = b.subscriberkey

```

Looking for specific examples on how to make your code beautiful? Check my Style Guides for [AMPScript](../ampscript/ampscript-style-guide/), [SSJS](../ssjs/ssjs-style-guide/), [SQL](../sql/sfmc-sql-style-guide/),

#### Platform

The choice betweem beauty and ugly is not limited to writing the code. The same is true for working with Salesforce Marketing Cloud no-code tools.

Creating a Email Template using Blocks in Content Builder? Sure, you can just drag and drop the empty blocks in proper order and call it a day. But you can also put a bit more work and add sample content with predefined styles to each block, provide palceholder images with stated dimensions and save such elements as separate blocks that can be easily added in case more then one is needed.

Both approaches deliver the Email Template, but the second one does it in a beautiful way that makes using it easier and greatly improves value of the solution.

---

### 2. Explicit is better than implicit

Salesforce Marketing Cloud enables you to decide, whether you want to create things in an explicit or implicit way. Implicit is faster and easier, while explicit is sturdier and better. As Marketing Automation Platform is something that will be used for a while and by many people, it's always worth to spend a bit more effort and go for explicit whenever possible.

#### Code

There are few areas to apply this approach when developing in Marketing Cloud.

The first one - common for all SFMC programming languages - is to follow explicit naming convention for variables, functions and columns. Strive for names that are obvious even for someone who sees the code for the first time. Saving few characters when writing the code is not worth the time lost for deciphering the meaning later.

```js
/* You may know what it means when you write the code */
if (ts && !tsd) tsd = new Date();

/* But everyone else, and even you after a week, will be thankful for explicit names */
if (isTrackingSuppressed && !trackingSuppressionStartDate) trackingSuppressionStartDate = new Date()
```

Read more on good naming in [AMPScript](../ampscript/ampscript-style-guide/#naming-convention), [SSJS](../ssjs/ssjs-style-guide/#naming-convention), [SQL](../sql/sfmc-sql-style-guide/#explicit-vs-implicit).

:::note You Should Know

This can (and should) be taken to the next level with smart use of asset Keys. They are frequently used in your code - especially the Data Extension and Content Block ones. While the default pseudo-random ID does the work, I would recommend going for custom explicit Keys.

If you keep Data Extension Name and Key in sync (it might not be possible with longer names due to Key length limit) you won't have to worry about whether the Data Extension lookup is using the key or name.

But even bigger value is with using smart asset Key values for Content Blocks. It's popular to use those Blocks for AMPScript snippets shared across multiple emails or brand-wide dynamic footers. Frequently they are added to the Email Templates with the help of AMPScript `ContentBlockByID` function. However, as asset collection grows, it will be harder to remember which Content Block has been imported that way.

Here is where explicit Content Block Key and `ContentBlockByKey` functions are helpful:

```js title="Which one would you rather see in your email template?"
%%=ContentBlockByID("123456")=%%
// vs
%%=ContentBlockByKey("SharedFooterEMEA")=%%
```

:::

Another area where you can focus on the explicit in your SFMC development is comments. Yes, explicit naming convention and smart selection of used functions are already great for creating understandable code, but you can make it so much better with adding a bit of context.

It is especially useful for longer scripts that might contain multiple sections responsible for various tasks. Especially with SSJS - with it's functions and JSDoc support - you should strive for explicit comments.

```js title="Even with explicit names, the comments bring clarity"
/**
 * @function debugValue
 * @description Outputs provided description and SSJS value to front-end in a type-safe & consistent way
 * @param {string} description - Describes meaning of the second parameter in the output
 * @param {*} value - The value that needs to be debugged
 */
function debugValue(description, value) {
    Write(description + ': ' + (typeof value == 'object' ? Stringify(value) : value) + '<br><br>');
};
```

Read more on using comments in [SSJS](../ssjs/ssjs-style-guide/#comments) and [AMPScript](../ampscript/ampscript-style-guide/#comments).

#### Platform

Being explicit is not limited to the code. When working with the platform features, you will have a lot of places to improve your solution with a bit of added context.

A lot of assets offer one or more places to add descriptions. Data Extensions, Installed Packages, Automations - or even particular steps of the Automations. Neither of those places require a description, but each and single one will benefit from explicitly stating it's purpose and business or technical context.

There is a lot of small places where Salesforce Marketing Cloud let's you add such details. Path names in Journey Builder Decision Splits. Additional Email Attribute Names in Content Builder. Collection and Cloud Page names in Web Studio. Whenever possible - spend that extra time to create an obvious solution.

---

### 3. Simple is better than complex

Salesforce Marketing Cloud is a complex tool within complex solution ecosystem to solve complex business needs. But the things that you create in it and how you operate should be straightforward. It will make your solution robust, agile and easily understandable.

This recommendation is also known under a popular acronym: __KISS__ (Keep It Simple ~~Stupid~~ Salesforce). In short, it suggest to create solutions as simple as possible without sacrificing other values (like readability or performance).

There is also yet another acronym connected to that principle: __YAGNI__ (You Aren't Gonna Need It). This Extreme Programming mantra adds another perspective to approaching simplicity, by stating that when creating the solution, you should create only solutions that are necessary. Everything else is just a bloat, that makes solution more convoluted and error-prone.

#### Code

This simplicity based focus is useful already when you are yet to select the best programming language to do the job. Sure, SSJS is much more powerful and flexible than AMPScript, but unless you have a specific need for this power (YAGNI) you should go for the simpler solution (KISS). Read more on selecting SSJS vs AMPScript [here](../ssjs/ssjs-vs-ampscript-performance/#ampscript-vs-ssjs).

Once you selected the best language for the job, you will have to decide on how to deliver the required solution. And here again both simplicity will be useful guideline helping you write better code. Yes, you can create universal SSJS API wrapper class, but if your script only needs to update Salesforce objects, [built-in AMPScript functions](../ssjs/ssjs-snippet-ampscript-in-ssjs/) will be enough (YAGNI) and much simpler (KISS).

Think about those two acronyms whenever you are coding anything and it will help you drive simpler and better solutions.

```sql title="Simplify whenever possible"
SELECT
      SubscriberKey
    , CASE
        WHEN DateJoined >= DATEADD(MONTH, -1, GETDATE())    THEN 1
        WHEN DateJoined < DATEADD(MONTH, -1, GETDATE())     THEN 0
      END AS IsNewJoiner
FROM Ent._Subscribers
/* When you only need two opposite CASE rules, simple IIF shorthand is better */
SELECT
      SubscriberKey
    , IIF(DateJoined >= DATEADD(MONTH, -1, GETDATE()), 1, 0) AS IsNewJoiner
FROM Ent._Subscribers
```

#### Platform

This two step approach - limiting the scope (YAGNI) and selecting the easiest solution to deliver it (KISS) - can be applied to no-code solutions as well:

- When creating an email, ask yourself whether you have a specific need requiring custom HTML. If not, go for a simple Drag & Drop Blocks Template.

- When creating a segment, ask yourself whether you need multiple data sources or calculated data. If not, go for a simple filtered data extension.

- When creating an automation, ask yourself whether you need all those activities in a single process. If not, split it into multiple single-purpose Automations.

There are countless places in Salesforce Marketing Cloud where this approachc an be applied to the benefit of the final solution.

---

### 4. Complex is better than complicated

It might sound contradictory to what the [Simple is better than complex](#3-simple-is-better-than-complex) recommendation just covered, but there is method in this madness. There is a limit to what can be simplified and once you get past, it starts getting complicated. Sometimes complex is the lesser evil.

#### Code

We can leverage yet another popular acronym to showcase real-life application: __DRY__ (Don't Repeat Yourself).

#### Platform

sql vs multiple filtered data extensions

---

### 5. Flat is better than nested

#### Code

loop throw columns of rows example?

#### Platform

journey builder multiple decision splits

---

### 6. Sparse is better than dense

#### Code

```js title="Just because it works, doesn't mean it's worth it"
var region = country == 'UK' ? 'EMEA' : country == 'PL' ? 'EMEA' : country == 'US' ? 'AMER' : 'APAC';
/* Chained ternary operator above might be shorter, but its definitely not readable.
Making it more sparse is not only easier for the readars but also futureproof */
var region;
if (country == 'UK' || country == 'PL') {
    region = 'EMEA';
} else if (country == 'US') {
    region = 'AMER';
} else {
    region = 'APAC';
};
```


#### Platform

---

### 7. Readability counts

#### Code

#### Platform

---

### 8. Naming conventions counts twice

#### Code

#### Platform

---

### 9. Special cases aren't special enough to break the rules

#### Code

#### Platform

---

### 10. Although practicality beats purity

#### Code

#### Platform

---

### 11. Errors should never pass silently

#### Code

#### Platform

---

### 12. Unless explicitly silenced

#### Code

#### Platform

---

### 13. In the face of ambiguity, refuse the temptation to guess

#### Code

#### Platform

---

### 14. Even when certain, test

#### Code

#### Platform

---

### 15. Now is better than never

#### Code

#### Platform

---

### 16. Although never is often better than right now

#### Code

#### Platform

---

### 17. If the implementation is hard to explain, it's a bad idea

#### Code

#### Platform

---

### 18. If the implementation is easy to explain, it may be a good idea

#### Code

#### Platform

---

### 19. Documentation is one honking great idea - let's do more of it!

#### Code

#### Platform

---

## Sum Up