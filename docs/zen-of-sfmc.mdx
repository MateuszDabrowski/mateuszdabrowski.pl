---
id: zen-of-sfmc
title: Zen of SFMC
description: Salesforce Marketing Cloud implementation, development and operations Best Practices.
image: img/og/og-image-solve-with-cloud--page-apps.png
tags: [Marketing Cloud, Best Practice]
---

import { LeadText } from '../src/components/LeadText.js';

<LeadText content="Salesforce Marketing Cloud implementation, development and operations Best Practices." />

I'm a huge fan of Tim Petter's [PEP20 - Zen of Python](https://www.python.org/dev/peps/pep-0020/). In 19 short lines, he described his recommendations for writing good Python code. The outcome transcended the specific language and I see it as a very universal guide on software engineering.

In this article I share my Salesforce Marting Cloud adaptation and interpretation of this pearl. Expect some modifications to the original text (minimal, as most of the recommendations are perfectly valid for our Marketing Automation world), followed by my comments on how particular lines can be beneficial for SFMC practice.

## Zen of SFMC

```txt
Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Naming conventions counts twice.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
Even when certain, test.
Now is better than never.
Although never is often better than right now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Documentation is one honking great idea - let's do more of it!
```

## Thoughts on Zen

Remember that those recommendations are just that - recommendations. Not strict rules, but rather a set of general principles that might help you in your day-to-day work with Salesforce Marketing Cloud.

### Beautiful is better than ugly

Beauty might not be the thing that immediately come to mind, when talking about software development and implementation. It might also not be a focus in the world of short deadlines and evergrowing KPIs. However, one should not forget about beauty when deploying Marketing Cloud Solutions.

#### Code

When you are writing code in Salesforce Marketing Cloud - be it [AMPScript](../#ampscript), [SSJS](../#ssjs), [SQL](../#sql), or other - you have a lot of flexibility when it comes to the structure and style. Random indentation, no new line, cryptic variables? All are possible.

But you should strive to not only write the code that works, but also make that code beautiful. It might take a bit longer to write, but it will make your code more readable, easier to debug and understandable to others.

```sql title="Both queries work - which one would you rather read?"
/* Beauty */
SELECT
      wel.SubscriberKey     AS SubscriberKey
    , wel.EmailAddress      AS EmailAddress
    , o.EventDate           AS OpenDate
FROM WelcomeCampaignSegment AS wel
    INNER JOIN _Open        AS o
        ON o.SubscriberKey = wel.SubscriberKey

/* and the Beast */
select a.subscriberkey, a.emailaddress, b.eventdate
from welcomecampaignsegment a join _open b on a.subscriberkey = b.subscriberkey

```

Looking for specific examples on how to make your code beautiful? Check my Style Guides for [AMPScript](../ampscript/ampscript-style-guide/), [SSJS](../ssjs/ssjs-style-guide/), [SQL](../sql/sfmc-sql-style-guide/),

#### Platform

The choice betweem beauty and ugly is not limited to writing the code. The same is true for working with Salesforce Marketing Cloud no-code tools.

Creating a Email Template using Blocks in Content Builder? Sure, you can just drag and drop the empty blocks in proper order and call it a day. But you can also put a bit more work and add sample content with predefined styles to each block, provide palceholder images with stated dimensions and save such elements as separate blocks that can be easily added in case more then one is needed.

Both approaches deliver the Email Template, but the second one does it in a beautiful way that makes using it easier and greatly improves value of the solution.

### Explicit is better than implicit

Salesforce Marketing Cloud enables you to decide, whether you want to create things in an explicit or implicit way. Implicit is faster and easier, while explicit is sturdier and better. As Marketing Automation Platform is something that will be used for a while and by many people, it's always worth to spend a bit more effort and go for explicit whenever possibke.

#### Code

There are multiple areas for this rule to be used when developing in Marketing Cloud.

##### 1. Explicit naming conventions

The first one - common for all programming languages of SFMC - is to follow explicit naming convention for variables, functions and columns. Strive for names that are obvious even for someone who sees the code for the first time. Saving few characters when writing the code is not worth the time lost later for deciphering the meaning.

```js
/* You may know now what it means */
if (ts && !tsd) tsd = new Date();

/* But everyone else and even you after a week will be thankful for explicit names */
if (isTrackingSuppressed && !trackingSuppressionStartDate) trackingSuppressionStartDate = new Date()
```

Read more on good naming in [AMPScript](../ampscript/ampscript-style-guide/#naming-convention), [SSJS](../ssjs/ssjs-style-guide/#naming-convention), [SQL](../sql/sfmc-sql-style-guide/#meaningful-column-names).

:::note You Should Know

This can (and should) be taken to the next level with smart use of asset Keys. They are frequently used in your code - especially the Data Extension and Content Block ones. While the default pseudo-random ID does the work, I would recommend going for custom explicit Keys.

If you keep Data Extension Name and Key in sync (it might not be possible with longer names due to Key length limit) you won't have to worry about whether the Data Extension lookup is using the key or name.

But even bigger value is with using smart asset Key values for Content Blocks. It's popular to use those Blocks for AMPScript snippets shared across multiple emails or brand-wide dynamic footers. Frequently they are added to the Email Templates with the help of AMPScript `ContentBlockByID` function. However, as asset collection grows, it will be harder to remember which Content Block has been imported that way.

Here is where explicit Content Block Key and `ContentBlockByKey` functions are helpful:

```js
%%=ContentBlockByID("123456")=%%
/* Which one would you rather see in your email template? */
%%=ContentBlockByKey("SharedFooterEMEA")=%%
```

:::

##### 2. Explicit functions

Marketing Cloud programmatic languages offer vast selection of functions and most things can be achieved in multiple ways. There are also a lot of shorthands and simplified notations that you can leverage to make your code shorter.

Many of those are great, but always consider whether it is worth in the specific scenario. It's especially important when writing loosly-typed and flexible SSJS.

```sql title="Not all shorthands are bad"
SELECT
      SubscriberKey
    , CASE
        WHEN DateJoined >= DATEADD(MONTH, -1, GETDATE())    THEN 1
        WHEN DateJoined < DATEADD(MONTH, -1, GETDATE())     THEN 0
      END AS IsNewJoiner
FROM Ent.Subscribers
/* Above query can be written with IIF shorthand and still be explicit */
SELECT
      SubscriberKey
    , IIF(DateJoined >= DATEADD(MONTH, -1, GETDATE()), 1, 0) AS IsNewJoiner
FROM Ent.Subscribers
```


#### Platform

### Simple is better than complex

#### Code

#### Platform

### Complex is better than complicated

#### Code

#### Platform

### Flat is better than nested

#### Code

#### Platform

### Sparse is better than dense

#### Code

```js title="But sometime they create more problems than they solved"
var region = country == 'UK' ? 'EMEA' : country == 'PL' ? 'EMEA' : country == 'US' ? 'AMER' : 'APAC';
/* Chained ternary operator above might be shorter, but its definitely not readable */
var region;
if (country == 'UK' || country == 'PL') {
    region = 'EMEA';
} else if (country == 'US') {
    region = 'AMER';
} else {
    region = 'APAC';
};
```


#### Platform

### Readability counts

#### Code

#### Platform

### Naming conventions counts twice

#### Code

#### Platform

### Special cases aren't special enough to break the rules

#### Code

#### Platform

### Although practicality beats purity

#### Code

#### Platform

### Errors should never pass silently

#### Code

#### Platform

### Unless explicitly silenced

#### Code

#### Platform

### In the face of ambiguity, refuse the temptation to guess

#### Code

#### Platform

### Even when certain, test

#### Code

#### Platform

### Now is better than never

#### Code

#### Platform

### Although never is often better than right now

#### Code

#### Platform

### If the implementation is hard to explain, it's a bad idea

#### Code

#### Platform

### If the implementation is easy to explain, it may be a good idea

#### Code

#### Platform

### Documentation is one honking great idea - let's do more of it!

#### Code

#### Platform

## Sum Up